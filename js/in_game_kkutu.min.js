/**
Rule the words! KKuTu Online
Copyright (C) 2017 JJoriping(op@jjo.kr)

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see <http://www.gnu.org/licenses/>.
*/


function onSpace(a){32==a.keyCode&&($stage.chatBtn.trigger("click"),a.preventDefault())}function drawList(){var a=$data._list.slice($data.chain),b=$data.room.opts.proverb?1:5,c="",d=a[0].length;d>=20&&(c="18px"),d>=50&&(c="15px"),$stage.game.display.css("font-size",c),a[0]="<label style='color: #FFFF44;'>"+a[0]+"</label>",$stage.game.display.html(a.slice(0,b).join(" ")),$stage.game.chain.show().html($data.chain),$(".jjo-turn-time .graph-bar").width("100%").html(a.slice(b,2*b).join(" ")).css({"text-align":"center","background-color":"#70712D"})}function restGoing(a){$(".jjo-turn-time .graph-bar").html(a+L.afterRun),a>0&&addTimeout(restGoing,1e3,a-1)}function drawSpeed(a){var b;for(b in a)$("#game-user-"+b+" .game-user-score").empty().append($("<div>").css({float:"none",color:"#4444FF","text-align":"center"}).html(a[b]+"<label style='font-size: 11px;'>"+L.kpm+"</label>"))}function isSlow(){return slow}function zeroPadding(a,b){try{var c=a.toString();return"000000000000000".slice(0,Math.max(0,b-c.length))+c}catch(b){return a}}function send(a,b,c){var d,e={type:a},f=c?ws:rws||ws;for(d in b)e[d]=b[d];if($data._talkValue!=e.value||$data.place)$data._sameTalk=0;else if(++$data._sameTalk>=4&&spamCount++>1.3)return notice("같은 말을 빠르게 입력하는 것은 타 사용자에게 피해를 줄 수 있습니다.");if($data._talkValue=e.value,"talk"==a&&""==$data.users[$data.id].nickname)return ws.close();if("talk"==a&&spamCount++>10){if(++spamWarning>=3)return notice("채팅을 천천히 해 주세요.");spamCount=5}f.send(JSON.stringify(e))}function loading(a){a?$("#Intro").is(":visible")?($stage.loading.hide(),$("#intro-text").html(a)):$stage.loading.show().html(a):$stage.loading.hide()}function showDialog(a,b){var c=[$(window).width(),$(window).height()];return!b&&a.is(":visible")?(a.hide(),!1):($(".dialog-front").removeClass("dialog-front"),a.show().addClass("dialog-front").css({left:.5*(c[0]-a.width()),top:.5*(c[1]-a.height())}),!0)}function getBGMno(a){var b;switch(a){case"og":b=0;break;case"1st":b=1;break;case"2nd":b=2;break;default:b=0}return b}function do_enhance(a){$stage.dialog.enhance.hide(),$.post("/enhance/"+a,function(a){return updateMe(),a.error?fail(a.error):a.fail?(playSound("fail"),$data.users[$data.id].data.money=a.money,$data.users[$data.id].money=a.money,updateMe(),pfAlert(L["enhance_"+a.fail])):a.result&&200==a.result?($data.users[$data.id].data.money=a.money,$data.users[$data.id].money=a.money,playSound("success"),$data.users[$data.id].enhance=a.data,drawMyDress(),updateMe(),pfAlert("강화 성공!!")):void 0})}function applyOptions(a){var b=($data.muteBGM,$data.muteEff,{lv:$data.opts.su,tm:$data.opts.rv});$data.opts=a,$data.muteBGM=$data.opts.mb,$data.muteEff=$data.opts.me,$("#mute-bgm").attr("checked",$data.muteBGM),$("#mute-effect").attr("checked",$data.muteEff),$("#deny-invite").attr("checked",$data.opts.di),$("#deny-whisper").attr("checked",$data.opts.dw),$("#deny-friend").attr("checked",$data.opts.df),$("#auto-ready").attr("checked",$data.opts.ar),$("#sort-user").attr("checked",$data.opts.su),$("#only-waiting").attr("checked",$data.opts.ow),$("#only-unlock").attr("checked",$data.opts.ou),$("#manlep-exp").attr("checked",$data.opts.ml),$("#req-exp").attr("checked",$data.opts.rq),$("#jang-moon").attr("checked",$data.opts.jm),$("#mis-sion").attr("checked",$data.opts.ms),$("#yok-seol").attr("checked",$data.opts.bw),$("#deny-mention").attr("checked",$data.opts.mc),$("#dizzy-off").attr("checked",$data.opts.dz),$("#pink-bgm").val($data.opts.bg).attr("selected","selected"),$("#pink-theme").val($data.opts.th).attr("selected","selected"),$("#sort-nick").attr("checked",!$data.opts.su),$("#deny-keyword").attr("checked",$data.opts.kw),$("#ka-word").attr("checked",$data.opts.wd),$("#ka-icld").attr("checked",!$data.opts.wd),$("#dt-gs").attr("checked",$data.opts.dt),$("#dt-wb").attr("checked",!$data.opts.dt),"dark"==$data.opts.th?($(".Product").css({"background-color":"#363636"}),$(".Product").css({color:"#F0F0F0"}),$(".product-title").css({"background-color":"#303030"}),$("#ct.product-title").css({color:"#F0F0F0"}),$("#ct.product-title").css({"background-color":"#303030"}),$(".product-title").css({color:"#F0F0F0"}),$("#ct.product-title").css({"border-bottom-color":"#363636"}),$(".product-title").css({"border-bottom-color":"#363636"}),$(".room-user").css({"box-shadow":"0px 1px 1px #363636","background-color":"#303030"}),$("#Talk").css({"border-color":"#303030","background-color":"#363636",color:"#F0F0F0"})):($(".Product").css({"background-color":"#EEEEEE"}),$(".Product").css({color:"#111111"}),$("#ct.product-title").css({color:"#222222"}),$(".product-title").css({color:"#222222"}),$("#ct.product-title").css({"background-color":"#DDDDDD"}),$(".product-title").css({"background-color":"#DDDDDD"}),$("#ct.product-title").css({"border-bottom-color":"#CCCCCC"}),$(".product-title").css({"border-bottom-color":"#CCCCCC"}),$(".room-user").css({"box-shadow":"0px 1px 1px #777777","background-color":"#E4E4E4"}),$("#Talk").css({"border-color":"#AAA","background-color":"#FFFFFF",color:"#000000"})),$(".room-user").removeClass(".light-hover"),$(".room-user").removeClass(".dark-hover"),$(".room-user").addClass($data.opts.th+"-hover"),$data.bgm&&($data.muteBGM?($data.bgm.volume=0,$data.bgm.stop()):($data.bgm.volume=1,$data.bgm=playBGM($data.opts.bg,!0))),b.lv!=$data.opts.su&&updateUserList(!0),b.tm!=$data.opts.rv&&updateRoomList(!0),updateMe()}function fullt(a){if(a.getHours()<10)var b="0"+String(a.getHours());else var b=String(a.getHours());if(a.getMinutes()<10)var c="0"+String(a.getMinutes());else var c=String(a.getMinutes());if(a.getSeconds()<10)var d="0"+String(a.getSeconds());else var d=String(a.getSeconds());return b+":"+c+":"+d}function pfJeje(a,b){if(noPF=!0,$("#Jejed").animate({opacity:0},1),$("#Jejed").show(),$("#Jejed").animate({opacity:1},1e3),"F"==b)var c="무기한";else{b=new Date(Number(b));var d=b.getMonth()+1,c=b.getFullYear()+"년 "+d+"월 "+b.getDate()+"일 ";c+=fullt(b)+" 까지"}var e="<b>운영정책 위반으로 제재되었습니다.</b><br><br>제재 사유: "+a+"<br>제재 기간: "+c;$("#pjeje-content").html(e),showDialog($stage.dialog.pJeje,!0),$stage.dialog.pAlertOK.trigger("click")}function pfAlert(a){a=a.replace(/\n/g,"<br>"),$("#palert-content").html(a),showDialog($stage.dialog.pAlert,!0)}function pfConfirm(a,b,c){b&&($("#pconfirm-content").html(a),$stage.dialog.pConfirm.is(":visible")&&$stage.dialog.pNo.trigger("click"),showDialog($stage.dialog.pConfirm,!0),fnc=b,jnc=c||function(){})}function sPI(a,b){a&&$("#pinput-in").show(),a||$("#pinput-in").hide(),b&&$("#pinput-pass").show(),b||$("#pinput-pass").hide()}function pfHand(a,b,c){$("#phand-content").html(a),$stage.dialog.pHand.is(":visible")&&($stage.dialog.pHand.hide(),phReset()),lnc=b,rnc=c,showDialog($stage.dialog.pHand,!0)}function setDef(a,b){$("#pinput-in").val(a)}function pfInput(a,b,c,d,e){b&&($("#pinput-content").html(a),d?sPI(!1,!0):sPI(!0,!1),$("#pinput-in").val(""),$("#pinput-pass").val(""),e&&$("#pinput-in").val(e),$stage.dialog.pInput.is(":visible")&&$stage.dialog.piNo.trigger("click"),showDialog($stage.dialog.pInput,!0),ync=b,nnc=c||function(){})}function pnInput(a,b,c){b&&($("#ninput-content").html(a),$("#ninput-in").val(""),$stage.dialog.nInput.is(":visible")&&$stage.dialog.niNo.trigger("click"),showDialog($stage.dialog.nInput,!0),inc=b,knc=c||function(){})}function piReset(){ync=function(){},nnc=function(){}}function pcReset(){fnc=function(){},jnc=function(){}}function phReset(){rnc=function(){},lnc=function(){}}function niReset(){inc=function(){},knc=function(){}}function checkInput(){}function addInterval(a,b,c,d,e,f,g){var h=_setInterval(a,b,c,d,e,f,g);return $data._timers.push(h),h}function addTimeout(a,b,c,d,e,f,g){var h=_setTimeout(a,b,c,d,e,f,g);return $data._timers.push(h),h}function clearTrespasses(){return}function route(a,b,c,d,e,f){if($data.room){var g=RULE[MODE[$data.room.mode]];if(!g)return null;$lib[g.rule][a].call(this,b,c,d,e,f)}}function connectToRoom(a,b){var c=$data.URL.replace(/:(\d+)/,function(b,c){return":"+(Number(c)+416+Number(a)-1)})+"&"+a+"&"+b;rws||(rws=new _WebSocket(c),loading(L.connectToRoom+"\n<center><button id='ctr-close'>"+L.ctrCancel+"</button></center>"),$("#ctr-close").on("click",function(){loading(),rws&&rws.close()}),rws.onopen=function(c){console.log("room-conn",a,b),setTimeout(eNotice,200)},rws.onmessage=_onMessage,rws.onclose=function(c){console.log("room-disc",a,b),rws=void 0},rws.onerror=function(a){console.warn(L.error,a)})}function checkAge(){if(!confirm(L.checkAgeAsk))return send("caj",{answer:"no"},!0);for(;;){for(var a=[],b=1;b<=3;){var c=prompt(L["checkAgeInput"+b]);if(c&&!isNaN(c=Number(c)))1==b&&(c<1e3||c>2999)?alert(c+"\n"+L.checkAgeNo):2==b&&(c<1||c>12)?alert(c+"\n"+L.checkAgeNo):3==b&&(c<1||c>31)?alert(c+"\n"+L.checkAgeNo):a[b++-1]=c;else if(--b<1)break}if(4==b){if(confirm(L.checkAgeSure+"\n"+a[0]+L.YEAR+" "+a[1]+L.MONTH+" "+a[2]+L.DATE))return send("caj",{answer:"yes",input:[a[1],a[2],a[0]]},!0)}else if(confirm(L.checkAgeCancel))return send("caj",{answer:"no"},!0)}}function onMessage(a){function b(a){ws.send(JSON.stringify({type:"recaptcha",token:a}))}var c,d;switch(a.type){case"recaptcha":var e=$("#intro-text");e.empty(),e.html("게스트는 캡챠 인증이 필요합니다.<br/>로그인을 하시면 캡챠 인증을 건너뛰실 수 있습니다.<br/><br/>"),e.append($('<div class="g-recaptcha" id="recaptcha" style="display: table; margin: 0 auto;"></div>')),grecaptcha.render("recaptcha",{sitekey:a.siteKey,callback:b});break;case"welcome":$data.id=a.id,$data.guest=a.guest,$data.admin=a.admin,$data.users=a.users,$data.robots={},$data.rooms=a.rooms,$data.place=0,$data.friends=a.friends,$data._friends={},$data._playTime=a.playTime,$data._okg=a.okg,$data._gaming=!1,$data.box=a.box,a.test&&pfAlert(L.welcomeTestServer),location.hash[1]&&tryJoin(location.hash.slice(1)),updateUI(void 0,!0);var f=Math.floor(4*Math.random())+1;notice(L["tip_"+f],"[TIP]"),welcome(),a.caj&&checkAge(),updateCommunity();break;case"conn":$data.setUser(a.user.id,a.user),updateUserList();break;case"disconn":$data.setUser(a.id,null),updateUserList();break;case"connRoom":if($data._preQuick&&(playSound("success"),$stage.dialog.quick.hide(),delete $data._preQuick),$stage.dialog.quick.hide(),$data.setUser(a.user.id,a.user),d=$data.usersR[a.user.id]=a.user,d.id==$data.id)loading();else try{var g=$data.users[d.profile.id].nickname;notice(g+L.hasJoined)}catch(a){notice("#"+d.profile.id+L.hasJoined)}updateUserList();break;case"disconnRoom":if(d=$data.usersR[a.id]){delete $data.usersR[a.id];try{var g=$data.users[d.profile.id].nickname;notice(g+L.hasLeft)}catch(a){notice("#"+d.profile.id+L.hasLeft)}updateUserList()}break;case"yell":yell(a.value),notice(a.value,L.yell);break;case"palert":pfAlert(a.value);break;case"notice":notice(a.value);break;case"dying":yell(L.dying),notice(L.dying,L.yell);break;case"tail":notice(a.a+"|"+a.rid+"@"+a.id+": "+(a.msg instanceof String?a.msg:JSON.stringify(a.msg)).replace(/</g,"&lt;").replace(/>/g,"&gt;"),"tail");break;case"chat":a.notice?notice(L["error_"+a.code]):chat(a.profile||{title:L.robot},a.value,a.from,a.timestamp,a.rainbow);break;case"drawCanvas":$stage.game.canvas&&drawCanvas(a);break;case"roomStuck":rws.close();break;case"preRoom":connectToRoom(a.channel,a.id);break;case"room":processRoom(a),checkRoom(a.modify&&a.myRoom),updateUI(a.myRoom),a.modify&&$data.room&&a.myRoom&&($data._rTitle!=$data.room.title&&animModified(".room-head-title"),$data._rMode!=getOptions($data.room.mode,$data.room.opts,!0)&&animModified(".room-head-mode"),$data._rLimit!=$data.room.limit&&animModified(".room-head-limit"),$data._rRound!=$data.room.round&&animModified(".room-head-round"),$data._rTime!=$data.room.time&&animModified(".room-head-time"));break;case"user":$data.setUser(a.id,a),$data.room&&updateUI($data.room.id==a.place);break;case"friends":$data._friends={};for(c in a.list)a.list[c].forEach(function(a){$data._friends[a]={server:c}});updateCommunity();break;case"friend":$data._friends[a.id]={server:"on"==a.stat&&a.s},$data._friends[a.id]&&$data.friends[a.id]&&notice(("on"==a.stat?"&lt;<b>"+L["server_"+$data._friends[a.id].server]+"</b>&gt; ":"")+L.friend+" "+$data.friends[a.id]+L["fstat_"+a.stat]),updateCommunity();break;case"friendAdd":d=$data.users[a.from].profile,c=(d.title||d.name)+"(#"+a.from.substr(0,5)+")",$data.opts.df?send("friendAddRes",{from:a.from,res:!1},!0):pfConfirm(c+L.attemptFriendAdd,function(){send("friendAddRes",{from:a.from,res:!0},!0)},function(){send("friendAddRes",{from:a.from,res:!1},!0)});break;case"getping":d=$data.users[a.from].profile,c=(d.title||d.name)+"(#"+a.from.substr(0,5)+")",send("getpingRes",{from:a.from,res:!0},!0);break;case"friendAddRes":d=$data.users[a.target].profile,c=(d.title||d.name)+"(#"+a.target.substr(0,5)+")",notice(c+L["friendAddRes_"+(a.res?"ok":"no")]),a.res&&($data.friends[a.target]=d.title||d.name,$data._friends[a.target]={server:$data.server},updateCommunity());break;case"friendEdit":$data.friends=a.friends,updateCommunity();break;case"starting":loading(L.gameLoading);break;case"roundReady":route("roundReady",a);break;case"turnStart":route("turnStart",a);break;case"turnError":turnError(a.code,a.value);break;case"turnHint":route("turnHint",a);break;case"turnEnd":a.score=Number(a.score),a.bonus=Number(a.bonus),$data.room&&($data._tid=a.target||$data.room.game.seq[$data.room.game.turn],$data._tid&&($data._tid.robot&&($data._tid=$data._tid.id),turnEnd($data._tid,a)),a.baby&&playSound("success"));break;case"roundEnd":for(c in a.users)$data.setUser(c,a.users[c]);$data._resultRank=a.ranks,roundEnd(a.result,a.data);break;case"kickVote":$data.id!=a.target&&$data.id!=$data.room.master&&kickVoting(a.target);break;case"kickDeny":notice(getKickText($data._kickTarget.profile,a));break;case"invited":$data.opts.di?send("inviteRes",{from:a.from,res:!1}):pfConfirm(a.from+L.invited,function(){send("inviteRes",{from:a.from,res:!0})},function(){send("inviteRes",{from:a.from,res:!1})});break;case"inviteNo":d=$data.users[a.target];var g=$data.users[d.profile.id].nickname;notice(g+L.inviteDenied);break;case"okg":$data._playTime>a.time?notice(L.okgExpired):$data._okg!=a.count&&notice(L.okgNotice+" ("+L.okgCurrent+a.count+")"),$data._playTime=a.time,$data._okg=a.count;break;case"obtain":queueObtain(a);break;case"pretain":notice("접속 보상으로 "+iName(a.key)+" 아이템이 "+a.q+"개 지급되었습니다");break;case"expired":for(c in a.list)notice(iName(a.list[c])+L.hasExpired);break;case"blocked":notice(L.blocked);break;case"test":($data._test=!$data._test)?($data._testt=addInterval(function(){$stage.talk.val()!=$data._ttv&&(send("test",{ev:"c",v:$stage.talk.val()},!0),$data._ttv=$stage.talk.val())},100),document.onkeydown=function(a){send("test",{ev:"d",c:a.keyCode},!0)},document.onkeyup=function(a){send("test",{ev:"u",c:a.keyCode},!0)}):(clearInterval($data._testt),document.onkeydown=void 0,document.onkeyup=void 0);break;case"error":if(c=a.message||"",401==a.code);else if(403==a.code)loading();else if(406==a.code){if($stage.dialog.quick.is(":visible")){$data._preQuick=!1;break}}else if(409==a.code)c=L["server_"+c];else{if(416==a.code){var h=L.error_416;return h=h.replace(/\n/g,"<br>"),void pfConfirm(h,function(){stopBGM(),$data._spectate=!0,$data._gaming=!0,send("enter",{id:a.target,password:$data._pw,spectate:!0},!0)})}if(413==a.code)$stage.dialog.room.hide(),$stage.menu.setRoom.trigger("click");else if(429==a.code)playBGM($data.opts.bg);else if(430==a.code){if($data.setRoom(a.message,null),$stage.dialog.quick.is(":visible")){$data._preQuick=!1;break}}else if(431==a.code||432==a.code||433==a.code)$stage.dialog.room.show();else if(444==a.code){if(c=a.message,-1!=c.indexOf("생년월일")){alert("생년월일이 올바르게 입력되지 않아 게임 이용이 제한되었습니다. 잠시 후 다시 시도해 주세요.");break}}else if(447===a.code){alert("자동화 봇 방지를 위한 캡챠 인증에 실패했습니다. 메인 화면에서 다시 시도해 주세요.");break}}var i=L["error_"+a.code];i=i.replace(/\n/g,"<br>"),pfAlert("[#"+a.code+"] "+i+c);break;case"slow":slow=a.q;try{var j=$data.users[$data.id].place}catch(a){var j=!1}$("#ct.product-title").html(a.q>=.01&&!j?'<i class="fa fa-comment"></i>채팅  |  <i class="fa fa-clock-o"></i>슬로우 모드 적용 중 / '+String(a.q)+"초":'<i class="fa fa-comment"></i>채팅');break;case"roomslow":rslow=a;try{var j=$data.users[$data.id].place}catch(a){var j=0}$("#ct.product-title").html(a.q>=.01&&j==a.i?'<i class="fa fa-comment"></i>채팅  |  <i class="fa fa-clock-o"></i>슬로우 모드 적용 중 / '+String(a.q)+"초":'<i class="fa fa-comment"></i>채팅');break;case"blackalert":setTimeout(pfJeje(a.reason,a.when),300);break;case"nikc":$data.users[a.usr].nickname=a.value,updateUserList(!0),updateCommunity(!0);break;case"exoc":$data.users[a.usr].exordial=a.value;break;case"roomlist":$data.room=a.val,updateRoomList(!0);break;case"dict":renderDict(a)}$data._record&&recordEvent(a)}function makenewnick(){myst=!1,onnick=!0,$("#Jejed").animate({opacity:0},1),$("#Jejed").show(),$("#Jejed").animate({opacity:1},1e3),$("#Jejed").css({"z-index":2});var a;pfInput(L.nickSet,function(){return null==(a=$("#pinput-in").val())?pfAlert(L.nickWrong):a.length>12?pfAlert(L.nickLong):""==a.replace(/\s/g,"")?pfAlert(L.nickWrong):void 0==a||null==a||""==a?pfAlert(L.nickWrong):/[^a-zA-Z가-힣0-9\s\-\_]/g.test(a)?pfAlert(L.nickWrong):" "==a.substr(0,1)?pfAlert(L.nickWrong):void $.post("/nickname",{data:a},function(b){return b.error?pfAlert(L["error_"+b.error]):(a=a.trim(),pfAlert("닉네임 설정이 완료되었습니다!"),send("nickchange",{prev:""}),$("#account-info").html(a),$data.users[$data.id].nickname=a,updateMe(),$("#room-title").attr("placeholder",a+"님의 방"),updateUserList(!0),$stage.dialog.pInput.hide(),piReset(),onnick=!1,send("refresh"),void $("#Jejed").hide())})},noFunc)}function welcome(){playBGM($data.opts.bg),$("#Intro").animate({opacity:1},1e3).animate({opacity:0},1e3),$("#intro-text").text(L.welcome),addTimeout(function(){$("#Intro").hide()},2e3),$data.admin&&console.log("관리자 모드")}function getKickText(a,b){var c=L.causeMaster;if(b.Y>=b.N){var d=$data.users[a.id].nickname;c+=d+L.kicked}else c+=d+L.kickDenied;return c}function runCommand(a){var b,c,d={"/ㄱ":L.cmd_r,"/나가기":L.cmd_exit,"/관전":L.cmd_sp,"/청소":L.cmd_cls,"/비우기":L.cmd_rmv,"/ㄹ":L.cmd_f,"/ㄷ":L.cmd_e,"/ㄷㄷ":L.cmd_ee,"/무시":L.cmd_wb,"/차단":L.cmd_shut,"/id":L.cmd_id};switch(a[0].toLowerCase()){case"/ㄱ":case"/r":$data.room&&($data.room.master==$data.id?$stage.menu.start.trigger("click"):$stage.menu.ready.trigger("click"));break;case"/관전":case"/sp":case"/spec":$data.room&&!$data.room.gaming&&$stage.menu.spectate.trigger("click");break;case"/나가기":case"/ex":case"/exit":$data.room&&$stage.menu.exit.trigger("click");break;case"/청소":case"/cls":clearChat();break;case"/ㄹ":case"/f":showDialog($stage.dialog.chatLog),$stage.chatLog.scrollTop(999999999);break;case"/귓":case"/ㄷ":case"/e":sendWhisper(a[1],a.slice(2).join(" "));break;case"/답":case"/ㄷㄷ":case"/ee":if($data._recentFrom){sendWhisper($data._recentFrom.replace(/\s/g,""),a.slice(1).join(" "))}else notice(L.error_425);break;case"/무시":case"/wb":toggleWhisperBlock(a[1]);break;case"/차단":case"/shut":toggleShutBlock(a.slice(1).join(" "));break;case"/id":if(a[1]){c=0,a[1]=a.slice(1).join(" ");for(b in $data.users)$data.users[b].nickname==a[1]&&notice("["+ ++c+"] "+b);c||notice(L.error_405)}else notice(L.myId+$data.id);break;case"/remove":case"/비우기":removeChat();break;default:for(b in d)notice(d[b],b)}}function sendWhisper(a,b){b.length&&($data._whisper=a,send("talk",{whisper:a,value:b},!0),chat({title:"→"+a},b,!0))}function toggleWhisperBlock(a){$data._wblock.hasOwnProperty(a)?(delete $data._wblock[a],notice(a+L.wnblocked)):($data._wblock[a]=!0,notice(a+L.wblocked))}function toggleShutBlock(a){$data._shut.hasOwnProperty(a)?(delete $data._shut[a],notice(a+L.userNShut)):($data._shut[a]=!0,notice(a+L.userShut))}function tryDict(a,b,c){var a=a.replace(/[^\sa-zA-Zㄱ-ㅎ0-9가-힣]/g,""),d=a.match(/[ㄱ-ㅎ가-힣]/)?"ko":"en";if(a.length<1)return b({error:404});$data.opts.dt&&2!=c?send("dict",{word:a,lang:d}):$.get("/dict/"+a+"?lang="+d,b)}function processRoom(a){var b,c,d,e;if(a.myRoom=$data.place==a.room.id||a.target==$data.id,a.myRoom){if($target=$data.users[a.target],a.kickVote&&(notice(getKickText($target.profile,a.kickVote)),$target.id==a.id&&alert(L.hasKicked)),-1==a.room.players.indexOf($data.id))$data.room&&$data.room.gaming&&(stopAllSounds(),$data.practicing=!1,$data._gaming=!1,$stage.box.room.height(360),playBGM($data.opts.bg)),$data.users[$data.id].game.ready=!1,$data.users[$data.id].game.team=0,$data.users[$data.id].game.form="J",$stage.menu.spectate.removeClass("toggled"),$stage.menu.ready.removeClass("toggled"),$data.room=null,$data.resulting=!1,$data._players=null,$data._master=null,$data.place=0,a.room.practice&&(delete $data.users[0],$data.room=$data._room,$data.place=$data._place,$data.master=$data.__master,$data._players=$data.__players,delete $data._room);else if(a.room.practice&&!$data.practicing&&($data.practicing=!0,$data._room=$data.room,$data._place=$data.place,$data.__master=$data.master,$data.__players=$data._players),$data.room&&($data._players=$data.room.players.toString(),$data._master=$data.room.master,$data._rTitle=$data.room.title,$data._rMode=getOptions($data.room.mode,$data.room.opts,!0),$data._rLimit=$data.room.limit,$data._rRound=$data.room.round,$data._rTime=$data.room.time),$data.room=a.room,$data.place=$data.room.id,$data.master=$data.room.master==$data.id,a.spec&&a.target==$data.id){if($data._spectate||($data._spectate=!0,clearBoard(),drawRound()),a.boards){$data.selectedRound=1;for(b in a.prisoners){d=b.split(",");for(c in a.boards[d[0]])if(e=a.boards[d[0]][c],e[0]==d[1]&&e[1]==d[2]&&e[2]==d[3]){e[4]=a.prisoners[b];break}}$lib.Crossword.roundReady(a,!0),$lib.Crossword.turnStart(a,!0)}for(b in a.spec)$data.users[b].game.score=a.spec[b]}a.modify||a.target!=$data.id||forkChat()}if(a.target&&$data.users[a.target]&&(-1==a.room.players.indexOf(a.target)?$data.users[a.target].place=0:$data.users[a.target].place=a.room.id),!a.room.practice)if(a.room.players.length){$data.setRoom(a.room.id,a.room);for(b in a.room.readies)$data.users[b]&&($data.users[b].game.ready=a.room.readies[b].r,$data.users[b].game.team=a.room.readies[b].t)}else $data.setRoom(a.room.id,null)}function getOnly(){return $data.place?$data.room.gaming||$data.resulting?"for-gaming":$data.master?"for-master":"for-normal":"for-lobby"}function updateUI(a,b){try{var c=$data.users[$data.id].place}catch(a){var c=!1}var d=c&&c==rslow.i&&rslow.t>=.01,e=!c&&slow>=.01,f=d?rslow.t:slow;$("#ct.product-title").html(d||e?'<i class="fa fa-comment"></i>채팅  |  <i class="fa fa-clock-o"></i>슬로우 모드 적용 중 / '+String(f)+"초":'<i class="fa fa-comment"></i>채팅');var g,h=getOnly();if($data._replay){if(void 0!==a&&!a)return;replayStop()}if(!$data._replay&&("for-gaming"!=h||a)){$data.practicing&&(h="for-gaming"),$(".kkutu-menu button").hide();for(g in $stage.box)$stage.box[g].hide();$stage.box.me.show(),$stage.box.chat.show().width(790).height(190),$stage.chat.height(120),"for-lobby"==h?($data._ar_first=!0,$stage.box.userList.show(),$data._shop||$data._exchange?($stage.box.roomList.hide(),$stage.box.shop.show()):($stage.box.roomList.show(),$stage.box.shop.hide()),updateUserList(b||h!=$data._only),updateRoomList(b||h!=$data._only),updateMe(),$data._jamsu&&(clearTimeout($data._jamsu),delete $data._jamsu)):"for-master"==h||"for-normal"==h?($(".team-chosen").removeClass("team-chosen"),$data.users[$data.id].game.ready||"S"==$data.users[$data.id].game.form?($stage.menu.ready.addClass("toggled"),$(".team-selector").addClass("team-unable")):($stage.menu.ready.removeClass("toggled"),$(".team-selector").removeClass("team-unable"),$("#team-"+$data.users[$data.id].game.team).addClass("team-chosen"),$data.opts.ar&&$data._ar_first&&($stage.menu.ready.addClass("toggled"),$stage.menu.ready.trigger("click"),$data._ar_first=!1)),$data._shop=!1,$data._exchange=!1,$stage.box.room.show().height(360),"for-master"==h&&$stage.dialog.inviteList.is(":visible")&&updateUserList(),updateRoom(!1),updateMe()):"for-gaming"==h&&($data._gAnim&&($stage.box.room.show(),$data._gAnim=!1),$data._shop=!1,$data._exchange=!1,$data._ar_first=!0,$stage.box.me.hide(),$stage.box.game.show(),$(".ChatBox").width(1e3).height(140),$stage.chat.height(70),updateRoom(!0)),$data._only=h,setLocation($data.place),$(".kkutu-menu ."+h).show()}}function animModified(a){$(a).addClass("room-head-modified"),addTimeout(function(){$(a).removeClass("room-head-modified")},3e3)}function checkRoom(a){if($data._players&&$data.room){var b,c,d={}+"",e=$data._players.split(","),f=e.length,g=$data.room.players.length;for(b in e)e[b]==d&&f--;for(b in $data.room.players)$data.room.players[b].robot&&g--;if(a){for(b in e)e[b]!=d&&($data.users[e[b]].game.ready=!1);notice(L.hasModified)}$data._gaming!=$data.room.gaming&&($data.room.gaming?(gameReady(),$data._replay=!1,startRecord($data.room.game.title)):($data._spectate?("b1_gm"!=$data.users[$data.id].equip.STY&&$stage.dialog.resultSave.hide(),$data._spectate=!1,"O"==$data.users[$data.id].game.form&&send("leave"),playBGM($data.opts.bg)):($stage.dialog.resultSave.show(),$data.resulting=!0),clearInterval($data._tTime))),$data._master!=$data.room.master&&(c=$data.users[$data.room.master],notice(c.nickname+L.hasMaster)),$data._players=$data.room.players.toString(),$data._master=$data.room.master,$data._gaming=$data.room.gaming}}function updateMe(){try{var a,b=$data.users[$data.id],c=0,d=getLevel(b.data.score),e=EXP[d-2]||0,f=EXP[d-1],g=d>1e3||b.data.score<0;for(a in b.data.record)c+=b.data.record[a][1];if(renderMoremi(".my-image",b.equip),$(".my-stat-level").replaceWith(getLevelImage(b.data.score,b.equip).addClass("my-stat-level")),void 0!=b.nickname&&null!=b.nickname)var h=b.nickname.replace(/\s/g,"");else var h=b.nickname;void 0!=h&&null!=h&&""!=h||myst&&(myst=!1,makenewnick());var i=0,j=b.data.score<0;i=$data.opts.ml?b.data.score/5e7:(b.data.score-e)/(f-e),$(".my-stat-name").html(b.nickname),$(".my-stat-record").html(L.globalWin+" "+c+L.W),$(".my-stat-ping").html(commify(b.money)+L.ping),$(".my-okg .graph-bar").width($data._playTime%3e5/3e3+"%"),$(".my-okg-text").html(prettyTime($data._playTime)),$(".my-level").html(g?getLevelName(d):L.LEVEL+" "+d),$(".my-gauge .graph-bar").width(190*i);var k=(b.data.score-e)/(f-e)*100;k=k.toFixed(2);var l=b.data.score/5e7*100;l=l.toFixed(2),$data.opts.rq?$(".my-gauge-text").html(j?commify(b.data.score)+" / "+commify(f)+" ["+k+"%]":commify(b.data.score-e)+" / "+commify(f-e)+" ["+k+"%]"):$(".my-gauge-text").html($data.opts.ml?commify(b.data.score)+" / "+commify(5e7)+" ["+l+"%]":commify(b.data.score)+" / "+commify(f)+" ["+k+"%]")}catch(a){}}function prettyTime(a){var b=Math.floor(a/6e4)%60,c=Math.floor(.001*a)%60,d=Math.floor(a/36e5),e=[];return d&&e.push(d+L.HOURS),b&&e.push(b+L.MINUTE),d||e.push(c+L.SECOND),e.join(" ")}function updateUserList(a){var b,c,d,e=0;if($data.opts.su){d=[];for(b in $data.users)e++,d.push($data.users[b]);d.sort(function(a,b){return b.data.score-a.data.score}),a=!0}else{d=[];for(b in $data.users)e++,d.push($data.users[b]);d.sort(function(a,b){return a.nickname>b.nickname?1:b.nickname>a.nickname?-1:0}),a=!0}if($stage.lobby.userListTitle.html("<i class='fa fa-users'></i>&lt;<b>"+L["server_"+$data.server]+"</b>&gt; "+L.UserList.replace("FA{users}","")+" ["+e+L.MN+"]"),$("#UserListDiag .dialog-title").html("<i class='fa fa-users'></i> &lt;<b>"+L["server_"+$data.server]+"</b>&gt; "+L.UserList.replace("FA{users}","")+" ["+e+L.MN+"]"),a){$stage.lobby.userList.empty(),$stage.dialog.inviteList.empty(),$stage.dialog.usRList.empty();for(b in d)c=d[b],c.robot||($stage.lobby.userList.append(userListBar(c)),$stage.dialog.usRList.append(onLUsB(c)),0==c.place&&$stage.dialog.inviteList.append(userListBar(c,!0)))}}function onLUsB(a){if(""!=a.nickname){var b;return b=$("<div>").attr("id","invite-item-"+a.id).addClass("invite-item users-item").append(getLevelImage(a.data.score,a.equip).addClass("users-level")).append($("<div>").addClass("users-name").html(a.nickname)),addonNickname(b,a,!1),b}}function userListBar(a,b){if(""!=a.nickname){var c;return c=b?$("<div>").attr("id","invite-item-"+a.id).addClass("invite-item users-item").append(getLevelImage(a.data.score,a.equip).addClass("users-level")).append($("<div>").addClass("users-name").html(a.nickname)).on("click",function(a){requestInvite($(a.currentTarget).attr("id").slice(12))}):$("<div>").attr("id","users-item-"+a.id).addClass("users-item").append(getLevelImage(a.data.score,a.equip).addClass("users-level")).append($("<div>").addClass("users-name ellipse").html(a.nickname)).on("click",function(a){requestProfile($(a.currentTarget).attr("id").slice(11))}),addonNickname(c,a,!1),c}}function addonNickname(a,b,c){c?a.addClass("x-spectate"):(b.equip.NIK&&a.addClass("x-"+b.equip.NIK),"b1_gm"==b.equip.STY||"b1_ds"==b.equip.STY||"b1_wd"==b.equip.STY?("b1_gm"==b.equip.STY&&a.addClass("x-gm"),"b1_ds"==b.equip.STY&&a.addClass("x-ds"),"b1_wd"==b.equip.STY&&a.addClass("x-wd")):("b1_manlep"==b.equip.BDG&&a.addClass("x-ms"),"b1_master"==b.equip.BDG&&a.addClass("x-mt"),"b1_lv500"==b.equip.BDG&&a.addClass("x-500"),"b1_lv600"==b.equip.BDG&&a.addClass("x-600"),"b1_lv750"==b.equip.BDG&&a.addClass("x-750"),"b1_lv360"==b.equip.BDG&&a.addClass("x-360"),"b1_lv100"==b.equip.BDG&&a.addClass("x-100"),"b1_lv200"==b.equip.BDG&&a.addClass("x-200")))}function updateRoomList(a){function b(a){$stage.menu.newRoom.trigger("click")}var c,d=0;if(a){var e=[];$stage.lobby.roomList.empty();for(c in $data.rooms)e.push($data.rooms[c]);$data.opts.rv?e.sort(function(a,b){return b.id-a.id}):e.sort(function(a,b){return a.id-b.id});for(c in e)$stage.lobby.roomList.append(roomListBar(e[c])),d++}else{$(".rooms-create").remove();for(c in $data.rooms)d++}$stage.lobby.roomListTitle.html(L.RoomList.replace("FA{bars}","<i class='fa fa-bars'></i>")+" ["+d+L.GAE+"]"),d?($(".rooms-gaming").css("display",$data.opts.ow?"none":""),$(".rooms-locked").css("display",$data.opts.ou?"none":"")):$stage.lobby.roomList.append($stage.lobby.createBanner.clone().on("click",b))}function roomListBar(a){var b,c,d=getOptions(a.mode,a.opts),e=!1,f=!1;return a.players.forEach(function(b,c){try{b=$data.users[b]||NULL_USER,a.players[c].robot&&(b.profile={title:L.robot},b.equip={robot:!0}),"b1_gm"==b.equip.STY&&(e=!0),"b1_wd"!=b.equip.STY&&"b1_ds"!=b.equip.STY||(f=!0)}catch(a){console.log(a.toString())}}),e&&f&&(f=!1),b=$("<div>").attr("id","room-"+a.id).addClass("rooms-item").append(c=$("<div>").addClass("rooms-channel channel-"+a.channel).on("click",function(b){requestRoomInfo(a.id)})).append($("<div>").addClass("rooms-number").html(zeroPadding(a.id,3))).append($("<div>").addClass("rooms-title ellipse").text(badWords(a.title))).append($("<div>").addClass("rooms-limit").html(a.players.length+" / "+a.limit)).append($("<div>").width(mobile?220:270).append($("<div>").addClass("rooms-mode").html(d.join(" / ").toString())).append($("<div>").addClass("rooms-round").html(L.rounds+" "+a.round)).append($("<div>").addClass("rooms-time").html(a.time+L.SECOND))).append($("<div>").addClass("rooms-lock").html(a.password?"<i class='fa fa-lock'></i>":"<i class='fa fa-unlock'></i>")).on("click",function(a){a.target!=c.get(0)&&tryJoin($(a.currentTarget).attr("id").slice(5))}),mobile&&(f=!1,e=!1),a.gaming||e||f||b.addClass("rooms-waiting"),!a.gaming||e||f||b.addClass("rooms-gaming"),a.password&&b.addClass("rooms-locked"),a.gaming||!e||f||b.addClass("rooms-waiting-gm"),a.gaming&&e&&!f&&b.addClass("rooms-gaming-gm"),a.gaming&&f&&!e&&b.addClass("rooms-gaming-wu"),a.gaming||!f||e||b.addClass("rooms-waiting-wu"),b}function normalGameUserBar(a){var b,c,d,e=getLevel(a.data.score),f=e>1e3,g=$("<div>").attr("id","game-user-"+a.id).addClass("game-user").append(b=$("<div>").addClass("moremi game-user-image")).append($("<div>").addClass("game-user-title").append(getLevelImage(a.data.score,a.equip).addClass("game-user-level")).append(d=$("<div>").addClass("game-user-name ellipse").html(a.nickname)).append($("<div>").addClass("expl").html(f?getLevelName(e):L.LEVEL+" "+e))).append(c=$("<div>").addClass("game-user-score"));return renderMoremi(b,a.equip),global.expl(g),addonNickname(d,a,!1),a.game.team&&c.addClass("team-"+a.game.team),g}function miniGameUserBar(a){
var b,c,d=$("<div>").attr("id","game-user-"+a.id).addClass("game-user").append($("<div>").addClass("game-user-title").append(getLevelImage(a.data.score,a.equip).addClass("game-user-level")).append(c=$("<div>").addClass("game-user-name ellipse").html(a.nickname))).append(b=$("<div>").addClass("game-user-score"));return a.id==$data.id&&c.addClass("game-user-my-name"),addonNickname(c,a,!1),a.game.team&&b.addClass("team-"+a.game.team),d}function getAIProfile(a){return{title:L["aiLevel"+a]+" "+L.robot,nickname:L["aiLevel"+a]+" "+L.robot,image:"/img/kkutu/robot.png"}}function updateRoom(a){var b,c,d,e,f,g,h,i,j,k=RULE[MODE[$data.room.mode]],l=mobile||k.big?miniGameUserBar:normalGameUserBar,m=!1,n=!0;if(setRoomHead($(".RoomBox .product-title"),$data.room),setRoomHead($(".GameBox .product-title"),$data.room),a){d=$(".GameBox .game-body").empty();for(b in $data.room.game.seq){if(c=$data._replay?$rec.users[$data.room.game.seq[b]]||$data.room.game.seq[b]:$data.users[$data.room.game.seq[b]]||$data.robots[$data.room.game.seq[b].id]||$data.room.game.seq[b],c.robot&&!c.profile&&(c.profile=getAIProfile(c.level),c.nickname=c.profile.title,$data.robots[c.id]=c),$data._replay)try{j=$data.users[c.id]||$data.robots[c.id],c.nickname=j?j.nickname||c.id:c.id}catch(a){c.nickname=c.id}d.append(l(c)),updateScore(c.id,c.game.score||0)}clearTimeout($data._jamsu),delete $data._jamsu}else{d=$(".room-users").empty(),i="S"==$data.users[$data.id].game.form;for(b in $data.room.players)if(c=$data.users[$data.room.players[b]]||$data.room.players[b],c.game){var o=c.game.practice?"/"+L.stat_practice:"",i="S"==c.game.form&&"/"+L.stat_spectate;c.robot&&(c.profile=getAIProfile(c.level),c.nickname=c.profile.title,$data.robots[c.id]=c),d.append($("<div>").attr("id","room-user-"+c.id).addClass("room-user").append(g=$("<div>").addClass("moremi room-user-image")).append($("<div>").addClass("room-user-stat").append(e=$("<div>").addClass("room-user-ready")).append(f=$("<div>").addClass("room-user-team team-"+c.game.team).html($("#team-"+c.game.team).html()))).css("dark"==$data.opts.th?{"box-shadow":"0px 1px 1px #363636","background-color":"#303030"}:{"box-shadow":"0px 1px 1px #777777","background-color":"#E4E4E4"}).append($("<div>").addClass("room-user-title").append(getLevelImage(c.data.score,c.equip).addClass("room-user-level")).append(h=$("<div>").addClass("room-user-name").html(c.nickname))).on("click",function(a){requestProfile($(a.currentTarget).attr("id").slice(10))}).on("mouseenter",function(a){$(this).addClass($data.opts.th+"-hover")}).on("mouseleave",function(a){$(this).removeClass($data.opts.th+"-hover")})),renderMoremi(g,c.equip),i&&f.hide(),c.id==$data.room.master?e.addClass("room-user-master").html(L.master+o+(i||"")):i?e.addClass("room-user-spectate").html(L.stat_spectate+o):c.game.ready||c.robot?(e.addClass("room-user-readied").html(L.stat_ready),c.robot||(m=!0)):c.game.practice?(e.addClass("room-user-practice").html(L.stat_practice),n=!1):(e.html(L.stat_noready),n=!1),addonNickname(h,c,!1)}m&&$data.room.master==$data.id&&n?$data._jamsu||($data._jamsu=addTimeout(onMasterSubJamsu,5e3)):(clearTimeout($data._jamsu),delete $data._jamsu)}$stage.dialog.profile.is(":visible")&&requestProfile($data._profiled)}function onMasterSubJamsu(){notice(L.subJamsu),$data._jamsu=addTimeout(function(){send("leave"),alert(L.masterJamsu)},3e4)}function updateScore(a,b){var c;return(c=$data["_s"+a])?(clearTimeout(c.timer),c.$obj=$("#game-user-"+a+" .game-user-score"),c.goal=b):c=$data["_s"+a]={$obj:$("#game-user-"+a+" .game-user-score"),goal:b,now:0},animateScore(c),$("#game-user-"+a)}function animateScore(a){var b=(a.goal-a.now)*Math.min(1,.01*TICK);b<.1?b=a.goal-a.now:a.timer=addTimeout(animateScore,TICK,a),a.now+=b,drawScore(a.$obj,Math.round(a.now))}function drawScore(a,b){if(b>99999&&b<1e7)var c=zeroPadding(Math.round(.001*b),4)+"k";else if(b>9999999&&b<1e10)var c=zeroPadding(Math.round(1e-6*b),4)+"m";else if(b>9999999999&&b<1e13)var c=zeroPadding(Math.round(1e-9*b),4)+"b";else if(b>9999999999999&&b<1e16)var c=zeroPadding(Math.round(1e-12*b),4)+"t";else var c=zeroPadding(b,5);var d;for(a.empty(),d=0;d<c.length;d++)a.append($("<div>").addClass("game-user-score-char").html(c[d]))}function drawMyDress(a){var b=$("#dress-view"),c=$data.users[$data.id];renderMoremi(b,c.equip),$(".dress-type.selected").removeClass("selected"),$("#dress-type-all").addClass("selected"),$("#dress-exordial").val(c.exordial),$("#dress-nickname").val(c.nickname),drawMyGoods(a||!0)}function renderGoods(a,b,c,d,e){var f,g,h,i,j,k,l=[],m=!0===c;a.empty(),d||(d={});for(k in d)$data.box.hasOwnProperty(d[k])||($data.box[d[k]]={value:0});for(k in $data.box)l.push({key:k,obj:iGoods(k),value:$data.box[k]});l.sort(function(a,b){return a.obj.name<b.obj.name?-1:1});for(k in l)g=l[k].obj,h=l[k].value,i=g.group,"BDG"==i.substr(0,3)&&(i="BDG"),j="Mhand"==i?d.Mlhand==l[k].key||d.Mrhand==l[k].key:d[i]==l[k].key,"number"==typeof h&&(h={value:h}),(h.hasOwnProperty("value")||j)&&(m||-1!=c.indexOf(g.group))&&(a.append(f=$("<div>").addClass("dress-item").append(getImage(g.image).addClass("dress-item-image").html("x"+h.value)).append(explainGoods(g,j,h.expire,!0))),f.attr("id",b+"-"+g._id).on("click",e),j&&f.addClass("dress-equipped"));global.expl(a)}function drawMyGoods(a){var b,c=$data.users[$data.id].equip||{},d=!0===a;$data._avGroup=a,b=!!d||(a||"").split(","),renderGoods($("#dress-goods"),"dress",b,c,function(a){var b=$(a.currentTarget),c=b.attr("id").slice(6),d=iGoods(c),e="CNS"==d.group,f=-1!=AVAIL_EQUIP.indexOf(d.group);d.group;if(a.ctrlKey){if(b.hasClass("dress-equipped"))return fail(426);if(!confirm(L.surePayback+commify(Math.round(.2*(d.cost||0)))+L.ping))return;$.post("/payback/"+c,function(a){if(a.error)return fail(a.error);pfAlert(L.painback),$data.box=a.box,$data.users[$data.id].money=a.money,drawMyDress($data._avGroup),updateUI(!1)})}else if(-1==AVAIL_EQUIP.indexOf(d.group)||a.altKey)if("CNS"==d.group&&a.altKey&&"dictPage"==c){if(!confirm("정말 이 항목을 모두 사용합니까?"))return;var g=$data.users[$data.id];g.data.score;$.post("/cnsall/"+c,function(a){a.exp&&notice(L.obtainExp+": "+commify(a.exp)),a.money&&notice(L.obtainMoney+": "+commify(a.money)),a.cde&&notice("정상적으로 처리되었습니다."),a.gain.forEach(function(a){queueObtain(a)}),$data.box=a.box,$data.users[$data.id].data=a.data,send("refresh");var b=$data.users[$data.id];b=getLevel(b.data.score),l<b&&playSound("lvup"),l<b&&1051==b&&notice("만렙 달성 축하드려요! 지금까지 수고 많으셨습니다. <del>앞으로도 계속 많은 이용 부탁드려요!</del>","만렙 달성!"),drawMyDress($data._avGroup),updateMe()})}else e&&!a.altKey?pfConfirm(L.sureConsume,function(){var a=$data.users[$data.id],b=a.data.score;$.post("/consume/"+c,function(a){var c=getLevel(b);a.exp&&notice(L.obtainExp+": "+commify(a.exp)),a.money&&notice(L.obtainMoney+": "+commify(a.money)),a.gain.forEach(function(a){queueObtain(a)}),$data.box=a.box,$data.users[$data.id].data=a.data,$data.users[$data.id].money=a.mny,send("refresh");var d=$data.users[$data.id],d=getLevel(d.data.score);c<d&&playSound("lvup"),c<d&&1051==d&&notice("만렙 달성 축하드려요! 지금까지 수고 많으셨습니다. <del>앞으로도 계속 많은 이용 부탁드려요!</del>","만렙 달성!"),drawMyDress($data._avGroup),updateMe()})},noFunc):f&&a.altKey&&showEnhance(c);else{if("Mhand"==d.group)return pfHand(L.dressWhichHand,function(){requestEquip(c,!0)},function(){requestEquip(c,0)});requestEquip(c,void 0)}})}function getPercent(a,b){return b<0?(100*a).toFixed(2):(a*lis[b]).toFixed(2)}function getCost(a,b){var c;return c=0,c+=5*(a+1)*(15e3*b),Math.floor(c/2.25)}function showEnhance(a){$.get("/enhance/"+a,function(b){if(b.error)return fail(b.error);var c,d,e=iGoods(a).options;return e.hasOwnProperty("gEXP")||e.hasOwnProperty("gMNY")?(e.hasOwnProperty("gEXP")?c=1:e.hasOwnProperty("gMNY")&&(c=2),b.lv>=10?pfAlert("더 이상 강화할 수 없습니다."):(c&&(1==c?(d="획득 경험치: +"+getPercent(e.gEXP,b.lv-1)+"%p → +"+getPercent(e.gEXP,b.lv)+"%p",e.gEXP):(d="획득 핑: +"+getPercent(e.gMNY,b.lv-1)+"%p → +"+getPercent(e.gMNY,b.lv)+"%p",e.gMNY)),en_info.per=per[b.lv].toFixed(2),en_info.item=a,en_info.ping=b.cost,$("#en-name").html(iName(a)),$("#en-id").html(a),$("#en-level").html(b.lv+"레벨 → "+(b.lv+1)+"레벨"),$("#en-image").css("background-image","url("+iImage(a)+")"),$("#en-percent").html(per[b.lv].toFixed(2)+"%"),$("#en-after").html(d),$("#en-cost").html(b.cost+"핑"),showDialog($stage.dialog.enhance),void 0)):pfAlert("강화가 불가능한 아이템입니다.")})}function requestEquip(a,b){var c=$data.users[$data.id],d=$data.shop[a].group;"Mhand"==d&&(d=b?"Mlhand":"Mrhand"),"BDG"==d.substr(0,3)&&(d="BDG");var e=c.equip[d]==a,f=function(){$.post("/equip/"+a,{isLeft:b},function(a){if(a.error)return fail(a.error);$data.box=a.box,c.equip=a.equip,drawMyDress($data._avGroup),send("refresh"),updateUI(!1)})};pfConfirm(L[e?"sureUnequip":"sureEquip"]+": "+L[a][0],function(){f()})}function drawCharFactory(){function a(){e.html($("<h4>").css("padding-top","8px").width("100%").html(L.cfTray))}function b(){var b,h={WPC:1,WPB:2,WPA:3},j="",k=0;e.empty(),$(".cf-tray-selected").removeClass("cf-tray-selected"),$data._tray.forEach(function(a){b=iGoods(a),j+=a.slice(4),k+=h[a.slice(1,4)],e.append($("<div>").addClass("jt-image").css("background-image","url("+b.image+")").attr("id","cf-tray-"+a).on("click",d)),$("#cf-\\"+a).addClass("cf-tray-selected")}),f.html(L.searching),g.empty(),$stage.dialog.cfCompose.removeClass("cf-composable"),i.html(""),tryDict(j,function(a){var b=!1;if(a.error){if(3!=j.length)return f.html(L["wpFail_"+a.error]);b=!0,f.html(L.cfBlend)}c(j,k,b),$stage.dialog.cfCompose.addClass("cf-composable"),a.error||f.html(processWord(a.word,a.mean,a.theme,a.type.split(",")))},2),""==j&&a()}function c(a,b,c){$.get("/cf/"+a+"?l="+b+"&b="+(c?"1":""),function(a){if(a.error)return fail(a.error);g.empty(),a.data.forEach(function(a){var b=iGoods(a.key),c=a.rate>=1?L.cfRewAlways:(100*a.rate).toFixed(1)+"%";g.append($("<div>").addClass("cf-rew-item").append($("<div>").addClass("jt-image cf-rew-image").css("background-image","url("+b.image+")")).append($("<div>").width(100).append($("<div>").width(100).html(b.name)).append($("<div>").addClass("cf-rew-value").html("x"+a.value))).append($("<div>").addClass("cf-rew-rate").html(c)))}),i.html(L.cfCost+": "+a.cost+L.ping)})}function d(a){var c=$(a.currentTarget).attr("id").slice(8),d=$data._tray.indexOf(c);-1!=d&&($data._tray.splice(d,1),b())}var e=$("#cf-tray"),f=$("#cf-dict"),g=$("#cf-reward"),h=$("#cf-goods"),i=$("#cf-cost");$data._tray=[],f.empty(),g.empty(),i.html(""),$stage.dialog.cfCompose.removeClass("cf-composable"),renderGoods(h,"cf",["PIX","PIY","PIZ"],null,function(a){var c,d=$(a.currentTarget),e=d.attr("id").slice(3),f=$data.box[e],g=0;if($data._tray.length>=7)return fail(435);for(c in $data._tray)$data._tray[c]==e&&g++;f-g>0?($data._tray.push(e),b()):fail(434)}),a()}function drawLeaderboard(a,b,c){var d,e=$stage.dialog.lbTable.empty(),f=a.data[0]?a.data[0].rank:0,g=(a.page||Math.floor(f/15))+1;c?2==c?d="/ranknik?p="+b:1==c&&(d="/ranknik?id="+b):d="/ranknik?p=0",$.get(d,function(b){a.data.forEach(function(a,c){if(null==b.list[c])var d=!0;else var d=!1;if(d)var f=0;else var f=b.list[c].prev;if(f?f-=a.rank+1:f=0,0==f?f="-":f>0?f='<b><font color="red">▲ '+f+"</font></b>":f<0&&(f='<b><font color="blue">▼ '+-1*f+"</font></b>"),d)var g=null;else var g=b.list[c].nick;null==g||void 0==g?g=L.hidden:""==g.replace(/\s/g,"")&&(g=L.hidden),a.score=Number(a.score);var h=getLevel(a.score),i=h>1e3;String($data.id)==String(a.id)?e.append($("<tr>").attr("id","ranking-"+a.id).addClass("ranking-"+(a.rank+1)).addClass("ranking-me").append($("<td>").html(a.rank+1)).append($("<td>").append(getLevelImage(a.score).addClass("ranking-image")).append($("<label>").css("padding-top",2).html(i?getLevelNameS(h):h))).append($("<td>").html(g)).append($("<td>").html(commify(a.score))).append($("<td>").html(f))):e.append($("<tr>").attr("id","ranking-"+a.id).addClass("ranking-"+(a.rank+1)).append($("<td>").html(a.rank+1)).append($("<td>").append(getLevelImage(a.score).addClass("ranking-image")).append($("<label>").css("padding-top",2).html(i?getLevelNameS(h):h))).append($("<td>").html(g)).append($("<td>").html(commify(a.score))).append($("<td>").html(f)))})}),$stage.dialog.lbPage.html(L.page+" "+g),$stage.dialog.lbPrev.attr("disabled",g<=1),$stage.dialog.lbNext.attr("disabled",a.data.length<15),$stage.dialog.lbMe.attr("disabled",!!$data.guest),$data._lbpage=g-1}function drawPingboard(a,b,c){var d,e=$stage.dialog.pbTable.empty(),f=a.data[0]?a.data[0].rank:0,g=(a.page||Math.floor(f/15))+1;c?2==c?d="/pgnik?p="+b:1==c&&(d="/pgnik?id="+b):d="/pgnik?p=0",$.get(d,function(b){a.data.forEach(function(a,c){var d=b.list[c];null==d||void 0==d?d=L.hidden:""==d.replace(/\s/g,"")&&(d=L.hidden),a.score=Number(a.score);var f=getPL(a.score);e.append($("<tr>").attr("id","ping-"+a.id).addClass("ping-"+(a.rank+1)).append($("<td>").html(a.rank+1)).append($("<td>").append(getPImage(a.score).addClass("ping-image")).append($("<label>").css("padding-top",2).html(f))).append($("<td>").html(d)).append($("<td>").html(commify(a.score))))})}),$("#ping-"+$data.id).addClass("ping-me"),$stage.dialog.pbPage.html(L.page+" "+g),$stage.dialog.pbPrev.attr("disabled",g<=1),$stage.dialog.pbNext.attr("disabled",a.data.length<15),$stage.dialog.pbMe.attr("disabled",!!$data.guest),$data._pbpage=g-1}function drawMyeongboard(a,b,c){var d,e=$stage.dialog.mbTable.empty(),f=a.data[0]?a.data[0].rank:0,g=(a.page||Math.floor(f/15))+1;c?2==c?d="/mygnick?p="+b:1==c&&(d="/mygnick?id="+b):d="/mygnick?p=0",$.get(d,function(b){a.data.forEach(function(a,c){var d=b.list[c];null==d||void 0==d?d=L.hidden:""==d.replace(/\s/g,"")&&(d=L.hidden),a.score=Number(a.score);var f=getLevel(a.score),g=f>1e3;e.append($("<tr>").attr("id","myeong-"+a.id).addClass("myeong-"+(a.rank+1)).append($("<td>").html(a.rank+1)).append($("<td>").append(getLevelImage(a.score).addClass("myeong-image")).append($("<label>").css("padding-top",2).html(g?getLevelNameS(f):f))).append($("<td>").html(d)).append($("<td>").html(commify(a.score))))})}),$("#myeong-"+$data.id).addClass("myeong-me"),$stage.dialog.mbPage.html(L.page+" "+g),$stage.dialog.mbPrev.attr("disabled",g<=1),$stage.dialog.mbNext.attr("disabled",a.data.length<15),$stage.dialog.mbMe.attr("disabled",!!$data.guest),$data._mbpage=g-1}function updateKeyword(){var a,b,c,d=0,e=$.cookie("kkw");e&&""!=e?e=decodeURIComponent(e):(c=!0,e=[]);var f=c?e:e.split(",");$stage.dialog.keywords.empty();for(a in f)d++,b=f[a],$stage.dialog.keywords.append($("<div>").addClass("kw-item").attr("id","kwi-"+d).append($("<div>").addClass("kwi-memo ellipse").text(b)).append($("<div>").addClass("kwi-menu")));$("#KeywordDiag .dialog-title").html("키워드 ("+d+" / 50)")}function updateCommunity(){function a(a){var b=$(a.currentTarget).parent().parent().attr("id").slice(4),c=$data.friends[b];pfInput(L.friendEditMemo,function(){var a=$("#pinput-in").val();""!=a.replace(/\s/g,"")&&send("friendEdit",{id:b,memo:a},!0)},noFunc,0,c)}function b(a){var b=$(a.currentTarget).parent().parent().attr("id").slice(4);$data.friends[b];try{var c=$data._friends[b].server}catch(a){var c=!1}if(c)return fail(455);pfConfirm(L.friendSureRemove,function(){send("friendRemove",{id:b},!0)})}updatenik();var c,d,e,f,g=0;$stage.dialog.commFriends.empty();for(c in $data.friends)g++,f=$data.friends[c],d=$data._friends[c]||{},e=($data.users[c]||{}).profile,$stage.dialog.commFriends.append($("<div>").addClass("cf-item").attr("id","cfi-"+c).append($("<div>").addClass("cfi-status cfi-stat-"+(d.server?"on":"off"))).append($("<div>").addClass("cfi-server").html(d.server?L["server_"+d.server]:"-")).append($("<div>").addClass("cfi-name ellipse").html(e?$data.users[c].nickname||e.title:L.hidden)).append($("<div>").addClass("cfi-memo ellipse").text(f)).append($("<div>").addClass("cfi-menu").append($("<i>").addClass("fa fa-pencil").on("click",a)).append($("<i>").addClass("fa fa-remove").on("click",b))));$("#CommunityDiag .dialog-title").html(L.communityText+" ("+g+" / 100)")}function updatenik(){function a(a){var b=$(a.currentTarget).parent().parent().attr("id").slice(4),c=$data.friends[b];prompt(L.friendEditMemo,c)}function b(a){var b=$(a.currentTarget).parent().parent().attr("id").slice(4),c=$data.friends[b];try{var d=$data._friends[b].server}catch(a){var d=!1}if(d)return fail(455);confirm(c+"(#"+b.substr(0,5)+")\n"+L.friendSureRemove)}var c,d,e,f=0;$stage.dialog.unlist.empty();for(c in $data.friends)f++,e=$data.friends[c],$data._friends[c]||{},d=($data.users[c]||{}).profile,$stage.dialog.unlist.append($("<div>").addClass("nu-item").attr("id","nui-"+c).append($("<div>").addClass("nui-name ellipse").html(d?d.title||d.name:L.hidden)).append($("<div>").addClass("nui-memo ellipse").text(e)).append($("<div>").addClass("nui-menu").append($("<i>").addClass("fa fa-pencil").on("click",a)).append($("<i>").addClass("fa fa-remove").on("click",b))));$("#NicksetDiag .dialog-title").html("사용자 ("+f+" / 100)")}function requestRoomInfo(a){var b=$data.rooms[a],c=$("#ri-players").empty(),d=getOptions(b.mode,b.opts);$data._roominfo=a,d.splice(0,1),d.length<1&&(d=["없음"]),$("#RoomInfoDiag .dialog-title").html(a+L.sRoomInfo),$("#ri-title").html((b.password?"<i class='fa fa-lock'></i>&nbsp;":"")+b.title),$("#ri-mode").html(L["mode"+MODE[b.mode]]),$("#ri-round").html(b.round+", "+b.time+L.SECOND),$("#ri-misc").html(d.join(" / ").toString()),$("#ri-limit").html(b.players.length+" / "+b.limit),b.players.forEach(function(a,d){var e,f,g=b.readies[a]||{};a=$data.users[a]||NULL_USER,b.players[d].robot?(a.profile={title:L.robot},a.equip={robot:!0},a.nickname=L.robot):g.t=g.t||0,c.append($("<div>").addClass("ri-player").append(f=$("<div>").addClass("moremi rip-moremi")).append(e=$("<div>").addClass("ellipse rip-title").html(a.nickname)).append($("<div>").addClass("rip-team team-"+g.t).html($("#team-"+g.t).html())).append($("<div>").addClass("rip-form").html(L["pform_"+g.f]))),a.id==b.master&&e.prepend($("<label>").addClass("rip-master").html("["+L.master+"]&nbsp;")),e.prepend(getLevelImage(a.data.score,a.equip).addClass("profile-level rip-level")),renderMoremi(f,a.equip)}),showDialog($stage.dialog.roomInfo),$stage.dialog.roomInfo.show()}function requestProfile(a){var b,c,d,e=$data.users[a]||$data.robots[a],f=$("#profile-record").empty();if(!e)return void notice(L.error_405);var d=getLevel(e.data.score),g=d>1e3,h=$data.opts.ml,i=($data.opts.rq,EXP[d-2]||0),j=EXP[d-1],k=(e.data.score-i)/(j-i)*100,l=h?e.data.score/5e7*100:k;l=l.toFixed(2);var m=e.data.score<0;if($data.opts.rq?($("#ProfileDiag .dialog-title").html(e.nickname+L.sProfile),$(".profile-head").empty().append(b=$("<div>").addClass("moremi profile-moremi")).append($("<div>").addClass("profile-head-item").append($("<div>").addClass("profile-title ellipse").html(e.nickname).append($("<label>").addClass("profile-tag").html(" #"+e.id.toString().substr(0,5))))).append($("<div>").addClass("profile-head-item").append(getLevelImage(e.data.score,e.equip).addClass("profile-level")).append($("<div>").addClass("profile-level-text").html(g?getLevelName(d):L.LEVEL+" "+d)).append($("<div>").addClass("profile-score-text").html(m?commify(e.data.score)+" / 0"+L.PTS+" [0.00%]":commify(e.data.score-i)+" / "+commify(j-i)+L.PTS+" ["+l+"%]"))).append(c=$("<div>").addClass("profile-head-item profile-exordial ellipse").text(badWords(e.exordial||"")).append($("<div>").addClass("expl").css({"white-space":"normal",width:300,"font-size":"11px"}).text(e.exordial)))):($("#ProfileDiag .dialog-title").html(e.nickname+L.sProfile),$(".profile-head").empty().append(b=$("<div>").addClass("moremi profile-moremi")).append($("<div>").addClass("profile-head-item").append($("<div>").addClass("profile-title ellipse").html(e.nickname).append($("<label>").addClass("profile-tag").html(" #"+e.id.toString().substr(0,5))))).append($("<div>").addClass("profile-head-item").append(getLevelImage(e.data.score,e.equip).addClass("profile-level")).append($("<div>").addClass("profile-level-text").html(g?getLevelName(d):L.LEVEL+" "+d)).append($("<div>").addClass("profile-score-text").html(h?commify(e.data.score)+" / "+commify(5e7)+L.PTS+" ["+l+"%]":commify(e.data.score)+" / "+commify(EXP[d-1])+L.PTS+" ["+l+"%]"))).append(c=$("<div>").addClass("profile-head-item profile-exordial ellipse").text(badWords(e.exordial||"")).append($("<div>").addClass("expl").css({"white-space":"normal",width:300,"font-size":"11px"}).text(e.exordial)))),m&&!$data.opts.ml&&(f=$("#profile-record").empty(),$("#ProfileDiag .dialog-title").html(e.nickname+L.sProfile),$(".profile-head").empty().append(b=$("<div>").addClass("moremi profile-moremi")).append($("<div>").addClass("profile-head-item").append($("<div>").addClass("profile-title ellipse").html(e.nickname).append($("<label>").addClass("profile-tag").html(" #"+e.id.toString().substr(0,5))))).append($("<div>").addClass("profile-head-item").append(getLevelImage(e.data.score,e.equip).addClass("profile-level")).append($("<div>").addClass("profile-level-text").html(g?getLevelName(d):L.LEVEL+" "+d)).append($("<div>").addClass("profile-score-text").html(commify(e.data.score)+" / 0"+L.PTS+" [0.00%]"))).append(c=$("<div>").addClass("profile-head-item profile-exordial ellipse").text(badWords(e.exordial||"")).append($("<div>").addClass("expl").css({"white-space":"normal",width:300,"font-size":"11px"}).text(e.exordial)))),e.robot)$stage.dialog.profileLevel.show(),$stage.dialog.profileLevel.prop("disabled",$data.id!=$data.room.master),$("#profile-place").html($data.room.id+L.roomNumber);else{$stage.dialog.profileLevel.hide(),$("#profile-place").html(e.place?e.place+L.roomNumber:L.lobby);for(d in e.data.record){var n=e.data.record[d],o=n[1],p=n[0];if(0!=p)var q=o/p,r=100*q,s=r.toFixed(2);else var s="0.00";f.append($("<div>").addClass("profile-record-field").append($("<div>").addClass("profile-field-name").html(L["mode"+d])).append($("<div>").addClass("profile-field-record").html(n[0]+L.P+" "+n[1]+L.W)).append($("<div>").addClass("profile-field-record").html(String(s)+"%")).append($("<div>").addClass("profile-field-score").html(commify(n[2])+L.PTS)))}renderMoremi(b,e.equip)}$data._profiled=a,$stage.dialog.profileKick.hide(),$stage.dialog.profileShut.hide(),$stage.dialog.profileDress.hide(),$stage.dialog.profileWhisper.hide(),$stage.dialog.profileHandover.hide(),$stage.dialog.profileReport.hide(),$data.id==a?$stage.dialog.profileDress.show():e.robot||($stage.dialog.profileShut.show(),$stage.dialog.profileWhisper.show(),$stage.dialog.profileReport.show()),$data.room&&$data.id!=a&&$data.id==$data.room.master&&($stage.dialog.profileKick.show(),$stage.dialog.profileHandover.show(),$stage.dialog.profileWhisper.hide()),showDialog($stage.dialog.profile),$stage.dialog.profile.show(),global.expl(c)}function requestInvite(a){var b;"AI"!=a?(b=$data.users[a].nickname,pfConfirm(b+L.sureInvite,function(){send("invite",{target:a})})):send("invite",{target:a})}function checkFailCombo(a){$data._replay||$data.lastFail!=$data.id||$data.id!=a?$data.failCombo=0:($data.failCombo++,1==$data.failCombo&&notice(L.trollWarning),$data.failCombo>1&&(send("leave"),fail(437))),$data.lastFail=a}function clearGame(){$data._spaced&&$lib.Typing.spaceOff(),clearInterval($data._tTime),$data._relay=!1}function gameReady(){var a,b;for(a in $data.room.players)b=$data._replay?$rec.users[$data.room.players[a]]||$data.room.players[a]:$data.users[$data.room.players[a]]||$data.robots[$data.room.players[a].id],b.game.score=0,delete $data["_s"+$data.room.players[a]];delete $data.lastFail,$data.failCombo=0,$data._spectate=-1==$data.room.game.seq.indexOf($data.id),$data._gAnim=!0,$stage.box.room.show().height(360).animate({height:1},500),$stage.box.game.height(1).animate({height:410},500),stopBGM(),$stage.dialog.resultSave.attr("disabled",!1),clearBoard(),$stage.game.display.html(L.soon),playSound("game_start"),forkChat(),addTimeout(function(){$stage.box.room.height(360).hide(),$stage.chat.scrollTop(999999999)},500)}function replayPrevInit(){var a;for(a in $data.room.game.seq)$data.room.game.seq[a].robot&&($data.room.game.seq[a].game.score=0);$rec.users={};for(a in $rec.players){var b=$rec.players[a].id,c=$rec.readies[b]||{},d=$data.users[b]||$data.robots[b],e=b;$rec.players[a].robot?(d=$rec.users[b]={robot:!0},e=$rec.players[a],e.game={}):d=$rec.users[b]={},$data.room.players.push(e),d.id=e,d.profile=$rec.players[a],d.data=d.profile.data,d.equip=d.profile.equip,d.game={score:0,team:c.t}}$data._rf=0}function replayReady(){var a;replayStop(),$data._replay=!0,$data.room={title:$rec.title,players:[],events:[],time:$rec.roundTime,round:$rec.round,mode:$rec.mode,limit:$rec.limit,game:$rec.game,opts:$rec.opts,readies:$rec.readies},replayPrevInit();for(a in $rec.events)$data.room.events.push($rec.events[a]);$stage.box.userList.hide(),$stage.box.roomList.hide(),$stage.box.game.show(),$stage.dialog.replay.hide(),gameReady(),updateRoom(!0),$data.$gp=$(".GameBox .product-title").empty().append($data.$gpt=$("<div>").addClass("game-replay-title")).append($data.$gpc=$("<div>").addClass("game-replay-controller").append($("<button>").html(L.replayNext).on("click",replayNext)).append($("<button>").html(L.replayPause).on("click",replayPause)).append($("<button>").html(L.replayPrev).on("click",replayPrev))),$data._gpp=L.replay+" - "+new Date($rec.time).toLocaleString(),$data._gtt=$data.room.events[$data.room.events.length-1].time,$data._eventTime=0,$data._rt=addTimeout(replayTick,2e3),$data._rprev=0,$data._rpause=!1,replayStatus()}function replayPrev(a){var b,c,d=$data.room.events[--$data._rf];if(d){b=d.time;do{if(!(d=$data.room.events[--$data._rf]))break}while(b-d.time<1e3);for(c=$data._rf-1,replayPrevInit(),b=$data.muteEff,$data.muteEff=0,i=0;i<c;i++)replayTick();$(".deltaScore").remove(),$data.muteEff=b,replayTick()}}function replayPause(a){var b=$data._rpause=!$data._rpause;$(a.target).html(b?L.replayResume:L.replayPause)}function replayNext(a){clearTimeout($data._rt),replayTick()}function replayStatus(){$data.$gpt.html($data._gpp+" ("+(.001*$data._eventTime).toFixed(1)+L.SECOND+" / "+(.001*$data._gtt).toFixed(1)+L.SECOND+")")}function replayTick(a){var b,c=$data.room.events[$data._rf];return clearTimeout($data._rt),a||$data._rf++,c?$data._rpause?($data._rf--,$data._rt=addTimeout(replayTick,100)):(b=c.data,b.hint&&(b.hint={_id:b.hint}),"chat"==b.type&&(b.timestamp=$rec.time+c.time),onMessage(b),$data._eventTime=c.time,replayStatus(),void($data.room.events.length>$data._rf?$data._rt=addTimeout(replayTick,$data.room.events[$data._rf].time-c.time):replayStop())):void replayStop()}function replayStop(){delete $data.room,$data._replay=!1,$stage.box.room.height(360),clearTimeout($data._rt),updateUI(),playBGM($data.opts.bg)}function startRecord(a){var b,c;$rec={version:$data.version,me:$data.id,players:[],events:[],title:$data.room.title,roundTime:$data.room.time,round:$data.room.round,mode:$data.room.mode,limit:$data.room.limit,game:$data.room.game,opts:$data.room.opts,readies:$data.room.readies,time:(new Date).getTime()};for(b in $data.room.players){var d;c=$data.users[$data.room.players[b]]||$data.room.players[b],d={id:c.id,score:0},c.robot?(d.id=c.id,d.robot=!0,d.data={score:0},c={profile:getAIProfile(c.level)},c.nickname=c.profile.title):(d.data=c.data,d.equip=c.equip),d.title="#"+c.id,$rec.players.push(d)}$data._record=!0}function stopRecord(){$data._record=!1}function recordEvent(a){if(!$data._replay&&$rec){var b,c=a;if(a.hasOwnProperty("type")&&"room"!=a.type&&"obtain"!=a.type){a={};for(b in c)a[b]=c[b];a.profile&&(a.profile={id:a.profile.id,title:"#"+a.profile.id}),a.user&&(a.user={id:a.user.profile.id,profile:{id:a.user.profile.id,title:"#"+a.user.profile.id},data:{score:0},equip:{}}),$rec.events.push({data:a,time:(new Date).getTime()-$rec.time})}}}function clearBoard(){$data._relay=!1,loading(),$stage.game.here.hide(),$stage.dialog.result.hide(),$stage.dialog.dress.hide(),$stage.dialog.charFactory.hide(),$(".jjoriping,.rounds,.game-body").removeClass("cw"),$(".jjoriping,.rounds").removeClass("dg"),$(".rounds").removeClass("painter"),$stage.game.display.empty(),$stage.game.chain.hide(),$stage.game.hints.empty().hide(),$stage.game.tools.hide(),$stage.game.cwcmd.hide(),$stage.game.bb.hide(),$stage.game.round.empty(),$stage.game.history.empty(),$stage.game.items.show().css("opacity",0),$(".jjo-turn-time .graph-bar").width(0).css({float:"","text-align":"","background-color":""}),$(".jjo-round-time .graph-bar").width(0).css({float:"","text-align":""}).removeClass("round-extreme"),$(".game-user-bomb").removeClass("game-user-bomb")}function drawRound(a){var b;for($stage.game.round.empty(),b=0;b<$data.room.round;b++)$stage.game.round.append($l=$("<label>").html($data.room.game.title[b])),b+1==a&&$l.addClass("rounds-current")}function turnGoing(){route("turnGoing")}function turnHint(a){route("turnHint",a)}function turnError(a,b){$stage.game.display.empty().append($("<label>").addClass("game-fail-text").text((L["turnError_"+a]?L["turnError_"+a]+": ":"")+b)),playSound("fail"),clearTimeout($data._fail),$data._fail=addTimeout(function(){$stage.game.display.html($data._char)},1800)}function getScore(a){return $data._replay?$rec.users[a].game.score:($data.users[a]||$data.robots[a]).game.score}function addScore(a,b){$data._replay?$rec.users[a].game.score+=b:($data.users[a]||$data.robots[a]).game.score+=b}function drawObtainedScore(a,b){return a.append(b),addTimeout(function(){b.remove()},2e3),a}function turnEnd(a,b){route("turnEnd",a,b)}function roundEnd(a,b){function c(a){var b,e,f;$data._result.goal=EXP[$data._result.level-1],$data._result.before=EXP[$data._result.level-2]||0,$data._result.reward.score>0&&(b=$data._result.reward.score*$data._coef,b<.05&&$data._coef&&(b=$data._result.reward.score),$data._result.reward.score-=b,$data._result.exp+=b,e=getLevel($data._result.exp),$data._result.level!=e&&($data._result._boing-=$data._result.goal-$data._result._exp,$data._result._exp=$data._result.goal,playSound("lvup"),1051==e&&notice("만렙 달성 축하드려요! 지금까지 수고 많으셨습니다. <del>앞으로도 계속 많은 이용 부탁드려요!</del>","만렙 달성!")),$data._result.level=e,addTimeout(c,50)),f=$data._result.exp-$data._result._exp,d("before",$data._result._exp,$data._result.before,$data._result.goal),d("current",Math.min(f,$data._result._boing),0,$data._result.goal-$data._result.before),d("bonus",Math.max(0,f-$data._result._boing),0,$data._result.goal-$data._result.before);var g=$data._result.level>1e3;$(".result-me-level-body").html(g?getLevelName($data._result.level):$data._result.level),$(".result-me-score-text").html(commify(Math.round($data._result.exp))+" / "+commify($data._result.goal))}function d(a,b,c,d){$(".result-me-"+a+"-bar").width((b-c)/(d-c)*100+"%")}b||(b={});var e,f,g,h,i,j,k,l,m,n=$(".result-board").empty();$(".result-me-expl").empty(),$stage.game.display.html(L.roundEnd),$data._resultPage=1,$data._result=null,$data._relay=!1;for(e in a)g=a[e],f=$data._replay?$rec.users[g.id]:$data.users[g.id],f||(f=NULL_USER),f.data&&g.reward&&(g.reward.score=$data._replay?0:Math.round(g.reward.score),j=getLevel(k=f.data.score)>getLevel(f.data.score-g.reward.score),n.append(h=$("<div>").addClass("result-board-item").append(i=$("<div>").addClass("result-board-rank").html(g.rank+1)).append(getLevelImage(k,f.equip).addClass("result-board-level")).append($("<div>").addClass("result-board-name").html(f.nickname)).append($("<div>").addClass("result-board-score").html(b.scores?L.avg+" "+commify(b.scores[g.id])+L.kpm:commify(g.score||0)+L.PTS)).append($("<div>").addClass("result-board-reward").html(g.reward.score?"+"+commify(g.reward.score):"-")).append($("<div>").addClass("result-board-lvup").css("display",j?"block":"none").append($("<i>").addClass("fa fa-arrow-up")).append($("<div>").html(L.lvUp)))),f.game.team&&i.addClass("team-"+f.game.team),g.id==$data.id&&(g.exp=f.data.score-g.reward.score,g.level=getLevel(g.exp),$data._result=g,h.addClass("result-board-me"),$(".result-me-expl").append(function(a,b,c){function d(a,b,c){a.append($("<h5>").addClass("result-me-blog-head").html(b)).append($("<h5>").addClass("result-me-blog-body").html(c))}
var e,f,g=$("<div>").append($("<h4>").html(L.scoreGain)).append(e=$("<div>")).append($("<h4>").html(L.moneyGain)).append(f=$("<div>"));return d(e,L.scoreOrigin,a),d(f,L.moneyOrigin,b),c.forEach(function(c){var g,h,i,j=c.charAt(0),k=c.charAt(1),l=c.slice(2,5),m=Number(c.slice(5));"EXP"==l?(g=e,i=a):"MNY"==l&&(g=f,i=b),"g"==k?h="+"+(i*m).toFixed(1):"h"==k&&(h="+"+Math.floor(m)),d(g,L["bonusFrom_"+j],h)}),g}(g.reward._score,g.reward._money,g.reward._blog))));$(".result-me").css("opacity",0),$data._coef=0,$data._result&&(l=$data._result.reward.score-$data._result.reward._score,m=$data._result.reward.money-$data._result.reward._money,$data._result._exp=$data._result.exp,$data._result._score=$data._result.reward.score,$data._result._bonus=l,$data._result._boing=$data._result.reward._score,$data._result._addit=l,$data._result._addp=m,l=l>0?"<label class='result-me-bonus' style='font-size: 6.5px;'>(+"+commify(l)+")</label>":"",m=m>0?"<label class='result-me-bonus' style='font-size: 6.5px;'>(+"+commify(m)+")</label>":"",notice(L.scoreGain+": "+commify($data._result.reward.score)+", "+L.moneyGain+": "+commify($data._result.reward.money)),$(".result-me").css("opacity",1),$(".result-me-score").html(L.scoreGain+" +"+commify($data._result.reward.score)+l),$(".result-me-money").html(L.moneyGain+" +"+commify($data._result.reward.money)+m)),addTimeout(function(){showDialog($stage.dialog.result),$data._result&&c(!0),$stage.dialog.result.css("opacity",0).animate({opacity:1},500),addTimeout(function(){$data._coef=.05},500)},2e3),stopRecord()}function drawRanking(a){$(".result-board").empty();return $data._resultPage=2,$stage.dialog.resultOK.trigger("click")}function kickVoting(a){var b=$data.users[a].profile;$("#kick-vote-text").html((b.title||b.name)+L.kickVoteText),$data.kickTime=0,$data._kickTime=0,$data._kickTimer=addTimeout(kickVoteTick,1)}function kickVoteTick(){$stage.dialog.kickVoteY.trigger("click")}function searchShop(a){var b=$("#shop-shelf");$(".shop-categories").show();var c;b.empty(),b.html(L.FINDING),processShop(function(d){if(b.empty(),d.error)return $stage.menu.shop.trigger("click"),fail(d.error);var e=$data.users[$data.id],f=e.data.score;f=getLevel(f);var g;d.goods.sort(function(a,b){return b.updatedAt-a.updatedAt}).forEach(function(d,e,h){if(!(d.cost<0&&"b1_gm"!==$data.users[$data.id].equip.STY||(g=d.reqlvl<0,d.reqlvl>f&&"b1_gm"!==$data.users[$data.id].equip.STY))){var i=iImage(!1,d);c=iName(d._id,d),0!=c&&(c=c.replace(/\s/g,""),-1!=c.indexOf(a)&&b.append($("<div>").attr("id","goods_"+d._id).addClass("goods").append($("<div>").addClass("jt-image goods-image").css("background-image","url("+i+")")).append($("<div>").addClass("goods-title").html(iName(d._id,d))).append($("<div>").addClass("goods-cost").html(commify(d.cost)+L.ping)).append(explainGoods(d,!1)).on("click",onGoods)))}}),global.expl(b)}),$(".shop-type.selected").removeClass("selected"),$("#shop-type-all").addClass("selected")}function loadExc(){var a=$("#shop-shelf");$(".shop-categories").hide(),a.html(L.LOADING),processShop(function(b){if(a.empty(),$data.guest&&(b.error=423),b.error)return $stage.menu.shop.trigger("click"),fail(b.error);var c=$data.users[$data.id],d=c.data.score;d=getLevel(d),b.goods.sort(function(a,b){return b.updatedAt-a.updatedAt}).forEach(function(b,c,e){try{if(b.evtCost<0&&"b1_gm"!==$data.users[$data.id].equip.STY)return}catch(a){if(b.evtCost<0)return}if(0!=b.isEvent&&!(b.reqlvl>d&&"b1_gm"!==$data.users[$data.id].equip.STY)){var f=iImage(!1,b);0!=iName(b._id,b)&&a.append($("<div>").attr("id","goods_"+b._id).addClass("goods").append($("<div>").addClass("jt-image goods-image").css("background-image","url("+f+")")).append($("<div>").addClass("goods-title").html(iName(b._id,b))).append($("<div>").addClass("goods-cost").html(commify(b.evtCost)+" 코인")).append(explainGoods(b,!1)).on("click",onEvtG))}}),global.expl(a)}),$(".shop-type.selected").removeClass("selected"),$("#shop-type-all").addClass("selected")}function loadShop(){var a=$("#shop-shelf");$(".shop-categories").show(),a.html(L.LOADING),processShop(function(b){if(a.empty(),$data.guest&&(b.error=423),b.error)return $stage.menu.shop.trigger("click"),fail(b.error);var c=$data.users[$data.id],d=c.data.score;d=getLevel(d),b.goods.sort(function(a,b){return b.updatedAt-a.updatedAt}).forEach(function(b,c,e){try{if(b.cost<0&&"b1_gm"!==$data.users[$data.id].equip.STY)return}catch(a){if(b.cost<0)return}if(!(b.reqlvl>d&&"b1_gm"!==$data.users[$data.id].equip.STY)){var f=iImage(!1,b);0!=iName(b._id,b)&&a.append($("<div>").attr("id","goods_"+b._id).addClass("goods").append($("<div>").addClass("jt-image goods-image").css("background-image","url("+f+")")).append($("<div>").addClass("goods-title").html(iName(b._id,b))).append($("<div>").addClass("goods-cost").html(commify(b.cost)+L.ping)).append(explainGoods(b,!1)).on("click",onGoods))}}),global.expl(a)}),$(".shop-type.selected").removeClass("selected"),$("#shop-type-all").addClass("selected")}function filterShop(a){var b,c,d,e=!0===a;e||(a=a.split(","));for(d in $data.shop)c=$data.shop[d],c.cost<0&&"b1_gm"!==$data.users[$data.id].equip.STY||("$"!=c._id.charAt()||e)&&(b=$("#goods_"+d).show(),e||-1==a.indexOf(c.group)&&b.hide())}function startEq(){for(var a,b=$data.users[$data.id],c=["gEXP","gMNY","hEXP","hMNY"],d=["o","t","r","f"],e={o:0,t:0,r:0,f:0},f=0;f<4;f++)for(a in b.equip)e[d[f]]+=addGoods(b.equip[a],c[f]);$("#ed-gexp").html("+"+(100*e.o).toFixed(2)+"%p"),$("#ed-gmny").html("+"+(100*e.t).toFixed(2)+"%p"),$("#ed-hexp").html("+"+e.r),$("#ed-hmny").html("+"+e.f),showDialog($stage.dialog.effect)}function addGoods(a,b){var c,d=iGoods(a);if(d.options[b]){c=b;var e=c.charAt(0);if(txt=d.options[c],"h"==e)return txt;var f=$data.users[$data.id].enhance;return f||(f={}),f[d._id]?"gMNY"==b&&d.options.hasOwnProperty("gEXP")?txt:txt*lis[f[d._id]-1]/100:txt}return 0}function explainGoods(a,b,c,d){var e,f,g=!1,h=!1,i=$("<div>").addClass("expl dress-expl").append($("<div>").addClass("dress-item-title").html(iName(a._id,a)+(b?L.equipped:""))).append($("<div>").addClass("dress-item-group").html(L["GROUP_"+a.group])).append($("<div>").addClass("dress-item-expl").html(iDesc(a._id))),j=$("<div>").addClass("dress-item-opts");a.term&&Math.floor(a.term/86400)<1?i.append($("<div>").addClass("dress-item-term").html(Math.floor(a.term/60)+L.MINUTE+" "+L.ITEM_TERM)):a.term&&i.append($("<div>").addClass("dress-item-term").html(Math.floor(a.term/86400)+L.DATE+" "+L.ITEM_TERM)),c&&i.append($("<div>").addClass("dress-item-term").html(new Date(1e3*c).toLocaleString()+L.ITEM_TERMED));for(e in a.options)if("gif"!=e){var k=e.charAt(0);f=a.options[e];var l=$data.users[$data.id].enhance;l||(l={}),l[a._id]&&!g&&d&&("gEXP"!=e&&"gMNY"!=e||(f="+"+(f*lis[l[a._id]-1]).toFixed(2)+"%p ("+(100*f).toFixed(2)+" + "+(f*(lis[l[a._id]-1]-100)).toFixed(2)+"%p)",h=!0,g=!0)),h||("g"==k?f="+"+(100*f).toFixed(2)+"%p":"h"==k&&(f="+"+f)),h=!1,j.append($("<label>").addClass("item-opts-head").html(L["OPTS_"+e])).append($("<label>").addClass("item-opts-body").html(f)).append($("<br>"))}return f&&i.append(j),i}function processShop(a){var b;$.get("/shop",function(c){$data.shop={};for(b in c.goods)$data.shop[c.goods[b]._id]=c.goods[b];a&&a(c)})}function dressSet(){}function onEvtG(a){var b,c=$(a.currentTarget).attr("id").slice(6),d=$data.shop[c],e=$data.users[$data.id];e.money,e.data.score;try{b=$data.box.hasOwnProperty("CDCoin")?$data.box.CDCoin:0}catch(a){b=0}console.log(b),$("#bef").text("현재 코인"),$("#aft").text("이후 코인");var f,g,h=b-d.evtCost,i=L.surePurchase,j={};$data.box&&$data.box[c]&&(i=L.alreadyGot+" "+i),$("#purchase-ping-before").html(commify(b)+" 코인"),$("#purchase-ping-cost").html(commify(d.evtCost)+" 코인"),$("#purchase-item-name").html(L[c][0]),f=$("#purchase-ping-after").html(commify(h)+" 코인"),$("#purchase-item-desc").html(h<0?"코인이 부족합니다.":i);for(g in e.equip)j[g]=e.equip[g];j["Mhand"==d.group?["Mlhand","Mrhand"][Math.floor(2*Math.random())]:d.group]=c,"BDG"==d.group.substr(0,3)&&(j.BDG=c),"CNS"==d.group?($("#prv").hide(),$stage.dialog.purchase.height(205)):($("#prv").show(),renderMoremi("#moremi-after",j),$stage.dialog.purchase.height(310)),showDialog($stage.dialog.purchase,!0),$data._sgood=c,$stage.dialog.purchaseOK.hide(),$stage.dialog.evtOK.show(),$stage.dialog.evtOK.attr("disabled",h<0),h<0?f.addClass("purchase-not-enough"):f.removeClass("purchase-not-enough")}function onGoods(a){var b,c,d=$(a.currentTarget).attr("id").slice(6),e=$data.shop[d],f=$data.users[$data.id],g=f.money,h=(f.data.score,g-e.cost),i=L.surePurchase,j={};$("#bef").text("현재 핑"),$("#aft").text("이후 핑"),$data.box&&$data.box[d]&&(i=L.alreadyGot+" "+i),$("#purchase-ping-before").html(commify(g)+L.ping),$("#purchase-ping-cost").html(commify(e.cost)+L.ping),$("#purchase-item-name").html(L[d][0]),b=$("#purchase-ping-after").html(commify(h)+L.ping),$("#purchase-item-desc").html(h<0?L.notEnoughMoney:i);for(c in f.equip)j[c]=f.equip[c];j["Mhand"==e.group?["Mlhand","Mrhand"][Math.floor(2*Math.random())]:e.group]=d,"BDG"==e.group.substr(0,3)&&(j.BDG=d),"CNS"==e.group?($("#prv").hide(),$stage.dialog.purchase.height(205)):($("#prv").show(),renderMoremi("#moremi-after",j),$stage.dialog.purchase.height(310)),showDialog($stage.dialog.purchase,!0),$data._sgood=d,$stage.dialog.evtOK.hide(),$stage.dialog.purchaseOK.show(),$stage.dialog.purchaseOK.attr("disabled",h<0),h<0?b.addClass("purchase-not-enough"):b.removeClass("purchase-not-enough")}function vibrate(a){mobile&&(a*=.25),a<1||(a>=100&&(a=100+a/50),$("#Middle").css("padding-top",a),addTimeout(function(){$("#Middle").css("padding-top",0),addTimeout(vibrate,50,.7*a)},50))}function pushDisplay(a,b,c,d){var e,f=MODE[$data.room.mode];if("KKT"==f||"EKD"==f||"SYG"==f)var g=!0;else var g=!1;if("KAP"==f||"EAP"==f)var h=!0;else var h=!1;var i,j,k,l,m=BEAT[e=a.length],n=0,o=$data.turnTime/96,p=$data.turnTime/12,q=RULE[f].lang,r=$data.room.opts,s=!1;if(r.vblock&&(s=!0),"KEA"==f&&(q=a.match(/[ㄱ-ㅎ가-힣ㅏ-ㅣ\s]/)?"ko":"en"),$stage.game.display.empty(),m?(i="As"+$data._speed,m=m.split("")):"en"==q&&e<10?i="As"+$data._speed:$data.opts.jm?(i="As"+$data._speed,s||vibrate(e)):(i="Al",s||vibrate(e)),j="K"+$data._speed,m){for(k in m)"0"!=m[k]&&($stage.game.display.append(l=$("<div>").addClass("display-text").css({float:h?"right":"left","margin-top":-6,"font-size":36}).hide().html(h?a.charAt(e-n-1):a.charAt(n))),n++,addTimeout(function(a,b){var c={"margin-top":0};playSound(b),a.html()==$data.mission?($data.opts.ms||playSound("mission"),r.declag||a.css({color:"#66FF66"}),r.declag?c["font-size"]=20:c["font-size"]=24):c["font-size"]=20,a.show().animate(c,100)},Number(k)*o,l,i));k=$stage.game.display.children("div").get(0),$(k).css(h?"margin-right":"margin-left",.5*($stage.game.display.width()-20*e))}else if(n="",h)for(k=0;k<e;k++)addTimeout(function(a){playSound(i),a==$data.mission?($data.opts.ms||playSound("mission"),n=r.declag?a+n:"<label style='color: #66FF66;'>"+a+"</label>"+n):n=a+n,$stage.game.display.html(n)},Number(k)*p/e,a[e-k-1]);else for(k=0;k<e;k++)addTimeout(function(a){playSound(i),a==$data.mission?($data.opts.ms||playSound("mission"),n+=r.declag?a:"<label style='color: #66FF66;'>"+a+"</label>"):n+=a,$stage.game.display.html(n)},Number(k)*p/e,a[k]);addTimeout(function(){for(k=0;k<3;k++)addTimeout(function(a){if(g){if(1==a)return;playSound("kung")}(m?$stage.game.display.children(".display-text"):$stage.game.display).css("font-size",21).animate({"font-size":20},o)},k*o*2,k);addTimeout(pushHistory,4*o,a,b,c,d),g||playSound(j)},p)}function pushHint(a){var b,c=processWord("",a);$stage.game.hints.append(b=$("<div>").addClass("hint-item").append($("<label>").html(c)).append($("<div>").addClass("expl").css({"white-space":"normal",width:200}).html(c.html()))),mobile||b.width(0).animate({width:215}),global.expl(b)}function pushHistory(a,b,c,d){var e,f,g,h=d?d.split(","):[],i={};$stage.game.history.prepend(e=$("<div>").addClass("ellipse history-item").width(0).animate({width:200}).html(a)),f=$stage.game.history.children(),f.length>6&&f.last().remove(),g=processWord(a,b,c,h),h.forEach(function(a){i[a]||L["class_"+a]&&(i[a]=!0,e.append($("<label>").addClass("history-class").html(L["class_"+a])))}),e.append(f=$("<div>").addClass("history-mean ellipse").append(g)).append($("<div>").addClass("expl").css({width:200,"white-space":"normal"}).html("<h5 style='color: #BBBBBB;'>"+g.html()+"</h5>")),global.expl(e)}function processNormal(a,b){return $("<label>").addClass("word").html(b)}function processWord(a,b,c,d){function e(a){return a.replace(/\$\$[^\$]+\$\$/g,function(a){return"<equ>"+a.slice(2,a.length-2).replace(/\^\{([^\}]+)\}/g,"<sup>$1</sup>").replace(/_\{([^\}]+)\}/g,"<sub>$1</sub>").replace(/\\geq/g,"≥")+"</equ>"}).replace(/\*\*([^\*]+)\*\*/g,"<sup>$1</sup>").replace(/\*([^\*]+)\*/g,"<sub>$1</sub>")}if(!b||-1==b.indexOf("＂"))return processNormal(a,b);var f=$("<label>").addClass("word"),g=b.split(/＂[0-9]+＂/).slice(1).map(function(a){return-1==a.indexOf("［")?[[a]]:a.split(/［[0-9]+］/).slice(1).map(function(a){return a.split(/（[0-9]+）/).slice(1)})}),h=(d&&d.map(function(a){return L["class_"+a]}),c?c.split(",").map(function(a){return L["theme_"+a]}):[]),i=g.length>1;return g.forEach(function(a,b){var c=$("<label>").addClass("word-m1"),d=a.length>1;i&&c.append($("<label>").addClass("word-head word-m1-head").html(b+1)),a.forEach(function(a,b){var f=$("<label>").addClass("word-m2"),g=a.length,i=g>1,j=h.splice(0,g);d&&f.append($("<label>").addClass("word-head word-m2-head").html(b+1)),a.forEach(function(a,b){var c=$("<label>").addClass("word-m3"),d=j.shift();i&&c.append($("<label>").addClass("word-head word-m3-head").html(b+1)),d&&c.append($("<label>").addClass("word-theme").html(d)),c.append($("<label>").addClass("word-m3-body").html(e(a))),f.append(c)}),c.append(f)}),f.append(c)}),f}function getCharText(a,b,c){var d=a+(b?"("+b+")":"");return c&&(d+="<label class='jjo-display-word-length'>("+c+")</label>"),d}function bfManlep(a){var b=a-1,c=0;return b>375&&(c+=75*b),b>385&&(c+=50*b),b>395&&(c+=45*b),b>=400&&(c+=55*b),b>405&&(c+=65*b),b>410&&(c+=80*b),b>415&&(c+=100*b),b>420&&(c+=130*b),b>425&&(c+=125*b),b>430&&(c+=155*b),b>435&&(c+=185*b),b>440&&(c+=250*b),b>445&&(c+=330*b),Math.round((.3*!(b%5)+1)*(.4*!(b%15)+1)*(.5*!(b%45)+1)*(120+10*Math.floor(b/5)+20*Math.floor(b*b/225)+30*Math.floor(b*b/2025)))+c}function getRequiredScore(a){if(a<=0)return 0;var b=0;return a>400&&(b+=11*a),a>450&&(b+=13*a),a>500&&(b+=18*a),a>550&&(b+=13*a),a>600&&(b+=11*a),99==a?435:(a<=99&&(a=Math.round(.6*a)),999==a?121377:a>999&&a<1010?11e4:a>1009&&a<1020?12e4:a>1019&&a<1030?13e4:a>1029&&a<1040?14e4:a>1039&&a<1049?15e4:1049==a?65e4:1050==a?3e6:Math.round((.3*!(a%5)+1)*(.4*!(a%15)+1)*(.5*!(a%45)+1)*(10+4*Math.floor(a/5)+8*Math.floor(a*a/225)+9.8*Math.floor(a*a/2025)))+b)}function getLevel(a){var b,c=EXP.length;for(b=0;b<c&&!(a<EXP[b]);b++);return b+1}function getPL(a){var b=Math.floor(a/1e3);return b>1e3&&(b=1e3),b<1&&(b=1),b}function getLevelName(a){return 1==a?"GM":a>1e3&&a<1010?"초보"+String(10-(1010-a)):1010==a?"초보★":a>1010&&a<1020?"하수"+String(10-(1020-a)):1020==a?"하수★":a>1020&&a<1030?"중수"+String(10-(1030-a)):1030==a?"중수★":a>1030&&a<1040?"고수"+String(10-(1040-a)):1040==a?"고수★":a>1040&&a<1050?"전설"+String(10-(1050-a)):1050==a?"전설★":1051==a?"Master":a}function getLevelNameS(a){return 1051==a?"MS":getLevelName(a)}function getLevelImage(a,b){var c=getLevel(a);Math.floor(.04*c);return getImage(b&&"b1_gm"===b.STY?"/img/kkutu/lv/lv_gm.png":"/img/kkutu/lv/lv"+zeroPadding(c,4)+".png")}function getPImage(a){return getImage("/img/kkutu/lv/lv"+zeroPadding(getPL(a),4)+".png")}function getImage(a){return $("<div>").addClass("jt-image").css("background-image","url('"+a+"')")}function getOptions(a,b,c){var d,e,f=[L["mode"+MODE[a]]];for(d in OPTIONS)e=OPTIONS[d].name.toLowerCase(),b[e]&&f.push(L["opt"+OPTIONS[d].name]);return c&&f.push(b.injpick.join("|")),c?f.toString():f}function setRoomHead(a,b){var c,d=getOptions(b.mode,b.opts),e=RULE[MODE[b.mode]],f=String(zeroPadding(b.id,3));a.empty().append($("<h5>").addClass("room-head-number").html("["+(b.practice?L.practice:f)+"]")).append($("<h5>").addClass("room-head-title").text(badWords(b.title))).append($("<h5>").addClass("room-head-pinkt").html(mobile?"":"<b>분홍끄투</b>")).append(c=$("<h5>").addClass("room-head-mode").html(d.join(" / "))).append($("<h5>").addClass("room-head-limit").html((mobile?"":L.players+" ")+b.players.length+" / "+b.limit)).append($("<h5>").addClass("room-head-round").html(L.rounds+" "+b.round)).append($("<h5>").addClass("room-head-time").html(b.time+L.SECOND));var g=d;g.splice(0,1),g.length<1&&(g=["없음"]),-1!=e.opts.indexOf("ijp")?b.opts.injpick.length>0?(c.append($("<div>").addClass("expl").html("<h5>주제: "+b.opts.injpick.map(function(a){return L["theme_"+a]})+" | 특수규칙: "+g.join(", ").toString()+"</h5>")),global.expl(a)):(c.append($("<div>").addClass("expl").html("<h5>주제: 없음 | 특수규칙: "+g.join(", ").toString()+"</h5>")),global.expl(a)):(c.append($("<div>").addClass("expl").html("<h5>특수규칙: "+g.join(", ").toString()+"</h5>")),global.expl(a))}function loadSounds(a,b){$data._lsRemain=a.length,a.forEach(function(a){getAudio(a.key,a.value,b)})}function getAudio(a,b,c){function d(c){$sound[a]=new f(b),e()}function e(){0==--$data._lsRemain?c&&c():loading(L.loadRemain+$data._lsRemain)}function f(a){var b=this;this.audio=new Audio(a),this.audio.load(),this.start=function(){b.audio.play()},this.stop=function(){b.audio.currentTime=0,b.audio.pause()}}var g=new XMLHttpRequest;g.open("GET",b),g.responseType="arraybuffer",g.onload=function(b){audioContext?audioContext.decodeAudioData(b.target.response,function(b){$sound[a]=b,e()},d):d()},g.send()}function playBGM(a,b){return $data.bgm&&$data.bgm.stop(),$data.bgm=playSound(a,!0)}function stopBGM(){$data.bgm&&($data.bgm.stop(),delete $data.bgm)}function Keyword(a,b){var c,d;return d=$sound[a]||$sound.missing,window.hasOwnProperty("AudioBuffer")&&d instanceof AudioBuffer?(c=audioContext.createBufferSource(),c.startedAt=audioContext.currentTime,c.loop=!1,c.buffer=b?audioContext.createBuffer(2,d.length,audioContext.sampleRate):d,c.connect(audioContext.destination)):(d.readyState&&(d.audio.currentTime=0),d.audio.loop=!1,d.audio.volume=b?0:1,c=d),$_sound[a]&&$_sound[a].stop(),$_sound[a]=c,c.key=a,c.start(),c}function Mention(a,b){var c,d;return d=$sound[a]||$sound.missing,window.hasOwnProperty("AudioBuffer")&&d instanceof AudioBuffer?(c=audioContext.createBufferSource(),c.startedAt=audioContext.currentTime,c.loop=!1,c.buffer=b?audioContext.createBuffer(2,d.length,audioContext.sampleRate):d,c.connect(audioContext.destination)):(d.readyState&&(d.audio.currentTime=0),d.audio.loop=!1,d.audio.volume=b?0:1,c=d),$_sound[a]&&$_sound[a].stop(),$_sound[a]=c,c.key=a,c.start(),c}function playSound(a,b,c){var d,e,f=b&&$data.muteBGM||!b&&$data.muteEff;if(!c)var c=!1;return e=$sound[a]||$sound.missing,window.hasOwnProperty("AudioBuffer")&&e instanceof AudioBuffer?(d=audioContext.createBufferSource(),d.startedAt=audioContext.currentTime,d.loop=b,d.buffer=f?audioContext.createBuffer(2,e.length,audioContext.sampleRate):e,d.connect(audioContext.destination)):(e.readyState&&(e.audio.currentTime=0),e.audio.loop=b||!1,e.audio.volume=f?0:1,d=e),$_sound[a]&&$_sound[a].stop(),$_sound[a]=d,d.key=a,d.start(),d}function stopAllSounds(){var a;for(a in $_sound)$_sound[a].stop()}function tryJoin(a){var b;if($data.rooms[a])return"b1_gm"==$data.users[$data.id].equip.STY?void send("enter",{id:a,password:""}):void($data.rooms[a].password?pfInput(L.putPassword,function(){(b=$("#pinput-pass").val())&&($data._pw=b,send("enter",{id:a,password:b}))},0,!0):($data._pw=b,send("enter",{id:a,password:b})))}function clearChat(){$("#Chat").empty()}function removeChat(){$(".chat-item").hide(),$("#chat-log-board").empty(),$("#Chat").empty()}function forkChat(){var a=$("#Chat,#chat-log-board"),b=a.children(".chat-item").last().get(0);b&&"HR"==b.tagName||(a.append($("<hr>").addClass("chat-item")),$stage.chat.scrollTop(999999999))}function badWords(a){return a.replace(BAD,"♥♥")}function chatBalloon(a,b,c){$("#cb-"+b).remove();var d,e,f=(2&c?$("#game-user-"+b):$("#room-user-"+b)).offset(),g=2==c?"chat-balloon-bot":"chat-balloon-tip",h=$("<div>").addClass("chat-balloon").attr("id","cb-"+b).append($("<div>").addClass("jt-image "+g))[2==c?"prepend":"append"]($("<h4>").text(a));f&&($stage.balloons.append(h),1==c?(d=0,e=220):2==c?(d=35-h.height(),e=-2):3==c?(d=5,e=210):(d=40,e=110),h.css({top:f.top+d,left:f.left+e}),addTimeout(function(){h.animate({opacity:0},500,function(){h.remove()})},2500))}function chat(a,b,c,d,e){var f=b;if(-1!=b.indexOf(" ")&&(f=f.replace(/\s/g,"")),""!=f&&null!=f&&void 0!=f){var g,h,j,k,l,m,n,o,p,q=d?new Date(d):new Date,r=$data.users[a.id]?$data.users[a.id].equip:{};try{var s=$data.users[a.id].nickname;p=!1}catch(b){var s=a.title||a.name;p=!0}if(!$data._shut[s]){if(c){if($data.opts.dw)return;if($data._wblock[c])return}b=$data.opts.bw?badWords(b):b,playSound("k"),stackChat(),!mobile&&$data.room&&(g=($data.room.gaming?2:0)+($(".jjoriping").hasClass("cw")?1:0),chatBalloon(b,a.id,g));var t;if($data.room&&!p)if(t=$data.users[a.id],"S"==t.game.form)var u=!0,v=!1;else if("O"==t.game.form)var u=!0,v=!0;else var u=!1,v=!1;var w=!1;"rainbow_chat"===r.CHT&&(w=!0,-1!=b.indexOf("<")||-1!=b.indexOf(">")||-1!=b.indexOf("@")?w=!1:b="<label class='x-rainbow_name'>"+b+"</label>"),w="b1_gm"===r.STY,u&&!v?$stage.chat.append(j=$("<div>").addClass("chat-item").append(g=$("<div>").addClass("chat-head ellipse").text("["+L.stat_spectate+"]"+s)).append(h=w?$("<div>").addClass("chat-body").html(b):$("<div>").addClass("chat-body").text(b)).append($("<div>").addClass("chat-stamp").text(q.toLocaleTimeString()))):u&&v?$stage.chat.append(j=$("<div>").addClass("chat-item").append(g=$("<div>").addClass("chat-head ellipse").text("["+L.pform_O+"]"+s)).append(h=w?$("<div>").addClass("chat-body").html(b):$("<div>").addClass("chat-body").text(b)).append($("<div>").addClass("chat-stamp").text(q.toLocaleTimeString()))):$stage.chat.append(j=$("<div>").addClass("chat-item").append(g=$("<div>").addClass("chat-head ellipse").text(s)).append(h=w?$("<div>").addClass("chat-body").html(b):$("<div>").addClass("chat-body").text(b)).append($("<div>").addClass("chat-stamp").text(q.toLocaleTimeString()))),d&&g.prepend($("<i>").addClass("fa fa-video-camera")),g.on("click",function(b){requestProfile(a.id)}),$stage.chatLog.append(j=j.clone()),j.append($("<div>").addClass("expl").css("font-weight","normal").html("#"+(a.id||"").substr(0,5)));if(-1==b.indexOf(">")&&-1==b.indexOf("<")){(l=b.match(/~~[^\<\>]+~~/g))&&(b=h.html(),l.forEach(function(a){b=b.replace(a,"<del>"+a.substr(2,a.length-4)+"</del>")}),h.html(b)),(n=b.match(/__[^\<\>]+__/g))&&(b=h.html(),n.forEach(function(a){b=b.replace(a,"<u>"+a.substr(2,a.length-4)+"</u>")}),h.html(b)),(m=b.match(/\*\*[^\<\>]+\*\*/g))&&(b=h.html(),m.forEach(function(a){b=b.replace(a,"<b>"+a.substr(2,a.length-4)+"</b>")}),h.html(b)),(o=b.match(/\_[^\<\>]+\_/g))&&(b=h.html(),o.forEach(function(a){b=b.replace(a,"<i>"+a.substr(1,a.length-2)+"</i>")}),h.html(b)),(o=b.match(/\*[^\<\>]+\*/g))&&(b=h.html(),o.forEach(function(a){b=b.replace(a,"<i>"+a.substr(1,a.length-2)+"</i>")}),h.html(b));try{var x=$data.users[$data.id].nickname+" ",y=!1;if(b+=" ",-1!=b.indexOf("@"+x)&&-1==b.indexOf("<")&&-1==b.indexOf(">")){var z=new RegExp("@"+$data.users[$data.id].nickname+" ","g");b=b.replace(z,"<b><font color='blue' style='background-color: #C2D3FF; border-radius: 2px;'>@"+x.trim()+"</font></b> "),b=b.trim(),!0,Mention("success",$data.opts.mc)}h.html(b);var A;b=h.html()+" ";for(i in $data.users)$data.users[i].nickname!=$data.users[$data.id].nickname&&(A=new RegExp("@"+$data.users[i].nickname+" ","g"),b=b.replace(A,"<b><font color='blue'>@"+$data.users[i].nickname+"</font></b> "));b=b.replace(h.html()+" ",h.html()),h.html(b),b=h.html(),-1!=b.indexOf("@everyone")&&"b1_gm"==$data.users[a.id].equip.STY&&(b=b.replace("@everyone","<b><font color='blue' style='background-color: #C2D3FF; border-radius: 2px;'>@everyone</font></b>"),Mention("success",$data.opts.mc),!0),h.html(b),b=h.html();var y,B=!1;if($data.opts.wd){var C=$.cookie("kkw");C?(C=decodeURIComponent(C),C=C.split(",")):C=[],C.forEach(function(a,c){-1!=b.indexOf(a+" ")&&(y=new RegExp(a+" ","g"),b=b.replace(y,'<font color="white" style="background-color: #FF0000; border-radius: 1.1px;">'+a+"</font>"),B||(Keyword("success",$data.opts.kw),B=!0))})}else{var C=$.cookie("kkw");C?(C=decodeURIComponent(C),C=C.split(",")):C=[],C.forEach(function(a,c){-1!=b.indexOf(a)&&(y=new RegExp(a,"g"),b=b.replace(y,'<font color="white" style="background-color: #FF0000; border-radius: 1.1px;">'+a+"</font>"),B||(Keyword("success",$data.opts.kw),B=!0))})}h.html(b)}catch(a){console.log(a.toString())}(k=b.match(/https?:\/\/[\w\.\?\/&#%=\-\_\+]+/g))&&(-1!=b.indexOf("<script>")&&-1!=b.indexOf("<img")||(b=h.html(),k.forEach(function(a){b=b.replace(a,"<a href='#' style='color: #2222FF;' onclick='if(confirm(\""+L.linkWarning+'")) window.open("'+a+"\");'>"+a+"</a>")}),h.html(b)))}c&&(!0!==c&&($data._recentFrom=c),h.html("<label style='color: #7777FF; font-weight: bold;'>&lt;"+L.whisper+"&gt;</label>"+h.html())),addonNickname(g,{equip:r},u),$stage.chat.scrollTop(999999999)}}}function drawCanvas(a){route("drawCanvas",a)}function notice(a,b){var c=new Date;playSound("k"),stackChat(),$("#Chat,#chat-log-board").append($("<div>").addClass("chat-item chat-notice").append($("<div>").addClass("chat-head").text(b||L.notice)).append($("<div>").addClass("chat-body").html(a)).append($("<div>").addClass("chat-stamp").text(c.toLocaleTimeString()))),$stage.chat.scrollTop(999999999),"tail"==b&&console.warn(c.toLocaleString(),a)}function stackChat(){var a=$("#Chat .chat-item"),b=$("#chat-log-board .chat-item");a.length>99&&a.first().remove(),b.length>199&&b.first().remove()}function iGoods(a){var b;return b="$"==a.charAt()?$data.shop[a.slice(0,4)]:$data.shop[a],{_id:a,group:b.group,term:b.term,name:iName(a),cost:b.cost,image:iImage(a,b),desc:iDesc(a),options:b.options}}function iName(a,b){if("dizzy_rainbow"==a&&$data.opts.dz)return 0;try{return"$"==a.charAt()?L[a.slice(0,4)][0]+" - "+a.slice(4):L[a][0]}catch(a){return 0}}function iDesc(a){return"$"==a.charAt()?L[a.slice(0,4)][1]:L[a][1]}function iImage(a,b){var c,d;if(a){if("$"==a.charAt())return iDynImage(a.slice(1,4),a.slice(4))}else"string"==typeof b&&(b={_id:"def",group:b,options:{}});return c=$data.shop[a]||b,d=c.options.hasOwnProperty("gif")?".gif":".png","dizzy_rainbow"==c._id&&$data.opts.dz?"/img/kkutu/moremi/back/def.png":"BDG"==c.group.slice(0,3)?"/img/kkutu/moremi/badge/"+c._id+d:"M"==c.group.charAt(0)?"/img/kkutu/moremi/"+c.group.slice(1)+"/"+c._id+d:"/img/kkutu/shop/"+c._id+d}function iDynImage(a,b){var c,d=document.createElement("canvas"),e=d.getContext("2d");switch(d.width=d.height=50,e.font="24px NBGothic",e.textAlign="center",e.textBaseline="middle",a){case"WPC":case"WPB":case"WPA":c=["WPC","WPB","WPA"].indexOf(a),e.beginPath(),e.arc(25,25,25,0,2*Math.PI),e.fillStyle=["#DDDDDD","#A6C5FF","#FFEF31"][c],e.fill(),e.fillStyle=["#000000","#4465C3","#E69D12"][c],e.fillText(b,25,25)}return d.toDataURL()}function queueObtain(a){$stage.dialog.obtain.is(":visible")?$data._obtain.push(a):(drawObtain(a),showDialog($stage.dialog.obtain,!0))}function drawObtain(a){playSound("success"),$("#obtain-image").css("background-image","url("+iImage(a.key)+")"),$("#obtain-name").html(iName(a.key))}function renderMoremi(a,b){var c,d,e=$(a).empty(),f={Mlhand:"Mhand",Mrhand:"Mhand"};b||(b={});for(c in MOREMI_PART)"Meyeacc"!=(d="M"+MOREMI_PART[c])&&"Mrhand"!=d&&"Mlhand"!=d&&"Mskin"!=d&&e.append($("<img>").addClass("moremies moremi-"+d.slice(1)).attr("src",iImage(b[d],f[d]||d)).css({width:"100%",height:"100%"}));d="Meyeacc",e.append($("<img>").addClass("moremies moremi-"+d.slice(1)).attr("src",iImage(b[d],f[d]||d)).css({width:"100%",height:"100%"})),d="Mrhand",e.append($("<img>").addClass("moremies moremi-"+d.slice(1)).attr("src",iImage(b[d],f[d]||d)).css({width:"100%",height:"100%"})),d="Mlhand",e.append($("<img>").addClass("moremies moremi-"+d.slice(1)).attr("src",iImage(b[d],f[d]||d)).css({width:"100%",height:"100%"})),(d=b.BDG)&&e.append($("<img>").addClass("moremies moremi-badge").attr("src",iImage(d)).css({width:"100%",height:"100%"})),e.children(".moremi-back").after($("<img>").addClass("moremies moremi-body").attr("src",b.robot?"/img/kkutu/moremi/robot.png":iImage(b.Mskin,"Mskin")).css({width:"100%",height:"100%"})),e.children(".moremi-rhand").css("transform","scaleX(-1)")}function commify(a){var b=/(^[+-]?\d+)(\d{3})/;if(null===a)return"?";for(a=a.toString();b.test(a);)a=a.replace(b,"$1,$2");return a}function setLocation(a){location.hash=a?"#"+a:""}function fail(a){return pfAlert(L["error_"+a].replace(/\n/g,"<br>"))}function yell(a){$stage.yell.show().css("opacity",0).html(a),$stage.yell.animate({opacity:1},3300),addTimeout(function(){$stage.yell.animate({opacity:0},3300),addTimeout(function(){$stage.yell.hide()},3e3)},4300)}var MODE,BEAT=[null,"10000000","10001000","10010010","10011010","11011010","11011110","11011111","11111111"],L,NULL_USER={profile:{title:L.null},data:{score:0}},MOREMI_PART,AVAIL_EQUIP,RULE,OPTIONS,MAX_LEVEL=1051,TICK=30,EXP=[],BAD=new RegExp(["느으*[^가-힣]*금마?","니[^가-힣]*(엄|앰|엠)","(ㅄ|ㅅㅂ|ㅂㅅ)","미친(년|놈)?","(병|븅|빙)[^가-힣]*신","보[^가-힣]*지","(새|섀|쌔|썌)[^가-힣]*(기|끼)","섹[^가-힣]*스","(시|씨|쉬|쒸)이*입?[^가-힣]*(발|빨|벌|뻘|팔|펄)","십[^가-힣]*새","씹","(애|에)[^가-힣]*미","자[^가-힣]*지","존[^가-힣]*나","좆|죶","지랄","창[^가-힣]*(녀|년|놈)","fuck","sex"].join("|"),"g"),ws,rws,$stage,$sound={},$_sound={},$data={},$lib={Classic:{},Jaqwi:{},Crossword:{},Typing:{},Hunmin:{},Daneo:{},Sock:{},allDaneo:{},All:{},keAll:{},Drawing:{},Jycls:{}},$rec,mobile,audioContext=!!window.hasOwnProperty("AudioContext")&&new AudioContext,_WebSocket=window.WebSocket,_setInterval=setInterval,_setTimeout=setTimeout,ky={shift:!1,ctrl:!1,i:!1};if($(document).ready(function(){function a(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/"}function b(a,b,c){var d=a.position();$(window).on("mousemove",function(e){var f=e.pageX-b,g=e.pageY-c;a.css("left",d.left+f),a.css("top",d.top+g)})}function c(a){$(window).off("mousemove")}function d(a,b){var c,d;for(c in OPTIONS)d=OPTIONS[c].name.toLowerCase(),-1==a.indexOf(c)?$("#"+b+"-"+d+"-panel").hide():$("#"+b+"-"+d+"-panel").show()}function e(a){var b,c,d={};for(b in OPTIONS)c=OPTIONS[b].name.toLowerCase(),$("#"+a+"-"+c).is(":checked")&&(d[c]=!0);return d}function f(a,b,c,d){var e;if(!d){if(a.gaming)return!1;if(a.password)return!1;if(a.players.length>=a.limit)return!1}if(a.mode!=b)return!1;for(e in c)if(!a.opts[e])return!1;return!0}function g(a){$(".team-selector").hasClass("team-unable")||send("team",{value:$(a.currentTarget).attr("id").slice(5)})}function h(){$stage.dialog.replayView.attr("disabled",!0)}function i(){ws=new _WebSocket($data.URL),ws.onopen=function(a){loading()},ws.onmessage=_onMessage=function(a){onMessage(JSON.parse(a.data))},ws.onclose=function(a){var b=L.closed+" (#"+a.code+")";rws&&rws.close(),stopAllSounds(),noPF||pfAlert(b),$.get("/kkutu_notice.html",function(a){loading(a)})},ws.onerror=function(a){console.warn(L.error,a)}}var j;for($.post("/userinfo",function(a){a.error&&console.log("Error occurred during logging!")}),$.post("/flush",function(a){}),$data.PUBLIC="true"==$("#PUBLIC").html(),$data.URL=$("#URL").html(),$data.version=$("#version").html(),$data.server=location.href.match(/\?.*server=(\d+)/)[1],$data.shop={},$data._okg=0,$data._playTime=0,$data._kd="",$data._timers=[],$data._obtain=[],$data._wblock={},$data._shut={},$data.usersR={},EXP.push(getRequiredScore(1)),j=2;j<MAX_LEVEL;j++)EXP.push(EXP[j-2]+getRequiredScore(j));if(EXP[MAX_LEVEL-1]=1/0,EXP.push(1/0),$stage={loading:$("#Loading"),lobby:{userListTitle:$(".UserListBox .product-title"),userList:$(".UserListBox .product-body"),roomListTitle:$(".RoomListBox .product-title"),roomList:$(".RoomListBox .product-body"),
createBanner:$("<div>").addClass("rooms-item rooms-create").append($("<div>").html("true"==$("#mobile").html()?L.newRoom:""))},chat:$("#Chat"),chatLog:$("#chat-log-board"),talk:$("#Talk"),chatBtn:$("#ChatBtn"),menu:{help:$("#HelpBtn"),setting:$("#SettingBtn"),community:$("#CommunityBtn"),newRoom:$("#NewRoomBtn"),setRoom:$("#SetRoomBtn"),quickRoom:$("#QuickRoomBtn"),spectate:$("#SpectateBtn"),shop:$("#ShopBtn"),dict:$("#DictionaryBtn"),wordPlus:$("#WordPlusBtn"),invite:$("#InviteBtn"),practice:$("#PracticeBtn"),ready:$("#ReadyBtn"),start:$("#StartBtn"),exit:$("#ExitBtn"),expEvt:$("#EXPEvtBtn"),exchange:$("#ExchangeBtn"),notice:$("#NoticeBtn"),replay:$("#ReplayBtn"),leaderboard:$("#LeaderboardBtn"),myeongboard:$("#MyeongboardBtn"),pingboard:$("#PingboardBtn"),ulist:$("#UserboardBtn"),unlist:$("#NicksetBtn"),gwalli:$("#GwalliBtn"),renew:$("#RenewBtn")},dialog:{enhance:$("#EnhanceDiag"),enhanceStart:$("#enhance-start"),setting:$("#SettingDiag"),settingServer:$("#setting-server"),settingOK:$("#setting-ok"),community:$("#CommunityDiag"),commFriends:$("#comm-friends"),commFriendAdd:$("#comm-friend-add"),keyword:$("#KeywordDiag"),keywords:$("#key-words"),keywordAdd:$("#keyword-add"),unNick:$("#NicksetDiag"),unlist:$("#nick-users"),unlistAdd:$("#nick-users-add"),room:$("#RoomDiag"),roomOK:$("#room-ok"),quick:$("#QuickDiag"),quickOK:$("#quick-ok"),result:$("#ResultDiag"),resultOK:$("#result-ok"),resultSave:$("#result-save"),practice:$("#PracticeDiag"),practiceOK:$("#practice-ok"),dict:$("#DictionaryDiag"),dictInjeong:$("#dict-injeong"),dictSearch:$("#dict-search"),wordPlus:$("#WordPlusDiag"),wordPlusOK:$("#wp-ok"),invite:$("#InviteDiag"),inviteList:$(".invite-board"),inviteRobot:$("#invite-robot"),roomInfo:$("#RoomInfoDiag"),roomInfoJoin:$("#room-info-join"),profile:$("#ProfileDiag"),profileShut:$("#profile-shut"),profileHandover:$("#profile-handover"),profileKick:$("#profile-kick"),profileLevel:$("#profile-level"),profileDress:$("#profile-dress"),profileWhisper:$("#profile-whisper"),profileReport:$("#profile-report"),kickVote:$("#KickVoteDiag"),kickVoteY:$("#kick-vote-yes"),kickVoteN:$("#kick-vote-no"),purchase:$("#PurchaseDiag"),purchaseOK:$("#purchase-ok"),purchaseNO:$("#purchase-no"),evtOK:$("#pevent-ok"),replay:$("#ReplayDiag"),replayView:$("#replay-view"),leaderboard:$("#LeaderboardDiag"),lbTable:$("#ranking tbody"),lbPage:$("#lb-page"),lbNext:$("#lb-next"),lbMe:$("#lb-me"),lbPrev:$("#lb-prev"),myeongboard:$("#MyeongboardDiag"),mbTable:$("#myeong tbody"),mbPage:$("#mb-page"),mbNext:$("#mb-next"),mbMe:$("#mb-me"),mbPrev:$("#mb-prev"),pingboard:$("#PingboardDiag"),pbTable:$("#ping tbody"),pbPage:$("#pb-page"),pbNext:$("#pb-next"),pbPrev:$("#pb-prev"),pbMe:$("#pb-me"),dress:$("#DressDiag"),dressOK:$("#dress-ok"),charFactory:$("#CharFactoryDiag"),cfCompose:$("#cf-compose"),injPick:$("#InjPickDiag"),injPickAll:$("#injpick-all"),injPickNo:$("#injpick-no"),injPickOK:$("#injpick-ok"),chatLog:$("#ChatLogDiag"),obtain:$("#ObtainDiag"),obtainOK:$("#obtain-ok"),help:$("#HelpDiag"),pAlert:$("#pAlertDiag"),pAlertOK:$("#palert-ok"),pJeje:$("#pJejeDiag"),pJejeOK:$("#pjeje-ok"),pConfirm:$("#pConfirmDiag"),pYes:$("#pconfirm-yes"),pNo:$("#pconfirm-no"),pInput:$("#pInputDiag"),piYes:$("#pinput-yes"),piNo:$("#pinput-no"),nInput:$("#nInputDiag"),niYes:$("#ninput-yes"),niNo:$("#ninput-no"),pHand:$("#pHandDiag"),pLeft:$("#phand-left"),pRight:$("#phand-right"),svrule:$("#SvruleDiag"),svruleOK:$("#svrule-ok"),report:$("#ReportDiag"),reportOK:$("#report-ok"),uslist:$("#UserListDiag"),usRList:$(".userlist-board"),usRListTitle:$("#UserListDiag .dialog-title"),acReset:$("#reset-account"),GwalliJ:$("#GwalliDiag"),effect:$("#EffectDiag"),effClose:$("#ed-close")},box:{chat:$(".ChatBox"),userList:$(".UserListBox"),roomList:$(".RoomListBox"),shop:$(".ShopBox"),room:$(".RoomBox"),game:$(".GameBox"),me:$(".MeBox")},game:{display:$(".jjo-display"),hints:$(".GameBox .hints"),tools:$(".GameBox .tools"),drawingTitle:$("#drawing-title"),themeisTitle:$("#themeis-title"),cwcmd:$(".GameBox .cwcmd"),bb:$(".GameBox .bb"),items:$(".GameBox .items"),chain:$(".GameBox .chain"),round:$(".rounds"),here:$(".game-input").hide(),hereText:$("#game-input"),history:$(".history"),roundBar:$(".jjo-round-time .graph-bar"),turnBar:$(".jjo-turn-time .graph-bar")},find:{shop:$("#shop-search")},yell:$("#Yell").hide(),balloons:$("#Balloons")},void 0==_WebSocket)return loading(L.websocketUnsupport),void alert(L.websocketUnsupport);var k="true"==$("#mobile").html();for($data._soundList=k?[{key:"k",value:"/media/kkutu/k.mp3"},{key:"1st",value:"/media/low/LobbyBGM_1st.mp3"},{key:"2nd",value:"/media/low/LobbyBGM_2nd.mp3"},{key:"og",value:"/media/low/LobbyBGM.mp3"},{key:"jaqwi",value:"/media/kkutu/JaqwiBGM.mp3"},{key:"jaqwiF",value:"/media/kkutu/JaqwiFastBGM.mp3"},{key:"game_start",value:"/media/kkutu/game_start.mp3"},{key:"round_start",value:"/media/kkutu/round_start.mp3"},{key:"fail",value:"/media/kkutu/fail.mp3"},{key:"timeout",value:"/media/kkutu/timeout.mp3"},{key:"lvup",value:"/media/kkutu/lvup.mp3"},{key:"Al",value:"/media/kkutu/Al.mp3"},{key:"success",value:"/media/kkutu/success.mp3"},{key:"missing",value:"/media/kkutu/missing.mp3"},{key:"mission",value:"/media/kkutu/mission.mp3"},{key:"kung",value:"/media/kkutu/kung.mp3"},{key:"horr",value:"/media/kkutu/horr.mp3"}]:[{key:"k",value:"/media/kkutu/k.mp3"},{key:"lobby",value:"/media/kkutu/LobbyBGM.mp3"},{key:"1st",value:"/media/kkutu/LobbyBGM_1st.mp3"},{key:"2nd",value:"/media/kkutu/LobbyBGM_2nd.mp3"},{key:"og",value:"/media/kkutu/LobbyBGM.mp3"},{key:"jaqwi",value:"/media/kkutu/JaqwiBGM.mp3"},{key:"jaqwiF",value:"/media/kkutu/JaqwiFastBGM.mp3"},{key:"game_start",value:"/media/kkutu/game_start.mp3"},{key:"round_start",value:"/media/kkutu/round_start.mp3"},{key:"fail",value:"/media/kkutu/fail.mp3"},{key:"timeout",value:"/media/kkutu/timeout.mp3"},{key:"lvup",value:"/media/kkutu/lvup.mp3"},{key:"Al",value:"/media/kkutu/Al.mp3"},{key:"success",value:"/media/kkutu/success.mp3"},{key:"missing",value:"/media/kkutu/missing.mp3"},{key:"mission",value:"/media/kkutu/mission.mp3"},{key:"kung",value:"/media/kkutu/kung.mp3"},{key:"horr",value:"/media/kkutu/horr.mp3"}],j=0;j<=10;j++)$data._soundList.push({key:"T"+j,value:"/media/kkutu/T"+j+".mp3"},{key:"K"+j,value:"/media/kkutu/K"+j+".mp3"},{key:"As"+j,value:"/media/kkutu/As"+j+".mp3"});loadSounds($data._soundList,function(){processShop(i)}),delete $data._soundList,MOREMI_PART=$("#MOREMI_PART").html().split(","),AVAIL_EQUIP=$("#AVAIL_EQUIP").html().split(","),RULE=JSON.parse($("#RULE").html()),OPTIONS=JSON.parse($("#OPTIONS").html()),MODE=Object.keys(RULE),mobile="true"==$("#mobile").html(),mobile&&(TICK=200),$data._timePercent=function(){return 100-($data._turnSound.audio?$data._turnSound.audio.currentTime:audioContext.currentTime-$data._turnSound.startedAt)/$data.turnTime*1e5+"%"},$data.setRoom=function(a,b){var c="for-lobby"==getOnly();null==b?(delete $data.rooms[a],c&&$("#room-"+a).remove()):(c&&!$data.rooms[a]&&$stage.lobby.roomList.append($("<div>").attr("id","room-"+a)),$data.rooms[a]=b,c&&$("#room-"+a).replaceWith(roomListBar(b)))},$data.setUser=function(a,b){var c,d=getOnly(),e="for-lobby"==d||"for-master"==d;if($data._replay)return void($rec.users[a]=b);null==b?(delete $data.users[a],e&&$("#users-item-"+a+",#invite-item-"+a).remove()):(e&&!$data.users[a]&&(c=userListBar(b,"for-master"==d),"for-master"==d?$stage.dialog.inviteList.append(c):$stage.lobby.userList.append(c)),$data.users[a]=b,e&&(c?$("#"+c.attr("id")).replaceWith(c):$("#"+("for-lobby"==d?"users-item-":"invite-item")+a).replaceWith(userListBar(b,"for-master"==d))))},$stage.dialog.pYes.click(function(){$stage.dialog.pConfirm.hide(),fnc(),pcReset()}),$stage.dialog.pNo.click(function(){$stage.dialog.pConfirm.hide(),jnc(),pcReset()}),$stage.dialog.piYes.click(function(){ync(),onnick||($stage.dialog.pInput.hide(),piReset())}),$stage.dialog.piNo.click(function(){onnick||($stage.dialog.pInput.hide(),nnc(),piReset())}),$stage.dialog.niYes.click(function(){inc(),onnick||($stage.dialog.nInput.hide(),niReset())}),$stage.dialog.niNo.click(function(){knc(),onnick||($stage.dialog.nInput.hide(),niReset())}),$stage.dialog.pRight.click(function(){$stage.dialog.pHand.hide(),rnc(),phReset()}),$stage.dialog.pLeft.click(function(){$stage.dialog.pHand.hide(),lnc(),phReset()}),$("#enhance-start").click(function(){pfConfirm("<b>"+en_info.ping+"</b>핑을 사용하여 강화를 시도합니다.<br>성공률은 <b>"+en_info.per+"</b>% 입니다.<br><br>강화하시겠습니까?",function(){do_enhance(en_info.item)})}),$("#i-enhance").click(function(){pfAlert("강화를 원하는 아이템을 <b>ALT + 클릭</b>해 주세요.")}),$("#payback-help").click(function(){pfAlert(L.paybackHelp)}),$("#show-eff").click(function(){startEq()}),$stage.dialog.effClose.click(function(){$stage.dialog.effect.hide()}),$(document).on("paste",function(a){if($data.room&&$data.room.gaming)return a.preventDefault(),!1}),$stage.talk.on("drop",function(a){if($data.room&&$data.room.gaming)return a.preventDefault(),!1}),$(document).bind("keydown",function(a){var b=!1;17==a.keyCode&&(ky.ctrl=!0),16==a.keyCode&&(ky.shift=!0),73==a.keyCode&&(ky.i=!0),ky.i&&ky.shift&&ky.ctrl?b=!0:123==a.keyCode&&(b=!0);try{var c="b1_gm"===$data.users[$data.id].equip.STY}catch(a){var c=!1}b&&!c&&(a.preventDefault(),a.returnValue=!1)}),$(document).on("keyup",function(a){17==a.keyCode&&(ky.ctrl=!1),16==a.keyCode&&(ky.shift=!1),73==a.keyCode&&(ky.i=!1)}),$data.opts=$.cookie("kks");var l=$.cookie("kkw");l&&a("kkw",l,7),$data.opts?(applyOptions(JSON.parse(decodeURIComponent($data.opts))),a("kks",encodeURIComponent(JSON.stringify($data.opts)),1.5)):(applyOptions({mb:!1,me:!1,di:!1,dw:!1,df:!1,ar:!1,su:!0,ow:!1,ou:!1,ml:!1,rq:!1,ms:!1,bw:!0,mc:!1,dz:!1,rv:!1,bg:"og",th:"light",kw:!1,wd:!1,dt:!1}),a("kks",encodeURIComponent(JSON.stringify($data.opts)),1.5)),$(".dialog-head .dialog-title").on("mousedown",function(a){var c=$(a.currentTarget).parents(".dialog");$(".dialog-front").removeClass("dialog-front"),c.addClass("dialog-front"),b(c,a.pageX,a.pageY)}).on("mouseup",function(a){c()}),$("#setting-keyword").on("click",function(a){updateKeyword(),showDialog($stage.dialog.keyword)}),$("#keyword-add").on("click",function(b){var c=$.cookie("kkw");if(c)c=decodeURIComponent(c);else var c="";pfInput("키워드를 입력하세요.<br><b>콤마(,)</b>로 단어를 구분합니다.<br>최대 50개 등록 가능",function(){var b=$("#pinput-in").val();if(b||(b=""),b.split(",").length>50)return pfAlert("최대 50개의 키워드만 등록 가능합니다.");a("kkw",encodeURIComponent(b),7),updateKeyword()},noFunc,!1,c)}),$stage.dialog.svruleOK.on("click",function(a){$.cookie("ksv","1"),$stage.dialog.svrule.hide()}),$stage.menu.renew.on("click",function(a){notice("오류로 인해 잠시 비활성화된 기능입니다.")}),$stage.chatBtn.on("click",function(a){checkInput();var b=(new Date,mobile&&$stage.game.here.is(":visible")?$stage.game.hereText.val():$stage.talk.val()),c={value:b};if(b){var d,e;if("/"==c.value[0])c.cmd=c.value.split(" "),runCommand(c.cmd);else{($stage.game.here.is(":visible")||$data._relay)&&(c.relay=!0);try{$data.users[$data.id].equip.STY}catch(a){}c.relay||(c.value+=" ",(d=c.value.match(/\@[A-Za-z0-9]+\s/g))&&d.forEach(function(a){e=a.replace("@",""),$data.users[e.trim()]&&(c.value=c.value.replace(a,"@"+$data.users[e.trim()].nickname))}),c.value=c.value.trim()),send("talk",c)}$data._whisper?($stage.talk.val("/e "+$data._whisper+" "),delete $data._whisper):$stage.talk.val(""),$stage.game.hereText.val("")}}).hotkey($stage.talk,13).hotkey($stage.game.hereText,13),$("#cw-q-input").on("keydown",function(a){if(13==a.keyCode){var b=$(a.currentTarget),c=b.val(),d={relay:!0,data:$data._sel,value:c};if(!c)return;send("talk",d),b.val("")}}).on("focusout",function(a){$(".cw-q-body").empty(),$stage.game.cwcmd.css("opacity",0)}),$("#room-limit").on("change",function(a){var b=$(a.currentTarget),c=b.val();c<1||c>8?b.css("color","#FF4444"):b.css("color","")}),$("#room-round").on("change",function(a){var b=$(a.currentTarget),c=b.val();c<1||c>15?b.css("color","#FF4444"):b.css("color","")}),$stage.dialog.reportOK.on("click",function(a){var b=$("#ReportUser").val(),c=$("#RWrite").val(),d=!1;$("#report-badwords").is(":checked")&&(c=L.reportBadwords),$("#report-saching").is(":checked")&&(c=L.reportSaching),$("#report-hacking").is(":checked")&&(c=L.reportHacking),$("#report-badplay").is(":checked")&&(c=L.reportBadplay),$("#report-else").is(":checked")&&(c="기타");var e=$("#RWrite").val();""!=e.replace(/\s/g,"")&&void 0!=e&&null!=e||(d=!0,pfAlert(L.reportWriteR)),$("#report-else").is(":checked")||$("#report-hacking").is(":checked")||$("#report-saching").is(":checked")||$("#report-badwords").is(":checked")||$("#report-badplay").is(":checked")||(d=!0,pfAlert(L.reportWriteR)),b=encodeURIComponent(b),c=encodeURIComponent(c),e=encodeURIComponent(e);try{decodeURIComponent(c),decodeURIComponent(b),decodeURIComponent(e)}catch(a){d=!0,pfAlert(L.CharCheck)}if(d||$.post("/report/"+b+"/"+c+"/"+e,function(a){if(a.error)return pfAlert(L.CharCheck);pfAlert(L.reportSuccess)}),d){var f=$("#ReportDiag").parents(".dialog");$(".dialog-front").removeClass("dialog-front"),f.addClass("dialog-front");var g=$("#pAlertDiag").parents(".dialog");$(".dialog-front").removeClass("dialog-front"),g.addClass("dialog-front")}else $stage.dialog.report.hide()}),$stage.game.here.on("click",function(a){mobile||$stage.talk.focus()}),$stage.talk.on("keyup",function(a){$stage.game.hereText.val($stage.talk.val())}),$(window).on("beforeunload",function(a){if($data.room)return L.sureExit}),$(".result-me-gauge .graph-bar").addClass("result-me-before-bar"),$(".result-me-gauge").append($("<div>").addClass("graph-bar result-me-current-bar")).append($("<div>").addClass("graph-bar result-me-bonus-bar")),setPFDialog=function(){$stage.dialog.pConfirm.children(".dialog-head").append($("<div>").addClass("pcClose").on("click",function(a){$stage.dialog.pNo.trigger("click")}).hotkey(!1,27)),$stage.dialog.pInput.children(".dialog-head").append($("<div>").addClass("piClose").on("click",function(a){$stage.dialog.piNo.trigger("click")}).hotkey(!1,27)),$stage.dialog.nInput.children(".dialog-head").append($("<div>").addClass("niClose").on("click",function(a){$stage.dialog.niNo.trigger("click")}).hotkey(!1,27)),$stage.dialog.pHand.children(".dialog-head").append($("<div>").addClass("phClose").on("click",function(a){phReset(),$(a.currentTarget).parent().parent().hide()}).hotkey(!1,27))};for(j in $stage.dialog)$stage.dialog[j].children(".dialog-head").hasClass("no-close")||$stage.dialog[j].children(".dialog-head").append($("<div>").addClass("closeBtn").on("click",function(a){$(a.currentTarget).parent().parent().hide()}).hotkey(!1,27));$stage.dialog.uslist.children(".dialog-head").append($("<div>").addClass("plus").on("click",function(a){var b=$(".userlist-board").height(),c=$("#UserListDiag").height();b<440&&($(".userlist-board").animate({height:b+22},100),$("#UserListDiag").animate({height:c+22},100))})),$stage.dialog.uslist.children(".dialog-head").append($("<div>").addClass("minus").on("click",function(a){var b=$(".userlist-board").height(),c=$("#UserListDiag").height();b>22&&($(".userlist-board").animate({height:b-22},100),$("#UserListDiag").animate({height:c-22},100))})),setPFDialog(),"1"!=$.cookie("ksv")&&showDialog($stage.dialog.svrule),$("#gwalli-board").attr("src","/gwalli"),$stage.menu.help.on("click",function(a){$("#help-board").attr("src","/help"),showDialog($stage.dialog.help)}),$stage.menu.setting.on("click",function(a){showDialog($stage.dialog.setting)}),$stage.menu.community.on("click",function(a){if($data.guest)return fail(451);showDialog($stage.dialog.community)}),$stage.dialog.commFriendAdd.on("click",function(a){pfInput(L.friendAddNotice,function(){var a=$("#pinput-in").val();if(""!=a.replace(/\s/g,""))return $data.users[a]?void send("friendAdd",{target:a},!0):fail(450)})}),$stage.menu.newRoom.on("click",function(a){var b;$stage.dialog.quick.hide(),$data.typeRoom="enter",showDialog(b=$stage.dialog.room),b.find(".dialog-title").html(L.newRoom)}),$stage.menu.gwalli.on("click",function(a){return $data.guest&&void 0!=$data.guest?pfAlert("관리자만 접속 가능한 페이지입니다."):"b1_gm"!==$data.users[$data.id].equip.STY&&"b1_wd"!==$data.users[$data.id].equip.STY&&"b1_um"!==$data.users[$data.id].equip.STY?pfAlert("관리자만 접속 가능한 페이지입니다."):void showDialog($stage.dialog.GwalliJ)}),$stage.menu.setRoom.on("click",function(a){var b,c,d,e=RULE[MODE[$data.room.mode]];$data.typeRoom="setRoom",$("#room-title").val($data.room.title),$("#room-limit").val($data.room.limit),$("#room-mode").val($data.room.mode).trigger("change"),$("#room-round").val($data.room.round),$("#room-time").val($data.room.time/e.time);for(c in OPTIONS)d=OPTIONS[c].name.toLowerCase(),$("#room-"+d).attr("checked",$data.room.opts[d]);$data._injpick=$data.room.opts.injpick,showDialog(b=$stage.dialog.room),b.find(".dialog-title").html(L.setRoom)}),$("#quick-mode, #QuickDiag .game-option").on("change",function(a){var b,c,g=$("#quick-mode").val(),h=0;"quick-mode"==a.currentTarget.id&&$("#QuickDiag .game-option").prop("checked",!1),c=e("quick"),d(RULE[MODE[g]].opts,"quick");for(b in $data.rooms)f($data.rooms[b],g,c,!0)&&h++;$("#quick-status").html(L.quickStatus+" "+h)}),$stage.menu.quickRoom.on("click",function(a){$stage.dialog.room.hide(),showDialog($stage.dialog.quick),$stage.dialog.quick.is(":visible")&&($("#QuickDiag>.dialog-body").find("*").prop("disabled",!1),$("#quick-mode").trigger("change"),$("#quick-queue").html(""),$stage.dialog.quickOK.removeClass("searching").html(L.OK))}),$stage.dialog.quickOK.on("click",function(a){function b(){var a,b=[];if(!$stage.dialog.quick.is(":visible"))return void clearTimeout($data._quickT);$("#quick-queue").html(L.quickQueue+" "+prettyTime(1e3*$data._quickn++));for(a in $data.rooms)f($data.rooms[a],c,d)&&b.push(a);b.length&&(a=b[Math.floor(Math.random()*b.length)],$data._preQuick=!0,$("#room-"+a).trigger("click"))}var c=$("#quick-mode").val(),d=e("quick");if("for-lobby"==getOnly()){if($stage.dialog.quickOK.hasClass("searching"))return $stage.dialog.quick.hide(),b(),void $stage.menu.quickRoom.trigger("click");$("#QuickDiag>.dialog-body").find("*").prop("disabled",!0),$stage.dialog.quickOK.addClass("searching").html("<i class='fa fa-spinner fa-spin'></i> "+L.NO).prop("disabled",!1),$data._quickn=0,$data._quickT=addInterval(b,1e3)}}),$("#room-mode").on("change",function(a){var b=$("#room-mode").val(),c=RULE[MODE[b]];$("#game-mode-expl").html(L["modex"+b]),d(c.opts,"room"),$data._injpick=[],-1!=c.opts.indexOf("ijp")?$("#room-injpick-panel").show():$("#room-injpick-panel").hide(),"Typing"==c.rule&&$("#room-round").val(3),$("#room-time").children("option").each(function(a,b){$(b).html(Number($(b).val())*c.time+L.SECOND)})}).trigger("change"),$stage.menu.spectate.on("click",function(a){$stage.menu.spectate.hasClass("toggled")?(send("form",{mode:"J"}),$stage.menu.spectate.removeClass("toggled")):(send("form",{mode:"S"}),$stage.menu.spectate.addClass("toggled"))}),$stage.menu.shop.on("click",function(a){($data._shop=!$data._shop)?($data._exchange&&$stage.menu.exchange.trigger("click"),loadShop(),$stage.menu.shop.addClass("toggled")):$stage.menu.shop.removeClass("toggled"),updateUI()}),$stage.menu.exchange.on("click",function(a){($data._exchange=!$data._exchange)?($data._shop&&$stage.menu.shop.trigger("click"),loadExc(),$stage.menu.exchange.addClass("toggled")):$stage.menu.exchange.removeClass("toggled"),updateUI()}),$("#Jejed").hide(),checkEnter=function(a){if(13==a.keyCode){var b=$("#shop-search").val(),c=!0;null!=b&&void 0!=b&&""!=b||(loadShop(),c=!1),c&&""==(b=b.replace(/\s/g,""))&&(c=!1,$("#shop-search").val(""),loadShop()),c&&searchShop(b),a.preventDefault()}},$("#shop-search").on("keyup",checkEnter),$(".shop-type").on("click",function(a){var b=$(a.currentTarget),c=b.attr("id").slice(10);$(".shop-type.selected").removeClass("selected"),b.addClass("selected"),filterShop("all"==c||b.attr("value"))}),$stage.menu.dict.on("click",function(a){showDialog($stage.dialog.dict)}),$stage.menu.wordPlus.on("click",function(a){showDialog($stage.dialog.wordPlus)}),$stage.menu.invite.on("click",function(a){showDialog($stage.dialog.invite),updateUserList(!0)}),$stage.menu.ulist.on("click",function(a){showDialog($stage.dialog.uslist),updateUserList(!0)}),$stage.menu.unlist.on("click",function(a){showDialog($stage.dialog.unNick)}),$stage.menu.practice.on("click",function(a){RULE[MODE[$data.room.mode]].ai?($("#PracticeDiag .dialog-title").html(L.practice),$("#ai-team").val(0).prop("disabled",!0),showDialog($stage.dialog.practice)):send("practice",{level:-1})}),$stage.menu.ready.on("click",function(a){send("ready")}),$stage.menu.start.on("click",function(a){send("start")}),$stage.menu.exit.on("click",function(a){var b=$data.users[$data.id];if("O"!=b.game.form&&"S"!=b.game.form){if($data.room.gaming&&!$data.room.opts.exitblock)return pfConfirm(L.sureExit,function(){clearGame(),send("leave")});if($data.room.gaming&&$data.room.opts.exitblock)return void alert(L.exitBlocked)}else if($data.room.gaming)return pfConfirm(L.sureExit,function(){clearGame(),send("leave")});send("leave")}),$stage.menu.replay.on("click",function(a){$data._replay&&replayStop(),showDialog($stage.dialog.replay),h(),$stage.dialog.replay.is(":visible")&&$("#replay-file").trigger("change")}),$stage.menu.leaderboard.on("click",function(a){$data._lbpage=0,$stage.dialog.leaderboard.is(":visible")?$stage.dialog.leaderboard.hide():$.get("/ranking",function(a){drawLeaderboard(a),showDialog($stage.dialog.leaderboard)})}),$stage.menu.myeongboard.on("click",function(a){$data._mbpage=0,$stage.dialog.myeongboard.is(":visible")?$stage.dialog.myeongboard.hide():$.get("/myeong",function(a){drawMyeongboard(a),showDialog($stage.dialog.myeongboard)})}),$stage.menu.pingboard.on("click",function(a){$data._pbpage=0,$stage.dialog.pingboard.is(":visible")?$stage.dialog.pingboard.hide():$.get("/ping",function(a){drawPingboard(a),showDialog($stage.dialog.pingboard)})}),$stage.dialog.lbPrev.on("click",function(a){$(a.currentTarget).attr("disabled",!0);var b=$data._lbpage-1;$.get("/ranking?p="+($data._lbpage-1),function(a){drawLeaderboard(a,b,2)})}),$stage.dialog.lbMe.on("click",function(a){$(a.currentTarget).attr("disabled",!0),$.get("/ranking?id="+$data.id,function(a){drawLeaderboard(a,$data.id,1)})}),$stage.dialog.lbNext.on("click",function(a){$(a.currentTarget).attr("disabled",!0);var b=$data._lbpage+1;$.get("/ranking?p="+($data._lbpage+1),function(a){drawLeaderboard(a,b,2)})}),$stage.dialog.mbMe.on("click",function(a){$(a.currentTarget).attr("disabled",!0),$.get("/myeong?id="+$data.id,function(a){drawMyeongboard(a,$data.id,1)})}),$stage.dialog.mbNext.on("click",function(a){$(a.currentTarget).attr("disabled",!0),$.get("/myeong?p="+($data._mbpage+1),function(a){drawMyeongboard(a,$data._mbpage+1,2)})}),$stage.dialog.mbPrev.on("click",function(a){$(a.currentTarget).attr("disabled",!0),$.get("/myeong?p="+($data._mbpage-1),function(a){drawMyeongboard(a,$data._mbpage-1,2)})}),$stage.dialog.pbPrev.on("click",function(a){$(a.currentTarget).attr("disabled",!0),$.get("/ping?p="+($data._pbpage-1),function(a){drawPingboard(a,$data._pbpage-1,2)})}),$stage.dialog.pbNext.on("click",function(a){$(a.currentTarget).attr("disabled",!0),$.get("/ping?p="+($data._pbpage+1),function(a){drawPingboard(a,$data._pbpage+1,2)})}),$stage.dialog.pbMe.on("click",function(a){$(a.currentTarget).attr("disabled",!0),$.get("/ping?id="+$data.id,function(a){drawPingboard(a,$data.id,1)})}),$stage.dialog.settingServer.on("click",function(a){location.href="/"}),$stage.dialog.settingOK.on("click",function(b){applyOptions({mb:$("#mute-bgm").is(":checked"),me:$("#mute-effect").is(":checked"),di:$("#deny-invite").is(":checked"),dw:$("#deny-whisper").is(":checked"),df:$("#deny-friend").is(":checked"),ar:$("#auto-ready").is(":checked"),su:$("#sort-user").is(":checked"),ow:$("#only-waiting").is(":checked"),ou:$("#only-unlock").is(":checked"),ml:$("#manlep-exp").is(":checked"),rq:$("#req-exp").is(":checked"),ms:$("#mis-sion").is(":checked"),bw:$("#yok-seol").is(":checked"),jm:$("#jang-moon").is(":checked"),mc:$("#deny-mention").is(":checked"),dz:$("#dizzy-off").is(":checked"),rv:$("#reverse-room").is(":checked"),bg:$("#pink-bgm").val(),th:$("#pink-theme").val(),kw:$("#deny-keyword").is(":checked"),wd:$("#ka-word").is(":checked"),dt:$("#dt-gs").is(":checked")}),a("kks",encodeURIComponent(JSON.stringify($data.opts)),1.5),$stage.dialog.setting.hide()}),$stage.dialog.profileLevel.on("click",function(a){$("#PracticeDiag .dialog-title").html(L.robot),$("#ai-team").prop("disabled",!1),showDialog($stage.dialog.practice)}),$stage.dialog.pAlertOK.on("click",function(a){$stage.dialog.pAlert.hide()}),$stage.dialog.pJejeOK.on("click",function(a){$stage.dialog.pJeje.hide(),$("#Jejed").animate({opacity:0},1e3),setTimeout(function(){$("#Jejed").hide()},1e3)}),$stage.dialog.practiceOK.on("click",function(a){var b=$("#practice-level").val(),c=$("#ai-team").val();$stage.dialog.practice.hide(),$("#PracticeDiag .dialog-title").html()==L.robot?send("setAI",{target:$data._profiled,level:b,team:c}):send("practice",{level:b})}),$stage.dialog.roomOK.on("click",function(a){var b,c,d={injpick:$data._injpick};for(b in OPTIONS)c=OPTIONS[b].name.toLowerCase(),d[c]=$("#room-"+c).is(":checked");send($data.typeRoom,{title:$("#room-title").val().trim()||$("#room-title").attr("placeholder").trim(),password:$("#room-pw").val(),limit:$("#room-limit").val(),mode:$("#room-mode").val(),round:$("#room-round").val(),time:$("#room-time").val(),opts:d}),$stage.dialog.room.hide()}),$stage.dialog.resultOK.on("click",function(a){if(1==$data._resultPage&&$data._resultRank)return void drawRanking($data._resultRank[$data.id]);$data.practicing&&($data.room.gaming=!0,send("leave")),$data.resulting=!1,$stage.dialog.result.hide(),delete $data._replay,delete $data._resultRank,$stage.box.room.height(360),playBGM($data.opts.bg),forkChat(),updateUI()}),$stage.dialog.resultSave.on("click",function(a){var b=new Date($rec.time),c=new Blob([JSON.stringify($rec)],{type:"text/plain"}),d=URL.createObjectURL(c),e="KKuTu"+b.getFullYear()+"-"+(b.getMonth()+1)+"-"+b.getDate()+" "+b.getHours()+"-"+b.getMinutes()+"-"+b.getSeconds()+".kkt",f=$("<a>").attr({download:e,href:d}).on("click",function(a){f.remove()});$("#Jungle").append(f),f[0].click()}),$stage.dialog.dictInjeong.on("click",function(a){var b=$(a.currentTarget);b.is(":disabled")||$("#dict-theme").val()&&(b.prop("disabled",!0),$("#dict-output").html(L.searching),$.get("/injeong/"+$("#dict-input").val()+"?theme="+$("#dict-theme").val(),function(a){if(addTimeout(function(){b.prop("disabled",!1)},2e3),a.error)return $("#dict-output").html(a.error+": "+L["wpFail_"+a.error]);$("#dict-output").html(L.wpSuccess+"("+a.message+")")}))}),$stage.dialog.dictSearch.on("click",function(a){var b=$(a.currentTarget);b.is(":disabled")||(b.prop("disabled",!0),$("#dict-output").html(L.searching),tryDict($("#dict-input").val(),function(a){if(addTimeout(function(){b.prop("disabled",!1)},500),a.error)return $("#dict-output").html(a.error+": "+L["wpFail_"+a.error]);$("#dict-output").html(processWord(a.word,a.mean,a.theme,a.type.split(",")))},1))}).hotkey($("#dict-input"),13),$stage.dialog.wordPlusOK.on("click",function(a){var b;$stage.dialog.wordPlusOK.hasClass("searching")||(b=$("#wp-input").val())&&(b=b.replace(/[^a-z가-힣]/g,""),b.length<2||($("#wp-input").val(""),$(a.currentTarget).addClass("searching").html("<i class='fa fa-spin fa-spinner'></i>"),send("wp",{value:b})))}).hotkey($("#wp-input"),13),$("#EXPEvtBtn").on("click",function(a){$.get("/evtstat",function(a){if(a.error)return fail(a.error);var b=a.evtKey?a.evtKey/5050*100:0;if(b>100&&(b=100),b=b.toFixed(2),a.evtKey)if(a.evtKey>=5050){rst='<br><font color="blue">완료!</font>';var c=5050}else{rst="";var c=a.evtKey}else var c=5050;pfAlert("<b>어린이날 코인 모으기!!</b>\n\n<b>2단계\n</b>"+commify(c)+" / 5,050 ["+b+"%]"+rst)})}),$stage.dialog.inviteRobot.on("click",function(a){requestInvite("AI")}),$stage.box.me.on("click",function(a){requestProfile($data.id)}),$stage.dialog.roomInfoJoin.on("click",function(a){$stage.dialog.roomInfo.hide(),tryJoin($data._roominfo)}),$stage.dialog.profileHandover.on("click",function(a){pfConfirm(L.sureHandover,function(){send("handover",{target:$data._profiled})})}),$stage.dialog.profileKick.on("click",function(a){if($data.robots.hasOwnProperty($data._profiled))return send("kick",{robot:$data.robots.hasOwnProperty($data._profiled),target:$data._profiled});pfConfirm(L.sureKick,function(){send("kick",{robot:$data.robots.hasOwnProperty($data._profiled),target:$data._profiled})})}),$stage.dialog.profileShut.on("click",function(a){var b=$data.users[$data._profiled];b&&toggleShutBlock(b.nickname)}),$stage.dialog.profileWhisper.on("click",function(a){var b=$data.users[$data._profiled];$stage.talk.val("/e "+b.nickname.replace(/\s/g,"")+" ").focus()}),$("#manlep-exp").change(function(){this.checked&&$("#req-exp").is(":checked")&&$("#req-exp").attr("checked",!1)}),$("#req-exp").change(function(){this.checked&&$("#manlep-exp").is(":checked")&&$("#manlep-exp").attr("checked",!1)}),$("#sort-nick").change(function(){this.checked?$("#sort-user").is(":checked")&&$("#sort-user").attr("checked",!1):$("#sort-user").prop("checked",!0)}),$("#sort-user").change(function(){this.checked?$("#sort-nick").is(":checked")&&$("#sort-nick").attr("checked",!1):$("#sort-nick").prop("checked",!0)}),$("#ka-word").change(function(){this.checked?$("#ka-icld").is(":checked")&&$("#ka-icld").attr("checked",!1):$("#ka-word").prop("checked",!0)}),$("#ka-icld").change(function(){this.checked?$("#ka-word").is(":checked")&&$("#ka-word").attr("checked",!1):$("#ka-icld").prop("checked",!0)}),$("#dt-gs").change(function(){this.checked?$("#dt-wb").is(":checked")&&$("#dt-wb").attr("checked",!1):$("#dt-gs").prop("checked",!0)}),$("#dt-wb").change(function(){this.checked?$("#dt-gs").is(":checked")&&$("#dt-gs").attr("checked",!1):$("#dt-wb").prop("checked",!0)}),$stage.dialog.profileReport.on("click",function(a){if($data.guest)return fail(642);var b=$data.users[$data._profiled];$("#report-badwords").attr("checked",!1),$("#report-else").attr("checked",!1),$("#report-hacking").attr("checked",!1),$("#report-saching").attr("checked",!1),$("#report-badplay").attr("checked",!1),$("#RWrite").val(""),$("#ReportUser").val(""),$("#RWrite").attr("readonly",!0),$("#ReportUser").hide(),showDialog($stage.dialog.report),$("#ReportUser").hide(),$("#ReportUser").val("ID: "+b.id+"  NICK: "+b.nickname)}),$("#report-badwords").change(function(){this.checked&&($("#report-else").is(":checked")&&$("#report-else").attr("checked",!1),$("#report-saching").is(":checked")&&$("#report-saching").attr("checked",!1),$("#report-hacking").is(":checked")&&$("#report-hacking").attr("checked",!1),$("#report-badplay").is(":checked")&&$("#report-badplay").attr("checked",!1),$("#RWrite").attr("readonly",!1))}),$("#report-hacking").change(function(){this.checked&&($("#report-else").is(":checked")&&$("#report-else").attr("checked",!1),$("#report-saching").is(":checked")&&$("#report-saching").attr("checked",!1),$("#report-badwords").is(":checked")&&$("#report-badwords").attr("checked",!1),$("#report-badplay").is(":checked")&&$("#report-badplay").attr("checked",!1),$("#RWrite").attr("readonly",!1))}),$("#report-saching").change(function(){this.checked&&($("#report-else").is(":checked")&&$("#report-else").attr("checked",!1),$("#report-badwords").is(":checked")&&$("#report-badwords").attr("checked",!1),$("#report-hacking").is(":checked")&&$("#report-hacking").attr("checked",!1),$("#report-badplay").is(":checked")&&$("#report-badplay").attr("checked",!1),$("#RWrite").attr("readonly",!1))}),$("#report-else").change(function(){this.checked&&($("#report-badwords").is(":checked")&&$("#report-badwords").attr("checked",!1),$("#report-saching").is(":checked")&&$("#report-saching").attr("checked",!1),$("#report-hacking").is(":checked")&&$("#report-hacking").attr("checked",!1),$("#report-badplay").is(":checked")&&$("#report-badplay").attr("checked",!1)),$("#RWrite").attr("readonly",!1)}),$("#report-badplay").change(function(){
this.checked&&($("#report-badwords").is(":checked")&&$("#report-badwords").attr("checked",!1),$("#report-saching").is(":checked")&&$("#report-saching").attr("checked",!1),$("#report-hacking").is(":checked")&&$("#report-hacking").attr("checked",!1),$("#report-else").is(":checked")&&$("#report-else").attr("checked",!1)),$("#RWrite").attr("readonly",!1)}),$stage.dialog.profileDress.on("click",function(a){return $data.guest?fail(421):$data._gaming?fail(438):void(showDialog($stage.dialog.dress)&&$.get("/box",function(a){if(a.error)return fail(a.error);$data.box=a,drawMyDress()}))});var m=function(){$.post("/reset",function(a){if(a.error)return fail(a.error);noPF=!0,ws.close(),pfAlert("계정이 초기화되었습니다."),location.reload()})},n=function(){if("초기화"!=$("#pinput-in").val())return pfAlert("계정 초기화가 취소되었습니다.");pfConfirm("초기화 후 즉시 <b>서버와의 접속이 종료</b>되며,<br>오늘의 접속 보상은 <b>다시 받을 수 없습니다</b>.<br>또한, 현재 계정의 정보는 <b>복구할 수 없습니다</b>.<br><br><b>정말로 초기화하시겠습니까?</b>",m,function(){pfAlert("계정 초기화가 취소되었습니다.")})},o=function(){pfInput("계정을 초기화하시려면 아래에<br><b>초기화</b> 라고 입력해주세요.",n,function(){pfAlert("계정 초기화가 취소되었습니다.")})};for($stage.dialog.acReset.on("click",function(a){pfConfirm("정말로 계정을 초기화하시겠습니까?",o,function(){pfAlert("계정 초기화가 취소되었습니다.")})}),$stage.dialog.dressOK.on("click",function(a){var b=$data.users[$data.id].nickname||"",c=$("#dress-nickname").val(),d=$("#dress-nickname").val();if(d=d.trim(),/[^a-zA-Z가-힣0-9\s\-\_]/g.test(c))return pfAlert(L.profileWrong);$data.users[$data.id];return" "==c.substr(0,1)?pfAlert(L.profileWrong):""==c.replace(/\s/g,"")||c.length>12?pfAlert(L.profileWrong):($(a.currentTarget).attr("disabled",!0),$.post("/exordial",{data:$("#dress-exordial").val()},function(a){if($stage.dialog.dressOK.attr("disabled",!1),a.error)return fail(a.error);$stage.dialog.dress.hide(),send("exordialc"),$data.users[$data.id].exordial=$("#dress-exordial").val()}),$data.place?pfAlert("방 안에서는 닉네임을 수정할 수 없습니다.<br>소개 한마디만 수정됩니다."):b!=d?$.post("/nickname",{data:d},function(a){if($stage.dialog.dressOK.attr("disabled",!1),a.error)return pfAlert(L["error_"+a.error]);$("#account-info").html(d),send("nickchange",{prev:$data.users[$data.id].nickname}),$data.users[$data.id].nickname=d,updateMe(),pfAlert(L.profileChanged),$("#room-title").attr("placeholder",d+"님의 방"),updateUserList(!0),$stage.dialog.dress.hide()}):pfAlert(L.profileChanged),void requestProfile($data.id))}),$("#DressDiag .dress-type").on("click",function(a){var b=$(a.currentTarget),c=b.attr("id").slice(11);$(".dress-type.selected").removeClass("selected"),b.addClass("selected"),drawMyGoods("all"==c||b.attr("value"))}),$("#dress-cf").on("click",function(a){if($data._gaming)return fail(438);showDialog($stage.dialog.charFactory)&&drawCharFactory()}),$stage.dialog.cfCompose.on("click",function(a){if(!$stage.dialog.cfCompose.hasClass("cf-composable"))return fail(436);pfConfirm(L.cfSureCompose,function(){$.post("/cf",{tray:$data._tray.join("|")},function(a){var b;if(a.error)return fail(a.error);send("refresh"),pfAlert(L.cfComposed),$data.users[$data.id].money=a.money,$data.box=a.box;for(b in a.gain)queueObtain(a.gain[b]);drawMyDress($data._avGroup),updateMe(),drawCharFactory()})},function(){})}),$("#room-injeong-pick").on("click",function(a){var b,c=RULE[MODE[$("#room-mode").val()]];$("#injpick-list>div").hide(),"ko"==c.lang?($data._ijkey="#ko-pick-",$("#ko-pick-list").show()):"en"==c.lang&&($data._ijkey="#en-pick-",$("#en-pick-list").show()),$stage.dialog.injPickNo.trigger("click");for(b in $data._injpick)$($data._ijkey+$data._injpick[b]).prop("checked",!0);showDialog($stage.dialog.injPick)}),$stage.dialog.injPickAll.on("click",function(a){$("#injpick-list input").prop("checked",!0)}),$stage.dialog.injPickNo.on("click",function(a){$("#injpick-list input").prop("checked",!1)}),$stage.dialog.injPickOK.on("click",function(a){var b=$($data._ijkey+"list"),c=[];$data._injpick=b.find("input").each(function(a,b){var d=$(b),e=d.attr("id").slice(8);d.is(":checked")&&c.push(e)}),$data._injpick=c,$stage.dialog.injPick.hide()}),$stage.dialog.kickVoteY.on("click",function(a){send("kickVote",{agree:!0}),clearTimeout($data._kickTimer),$stage.dialog.kickVote.hide()}),$stage.dialog.kickVoteN.on("click",function(a){send("kickVote",{agree:!1}),clearTimeout($data._kickTimer),$stage.dialog.kickVote.hide()}),$stage.dialog.purchaseOK.on("click",function(a){$.post("/buy/"+$data._sgood,function(a){var b=$data.users[$data.id];if(a.error)return fail(a.error);pfAlert(L.purchased.replace(/\n/g,"<br>")),b.money=a.money,b.box=a.box,updateMe()}),$stage.dialog.purchase.hide()}),$stage.dialog.evtOK.on("click",function(a){$.post("/evt/"+$data._sgood,function(a){var b=$data.users[$data.id];if(a.error)return fail(a.error);pfAlert(L.purchased.replace(/\n/g,"<br>")),b.money=a.money,b.box=a.box,updateMe()}),$stage.dialog.purchase.hide()}),$stage.dialog.purchaseNO.on("click",function(a){$stage.dialog.purchase.hide()}),$stage.dialog.obtainOK.on("click",function(a){var b=$data._obtain.shift();b?drawObtain(b):$stage.dialog.obtain.hide()}),j=0;j<5;j++)$("#team-"+j).on("click",g);$("#replay-file").on("change",function(a){var b=a.target.files[0],c=new FileReader,d=$("#replay-date").html("-"),e=$("#replay-version").html("-"),f=$("#replay-players").html("-");$rec=!1,$stage.dialog.replayView.attr("disabled",!0),b&&(c.readAsText(b),c.onload=function(a){var b,c;try{c=JSON.parse(a.target.result),d.html(new Date(c.time).toLocaleString()),e.html(c.version),f.empty();for(b in c.players){var g,h=c.players[b];f.append(g=$("<div>").addClass("replay-player-bar ellipse").html(h.title).prepend(getLevelImage(h.data.score,h.equip).addClass("users-level"))),h.id==c.me&&g.css("font-weight","bold")}$rec=c,$stage.dialog.replayView.attr("disabled",!1)}catch(a){return console.warn(a),pfAlert(L.replayError)}})}),$stage.dialog.replayView.on("click",function(a){replayReady()}),addInterval(function(){spamCount>0&&!$data.place?spamCount=0:spamCount>0&&$data.place?spamCount>12?spamCount=12:spamCount<5?spamCount=0:spamCount-=5:spamWarning>0&&(spamWarning-=.03)},1e3)}),$lib.Classic.roundReady=function(a){$data.room.game.title.length;clearBoard(),$data._roundTime=1e3*$data.room.time,$stage.game.display.html(getCharText(a.char,a.subChar)),$stage.game.chain.show().html($data.chain=0),$data.room.opts.mission&&$stage.game.items.show().css("opacity",1).html($data.mission=a.mission),"KAP"!=MODE[$data.room.mode]&&"EAP"!=MODE[$data.room.mode]||$(".jjoDisplayBar .graph-bar").css({float:"right","text-align":"left"}),drawRound(a.round),playSound("round_start"),recordEvent("roundReady",{data:a})},$lib.Classic.turnStart=function(a){$data.room.game.turn=a.turn,a.seq&&($data.room.game.seq=a.seq),($data._tid=$data.room.game.seq[a.turn])&&($data._tid.robot&&($data._tid=$data._tid.id),a.id=$data._tid,$stage.game.display.html($data._char=getCharText(a.char,a.subChar,a.wordLength)),$("#game-user-"+a.id).addClass("game-user-current"),$data._replay||($stage.game.here.css("display",a.id==$data.id?"block":"none"),a.id==$data.id&&(mobile?$stage.game.hereText.val("").focus():$stage.talk.focus())),$stage.game.items.html($data.mission=a.mission),ws.onmessage=_onMessage,clearInterval($data._tTime),clearTrespasses(),$data._chars=[a.char,a.subChar],$data._speed=a.speed,$data._tTime=addInterval(turnGoing,TICK),$data.turnTime=a.turnTime,$data._turnTime=a.turnTime,$data._roundTime=a.roundTime,$data._turnSound=playSound("T"+a.speed),recordEvent("turnStart",{data:a}))},$lib.Classic.turnGoing=function(){$data.room||clearInterval($data._tTime),$data._turnTime-=TICK,$data.room.opts.inftime||($data._roundTime-=TICK),$data.room.opts.inftime?($stage.game.turnBar.width($data._timePercent()).html((.001*$data._turnTime).toFixed(1)+L.SECOND),$stage.game.roundBar.width("100%").html("")):($stage.game.turnBar.width($data._timePercent()).html((.001*$data._turnTime).toFixed(1)+L.SECOND),$stage.game.roundBar.width($data._roundTime/$data.room.time*.1+"%").html((.001*$data._roundTime).toFixed(1)+L.SECOND)),$stage.game.roundBar.hasClass("round-extreme")||$data._roundTime<=5e3&&$stage.game.roundBar.addClass("round-extreme")},$lib.Classic.turnEnd=function(a,c){mobile&&$(".deltaScore").hide();var d,e=$("<div>").addClass("deltaScore").html(c.score>0?"+"+(c.score-c.bonus):c.score),f=$(".game-user-current");$data._turnSound&&$data._turnSound.stop(),addScore(a,c.score),clearInterval($data._tTime),c.ok?(checkFailCombo(),clearTimeout($data._fail),$stage.game.here.hide(),$stage.game.chain.html(++$data.chain),pushDisplay(c.value,c.mean,c.theme,c.wc)):(checkFailCombo(a),e.addClass("lost"),$(".game-user-current").addClass("game-user-bomb"),$stage.game.here.hide(),playSound("timeout")),c.hint&&(c.hint=c.hint._id,d=c.hint.indexOf($data._chars[0]),-1==d&&(d=c.hint.indexOf($data._chars[1])),"KAP"==MODE[$data.room.mode]||"EAP"==MODE[$data.room.mode]?$stage.game.display.empty().append($("<label>").css("color","#AAAAAA").html(c.hint.slice(0,d))).append($("<label>").html(c.hint.slice(d))):$stage.game.display.empty().append($("<label>").html(c.hint.slice(0,d+1))).append($("<label>").css("color","#AAAAAA").html(c.hint.slice(d+1)))),c.bonus&&(mobile?e.html("+"+(b.score-b.bonus)+"+"+b.bonus):addTimeout(function(){var a=$("<div>").addClass("deltaScore bonus").html("+"+c.bonus);drawObtainedScore(f,a)},500)),drawObtainedScore(f,e).removeClass("game-user-current"),updateScore(a,getScore(a))},$lib.Jaqwi.roundReady=function(a){var b=L.jqTheme+": "+L["theme_"+a.theme];clearBoard(),$data._roundTime=1e3*$data.room.time,$data._fastTime=1e4,$stage.game.display.html(b),$stage.game.items.hide(),$stage.game.hints.show(),$(".jjo-turn-time .graph-bar").width("100%").html(b).css("text-align","center"),drawRound(a.round),playSound("round_start"),clearInterval($data._tTime)},$lib.Jaqwi.turnStart=function(a){$(".game-user-current").removeClass("game-user-current"),$(".game-user-bomb").removeClass("game-user-bomb"),$data.room.game.seq.indexOf($data.id)>=0&&$stage.game.here.show(),$stage.game.display.html($data._char=a.char),clearInterval($data._tTime),$data._tTime=addInterval(turnGoing,TICK),playBGM("jaqwi")},$lib.Jaqwi.turnGoing=function(){var a,b,c=$stage.game.roundBar;$data.room||clearInterval($data._tTime),$data._roundTime-=TICK,b=$data._spectate?L.stat_spectate:(.001*$data._roundTime).toFixed(1)+L.SECOND,c.width($data._roundTime/$data.room.time*.1+"%").html(b),c.hasClass("round-extreme")||$data._roundTime<=$data._fastTime&&(a=$data.bgm.currentTime/$data.bgm.duration,$data.bgm.paused?stopBGM():playBGM("jaqwiF"),$data.bgm.currentTime=$data.bgm.duration*a,c.addClass("round-extreme"))},$lib.Jaqwi.turnHint=function(a){playSound("mission"),pushHint(a.hint)},$lib.Jaqwi.turnEnd=function(a,b){var c=$("<div>").addClass("deltaScore").html("+"+b.score),d=$("#game-user-"+a);b.giveup?d.addClass("game-user-bomb"):b.answer?($stage.game.here.hide(),$stage.game.display.html($("<label>").css("color","#FFFF44").html(b.answer)),stopBGM(),playSound("horr")):(a==$data.id&&$stage.game.here.hide(),addScore(a,b.score),$data._roundTime>1e4&&($data._roundTime=1e4),drawObtainedScore(d,c),updateScore(a,getScore(a)).addClass("game-user-current"),playSound("success"))},$lib.Crossword.roundReady=function(a,b){var c=a.seq?a.seq.indexOf($data.id):-1;clearBoard(),$(".jjoriping,.rounds,.game-body").addClass("cw"),$data._roundTime=1e3*$data.room.time,$data._fastTime=3e4,$data.selectedRound=-1==c?1:c%$data.room.round+1,$stage.game.items.hide(),$stage.game.cwcmd.show().css("opacity",0),drawRound($data.selectedRound),b||playSound("round_start"),clearInterval($data._tTime)},$lib.Crossword.turnEnd=function(a,b){var c,d,e=$("<div>").addClass("deltaScore").html("+"+b.score),f=$("#game-user-"+a);b.score?(d=b.pos.join(","),a==$data.id?($stage.game.cwcmd.css("opacity",0),playSound("success")):($data._sel&&b.pos.join(",")==$data._sel.join(",")&&$stage.game.cwcmd.css("opacity",0),playSound("mission")),$data._bdb[d][4]=b.value,$data._bdb[d][5]=a,b.pos[0]==$data.selectedRound-1?$lib.Crossword.drawDisplay():(c=$($stage.game.round.children("label").get(b.pos[0])).addClass("round-effect"),addTimeout(function(){c.removeClass("round-effect")},800)),addScore(a,b.score),updateScore(a,getScore(a)),drawObtainedScore(f,e)):(stopBGM(),$stage.game.round.empty(),playSound("horr"))},$lib.Crossword.drawDisplay=function(){var a,b,c,d,e,f,g,h,i,j=$data._boards[$data.selectedRound-1],k=$stage.game.display.empty(),l={};for(b in j)for(d=Number(j[b][0]),e=Number(j[b][1]),f="1"==j[b][2],g=Number(j[b][3]),h=j[b][4],k.append(a=$("<div>").addClass("cw-bar").attr("id","cw-"+d+"-"+e+"-"+j[b][2]).css({top:12.5*e+"%",left:12.5*d+"%",width:12.5*(f?1:g)+"%",height:12.5*(f?g:1)+"%"})),h&&a.addClass("cw-open"),j[b][5]==$data.id?a.addClass("cw-my-open"):a.on("click",$lib.Crossword.onBar).on("mouseleave",$lib.Crossword.onSwap),c=0;c<g;c++)i=d+"-"+e,h&&(l[i]=h.charAt(c)),a.append($("<div>").addClass("cw-cell").attr("id","cwc-"+i).html(l[i]||"")),f?e++:d++},$lib.Crossword.onSwap=function(a){$stage.game.display.prepend($(a.currentTarget))},$lib.Crossword.onRound=function(a){var b=$(a.currentTarget).html().charCodeAt(0)-9311;drawRound($data.selectedRound=b),$(".rounds label").on("click",$lib.Crossword.onRound),$lib.Crossword.drawDisplay()},$lib.Crossword.onBar=function(a){var b=$(a.currentTarget),c=b.attr("id").slice(3).split("-"),d=$data._means[$data.selectedRound-1][c.join(",")],e="1"==d.dir;$stage.game.cwcmd.css("opacity",1),$data._sel=[$data.selectedRound-1,c[0],c[1],c[2]],$(".cw-q-head").html(L[e?"cwVert":"cwHorz"]+d.len+L.cwL),$("#cw-q-input").val("").focus(),$(".cw-q-body").html(processWord("★",d.mean,d.theme,d.type.split(",")))},$lib.Crossword.turnStart=function(a,b){var c,d;$data._bdb={},$data._boards=a.boards,$data._means=a.means;for(c in a.boards)for(d in a.boards[c])$data._bdb[[c,a.boards[c][d][0],a.boards[c][d][1],a.boards[c][d][2]].join(",")]=a.boards[c][d];$(".rounds label").on("click",$lib.Crossword.onRound),$lib.Crossword.drawDisplay(),clearInterval($data._tTime),$data._tTime=addInterval(turnGoing,TICK),playBGM("jaqwi")},$lib.Crossword.turnGoing=$lib.Jaqwi.turnGoing,$lib.Crossword.turnHint=function(a){playSound("fail")},$lib.Typing.roundReady=function(a){$data.room.game.title.length;$data._chatter=mobile?$stage.game.hereText:$stage.talk,clearBoard(),$data._round=a.round,$data._roundTime=1e3*$data.room.time,$data._fastTime=1e4,$data._list=a.list.concat(a.list),$data.chain=0,drawList(),drawRound(a.round),playSound("round_start"),recordEvent("roundReady",{data:a})},$lib.Typing.spaceOn=function(){$data.room.opts.proverb||($data._spaced=!0,$("body").on("keydown","#"+$data._chatter.attr("id"),onSpace))},$lib.Typing.spaceOff=function(){delete $data._spaced,$("body").off("keydown","#"+$data._chatter.attr("id"),onSpace)},$lib.Typing.turnStart=function(a){$data._spectate||($stage.game.here.show(),mobile?$stage.game.hereText.val("").focus():$stage.talk.val("").focus(),$lib.Typing.spaceOn()),ws.onmessage=_onMessage,clearInterval($data._tTime),clearTrespasses(),$data._tTime=addInterval(turnGoing,TICK),$data._roundTime=a.roundTime,playBGM("jaqwi"),recordEvent("turnStart",{data:a})},$lib.Typing.turnGoing=$lib.Jaqwi.turnGoing,$lib.Typing.turnEnd=function(a,b){var c=$("<div>").addClass("deltaScore").html("+"+b.score),d=$("#game-user-"+a);b.error?($data.chain++,drawList(),playSound("fail")):b.ok?($data.id==a?($data.chain++,drawList(),playSound("mission"),pushHistory(b.value,"")):$data._spectate&&playSound("mission"),addScore(a,b.score),drawObtainedScore(d,c),updateScore(a,getScore(a))):(clearInterval($data._tTime),$lib.Typing.spaceOff(),$stage.game.here.hide(),stopBGM(),playSound("horr"),addTimeout(drawSpeed,1e3,b.speed),$data._round<$data.room.round&&restGoing(10))},$lib.Hunmin.roundReady=function(a){$data.room.game.title.length;clearBoard(),$data._roundTime=1e3*$data.room.time,$stage.game.display.html($data._char="&lt;"+a.theme+"&gt;"),$stage.game.chain.show().html($data.chain=0),$data.room.opts.mission&&$stage.game.items.show().css("opacity",1).html($data.mission=a.mission),drawRound(a.round),playSound("round_start"),recordEvent("roundReady",{data:a})},$lib.Hunmin.turnStart=function(a){$data.room.game.turn=a.turn,a.seq&&($data.room.game.seq=a.seq),$data._tid=$data.room.game.seq[a.turn],$data._tid.robot&&($data._tid=$data._tid.id),a.id=$data._tid,$stage.game.display.html($data._char),$("#game-user-"+a.id).addClass("game-user-current"),$data._replay||($stage.game.here.css("display",a.id==$data.id?"block":"none"),a.id==$data.id&&(mobile?$stage.game.hereText.val("").focus():$stage.talk.focus())),$stage.game.items.html($data.mission=a.mission),ws.onmessage=_onMessage,clearInterval($data._tTime),clearTrespasses(),$data._chars=[a.char,a.subChar],$data._speed=a.speed,$data._tTime=addInterval(turnGoing,TICK),$data.turnTime=a.turnTime,$data._turnTime=a.turnTime,$data._roundTime=a.roundTime,$data._turnSound=playSound("T"+a.speed),recordEvent("turnStart",{data:a})},$lib.Hunmin.turnGoing=$lib.Classic.turnGoing,$lib.Hunmin.turnEnd=function(a,c){mobile&&$(".deltaScore").hide();var d,e=$("<div>").addClass("deltaScore").html(c.score>0?"+"+(c.score-c.bonus):c.score),f=$(".game-user-current");$data._turnSound.stop(),addScore(a,c.score),clearInterval($data._tTime),c.ok?(clearTimeout($data._fail),$stage.game.here.hide(),$stage.game.chain.html(++$data.chain),pushDisplay(c.value,c.mean,c.theme,c.wc)):(e.addClass("lost"),$(".game-user-current").addClass("game-user-bomb"),$stage.game.here.hide(),playSound("timeout")),c.hint&&(c.hint=c.hint._id,d=c.hint.indexOf($data._chars[0]),-1==d&&(d=c.hint.indexOf($data._chars[1])),$stage.game.display.empty().append($("<label>").html(c.hint.slice(0,d+1))).append($("<label>").css("color","#AAAAAA").html(c.hint.slice(d+1)))),c.bonus&&(mobile?e.html("+"+(b.score-b.bonus)+"+"+b.bonus):addTimeout(function(){var a=$("<div>").addClass("deltaScore bonus").html("+"+c.bonus);drawObtainedScore(f,a)},500)),drawObtainedScore(f,e).removeClass("game-user-current"),updateScore(a,getScore(a))},$lib.Daneo.roundReady=function(a){$data.room.game.title.length;clearBoard(),$data._roundTime=1e3*$data.room.time,$stage.game.display.html($data._char="&lt;"+L["theme_"+a.theme]+"&gt;"),$stage.game.chain.show().html($data.chain=0),$data.room.opts.mission&&$stage.game.items.show().css("opacity",1).html($data.mission=a.mission),drawRound(a.round),playSound("round_start"),recordEvent("roundReady",{data:a})},$lib.Daneo.turnStart=function(a){$data.room.game.turn=a.turn,a.seq&&($data.room.game.seq=a.seq),$data._tid=$data.room.game.seq[a.turn],$data._tid.robot&&($data._tid=$data._tid.id),a.id=$data._tid,$stage.game.display.html($data._char),$("#game-user-"+a.id).addClass("game-user-current"),$data._replay||($stage.game.here.css("display",a.id==$data.id?"block":"none"),a.id==$data.id&&(mobile?$stage.game.hereText.val("").focus():$stage.talk.focus())),$stage.game.items.html($data.mission=a.mission),ws.onmessage=_onMessage,clearInterval($data._tTime),clearTrespasses(),$data._chars=[a.char,a.subChar],$data._speed=a.speed,$data._tTime=addInterval(turnGoing,TICK),$data.turnTime=a.turnTime,$data._turnTime=a.turnTime,$data._roundTime=a.roundTime,$data._turnSound=playSound("T"+a.speed),recordEvent("turnStart",{data:a})},$lib.Daneo.turnGoing=$lib.Classic.turnGoing,$lib.Daneo.turnEnd=function(a,c){mobile&&$(".deltaScore").hide();var d,e=$("<div>").addClass("deltaScore").html(c.score>0?"+"+(c.score-c.bonus):c.score),f=$(".game-user-current");$data._turnSound.stop(),addScore(a,c.score),clearInterval($data._tTime),c.ok?(clearTimeout($data._fail),$stage.game.here.hide(),$stage.game.chain.html(++$data.chain),pushDisplay(c.value,c.mean,c.theme,c.wc)):(e.addClass("lost"),$(".game-user-current").addClass("game-user-bomb"),$stage.game.here.hide(),playSound("timeout")),c.hint&&(c.hint=c.hint._id,d=c.hint.indexOf($data._chars[0]),-1==d&&(d=c.hint.indexOf($data._chars[1])),$stage.game.display.empty().append($("<label>").html(c.hint.slice(0,d+1))).append($("<label>").css("color","#AAAAAA").html(c.hint.slice(d+1)))),c.bonus&&(mobile?e.html("+"+(b.score-b.bonus)+"+"+b.bonus):addTimeout(function(){var a=$("<div>").addClass("deltaScore bonus").html("+"+c.bonus);drawObtainedScore(f,a)},500)),drawObtainedScore(f,e).removeClass("game-user-current"),updateScore(a,getScore(a))},$lib.Drawing.roundReady=function(a,b){L.jqTheme,L["theme_"+a.theme];clearBoard(),$(".jjoriping,.rounds,.game-body").addClass("cw"),$(".jjoriping,.rounds").addClass("dg"),$(".game-user-drawing").removeClass("game-user-drawing"),$stage.game.tools.hide(),$data._relay=!1,$data._roundTime=1e3*$data.room.time,$data._fastTime=1e4,$stage.game.items.hide(),$stage.game.hints.show(),$stage.game.cwcmd.show().css("opacity",0),$data.id===a.painter?(console.log("i'm painter!"),$data._isPainter=!0):$data._isPainter=!1,$("#game-user-"+a.painter).addClass("game-user-drawing"),drawRound(a.round),playSound("round_start"),clearInterval($data._tTime)},$lib.Drawing.turnStart=function(a,b){$(".game-user-current").removeClass("game-user-current"),$(".game-user-bomb").removeClass("game-user-bomb"),$data.room.game.seq.indexOf($data.id)>=0&&($data._isPainter?($("#drawing-line-width").change(function(){console.log(this.value),$stage.game.canvas.freeDrawingBrush.width=this.value,send("drawingCanvas",{data:JSON.stringify($stage.game.canvas)},!1)}),$("#drawing-color").change(function(){console.log(this.value),$stage.game.canvas.freeDrawingBrush.color=this.value,send("drawingCanvas",{data:JSON.stringify($stage.game.canvas)},!1)}),$("#drawing-clear").click(function(){console.log("clear"),$stage.game.canvas.clear(),send("drawingCanvas",{data:JSON.stringify($stage.game.canvas)},!1)}),$(".button-color#color-red").click(function(){console.log("change red"),$stage.game.canvas.freeDrawingBrush.color="#FF0000",send("drawingCanvas",{data:JSON.stringify($stage.game.canvas)},!1)}),$(".button-color#color-orange").click(function(){console.log("change orange"),$stage.game.canvas.freeDrawingBrush.color="#FFA500",send("drawingCanvas",{data:JSON.stringify($stage.game.canvas)},!1)}),$(".button-color#color-yellow").click(function(){console.log("change yellow"),$stage.game.canvas.freeDrawingBrush.color="#FFFF00",send("drawingCanvas",{data:JSON.stringify($stage.game.canvas)},!1)}),$(".button-color#color-green").click(function(){console.log("change green"),$stage.game.canvas.freeDrawingBrush.color="#008000",send("drawingCanvas",{data:JSON.stringify($stage.game.canvas)},!1)}),$(".button-color#color-blue").click(function(){console.log("change blue"),$stage.game.canvas.freeDrawingBrush.color="#0000FF",send("drawingCanvas",{data:JSON.stringify($stage.game.canvas)},!1)}),$(".button-color#color-indigo").click(function(){console.log("change indigo"),$stage.game.canvas.freeDrawingBrush.color="#4B0082",send("drawingCanvas",{data:JSON.stringify($stage.game.canvas)},!1)}),$(".button-color#color-violet").click(function(){console.log("change red"),$stage.game.canvas.freeDrawingBrush.color="#9400D3",send("drawingCanvas",{data:JSON.stringify($stage.game.canvas)},!1)}),$(".button-color#color-black").click(function(){console.log("change black"),$stage.game.canvas.freeDrawingBrush.color="#000000",send("drawingCanvas",{data:JSON.stringify($stage.game.canvas)},!1)}),$(".button-color#color-white").click(function(){console.log("change white"),$stage.game.canvas.freeDrawingBrush.color="#FFFFFF",send("drawingCanvas",{data:JSON.stringify($stage.game.canvas)},!1)}),$stage.game.drawingTitle.text(a.word),$stage.game.themeisTitle.text(L["theme_"+a.theme]),$stage.game.hints.hide(),$stage.game.tools.show(),$(".rounds").removeClass("dg"),$(".rounds").addClass("painter")):($stage.game.hints.show(),$stage.game.tools.hide(),$data._relay=!0)),$lib.Drawing.drawDisplay(),clearInterval($data._tTime),$data._tTime=addInterval(turnGoing,TICK),playBGM("jaqwi")},$lib.Drawing.turnHint=function(a){var b;b=Array.isArray(a.hint)?L["theme_"+a.hint[0]]:a.hint,playSound("mission"),pushHint(b)},$lib.Drawing.turnEnd=function(a,b){var c=$("<div>").addClass("deltaScore").html("+"+b.score),d=$("#game-user-"+a);b.giveup?(d.addClass("game-user-bomb"),$data._relay=!1):b.answer?($stage.game.here.hide(),$stage.game.display.html($("<label>").css("color","#FFFF44").html(b.answer)),stopBGM(),playSound("horr"),$data._relay=!1):(a==$data.id&&$stage.game.here.hide(),addScore(a,b.score),$data._roundTime>1e4&&($data._roundTime=1e4),drawObtainedScore(d,c),updateScore(a,getScore(a)).addClass("game-user-current"),playSound("success"))},$lib.Drawing.drawDisplay=function(){$stage.game.display.empty().append($("<canvas>").attr("id","canvas").css({width:"300",height:"300",left:0,top:0}).addClass("canvas"));var a=window._canvas=new fabric.Canvas("canvas");a.backgroundColor="#ffffff",a.isDrawingMode=$data._isPainter,a.setHeight(300),a.setWidth(300),a.selection=!1,$("#drawing-line-width").val(20),$("#drawing-color").val("#000000"),$data._isPainter&&a.on("mouse:up",function(b){send("drawingCanvas",{data:JSON.stringify(a)},!1)}),a.renderAll(),$stage.game.canvas=a},$lib.Drawing.turnGoing=function(){var a,b,c=$stage.game.roundBar;$data.room||clearInterval($data._tTime),$data._roundTime-=TICK,b=$data._spectate?L.stat_spectate:(.001*$data._roundTime).toFixed(1)+L.SECOND,c.width($data._roundTime/$data.room.time*.1+"%").html(b),c.hasClass("round-extreme")||$data._roundTime<=$data._fastTime&&(a=$data.bgm.currentTime/$data.bgm.duration,$data.bgm.paused?stopBGM():playBGM("jaqwiF"),$data.bgm.currentTime=$data.bgm.duration*a,c.addClass("round-extreme"))},$lib.Drawing.drawCanvas=function(a){$data._isPainter||($stage.game.canvas.clear(),$stage.game.canvas.loadFromJSON(a.data,$stage.game.canvas.renderAll.bind($stage.game.canvas)))},$lib.allDaneo.roundReady=function(a){$data.room.game.title.length;clearBoard(),$data._roundTime=1e3*$data.room.time,$stage.game.display.html($data._char="&lt;단어 전체&gt;"),$stage.game.chain.show().html($data.chain=0),$data.room.opts.mission&&$stage.game.items.show().css("opacity",1).html($data.mission=a.mission),drawRound(a.round),playSound("round_start"),recordEvent("roundReady",{data:a})},$lib.allDaneo.turnStart=function(a){$data.room.game.turn=a.turn,a.seq&&($data.room.game.seq=a.seq),$data._tid=$data.room.game.seq[a.turn],$data._tid.robot&&($data._tid=$data._tid.id),a.id=$data._tid,$stage.game.display.html($data._char),$("#game-user-"+a.id).addClass("game-user-current"),$data._replay||($stage.game.here.css("display",a.id==$data.id?"block":"none"),a.id==$data.id&&(mobile?$stage.game.hereText.val("").focus():$stage.talk.focus())),$stage.game.items.html($data.mission=a.mission),ws.onmessage=_onMessage,clearInterval($data._tTime),clearTrespasses(),$data._chars=[a.char,a.subChar],$data._speed=a.speed,$data._tTime=addInterval(turnGoing,TICK),$data.turnTime=a.turnTime,$data._turnTime=a.turnTime,$data._roundTime=a.roundTime,$data._turnSound=playSound("T"+a.speed),recordEvent("turnStart",{data:a})},$lib.allDaneo.turnGoing=$lib.Classic.turnGoing,$lib.allDaneo.turnEnd=function(a,c){if(mobile&&$(".deltaScore").hide(),!$data.room.opts.declag)var d=$("<div>").addClass("deltaScore").html(c.score>0?"+"+(c.score-c.bonus):c.score);var e,f=$(".game-user-current");if($data._turnSound.stop(),addScore(a,c.score),clearInterval($data._tTime),c.ok)clearTimeout($data._fail),$stage.game.here.hide(),$stage.game.chain.html(++$data.chain),pushDisplay(c.value,c.mean,c.theme,c.wc);else{if($data.room.opts.declag)var d=$("<div>").addClass("deltaScore").html(c.score>0?"+"+(c.score-c.bonus):c.score);d.addClass("lost"),$(".game-user-current").addClass("game-user-bomb"),$stage.game.here.hide(),playSound("timeout")}c.hint&&(c.hint=c.hint._id,e=c.hint.indexOf($data._chars[0]),-1==e&&(e=c.hint.indexOf($data._chars[1])),$stage.game.display.empty().append($("<label>").html(c.hint.slice(0,e+1))).append($("<label>").css("color","#AAAAAA").html(c.hint.slice(e+1)))),c.bonus&&!$data.room.opts.declag&&(mobile?d.html("+"+(b.score-b.bonus)+"+"+b.bonus):addTimeout(function(){var a=$("<div>").addClass("deltaScore bonus").html("+"+c.bonus);drawObtainedScore(f,a)},500)),$data.room.opts.declag&&c.ok||drawObtainedScore(f,d).removeClass("game-user-current"),updateScore(a,getScore(a))},$lib.keAll.roundReady=function(a){$data.room.game.title.length;clearBoard(),$data._roundTime=1e3*$data.room.time,$stage.game.display.html($data._char="&lt;단어 전체&gt;"),$stage.game.chain.show().html($data.chain=0),$data.room.opts.mission&&$stage.game.items.show().css("opacity",1).html($data.mission=a.mission),drawRound(a.round),playSound("round_start"),recordEvent("roundReady",{data:a})},$lib.keAll.turnStart=function(a){$data.room.game.turn=a.turn,a.seq&&($data.room.game.seq=a.seq),$data._tid=$data.room.game.seq[a.turn],$data._tid.robot&&($data._tid=$data._tid.id),a.id=$data._tid,$stage.game.display.html($data._char),$("#game-user-"+a.id).addClass("game-user-current"),$data._replay||($stage.game.here.css("display",a.id==$data.id?"block":"none"),a.id==$data.id&&(mobile?$stage.game.hereText.val("").focus():$stage.talk.focus())),$stage.game.items.html($data.mission=a.mission),ws.onmessage=_onMessage,clearInterval($data._tTime),clearTrespasses(),$data._chars=[a.char,a.subChar],$data._speed=a.speed,$data._tTime=addInterval(turnGoing,TICK),$data.turnTime=a.turnTime,$data._turnTime=a.turnTime,$data._roundTime=a.roundTime,$data._turnSound=playSound("T"+a.speed),recordEvent("turnStart",{data:a})},$lib.keAll.turnGoing=$lib.Classic.turnGoing,$lib.keAll.turnEnd=function(a,c){mobile&&$(".deltaScore").hide();var d,e=$("<div>").addClass("deltaScore").html(c.score>0?"+"+(c.score-c.bonus):c.score),f=$(".game-user-current");$data._turnSound.stop(),addScore(a,c.score),clearInterval($data._tTime),c.ok?(clearTimeout($data._fail),$stage.game.here.hide(),$stage.game.chain.html(++$data.chain),pushDisplay(c.value,c.mean,c.theme,c.wc)):(e.addClass("lost"),$(".game-user-current").addClass("game-user-bomb"),$stage.game.here.hide(),playSound("timeout")),c.hint&&(c.hint=c.hint._id,d=c.hint.indexOf($data._chars[0]),-1==d&&(d=c.hint.indexOf($data._chars[1])),$stage.game.display.empty().append($("<label>").html(c.hint.slice(0,d+1))).append($("<label>").css("color","#AAAAAA").html(c.hint.slice(d+1)))),c.bonus&&(mobile?e.html("+"+(b.score-b.bonus)+"+"+b.bonus):addTimeout(function(){var a=$("<div>").addClass("deltaScore bonus").html("+"+c.bonus);drawObtainedScore(f,a)},500)),drawObtainedScore(f,e).removeClass("game-user-current"),updateScore(a,getScore(a))},$lib.Sock.roundReady=function(a,b){a.seq&&a.seq.indexOf($data.id);clearBoard(),$data._relay=!0,$(".jjoriping,.rounds,.game-body").addClass("cw"),$data._va=[],$data._lang=RULE[MODE[$data.room.mode]].lang,$data._board=a.board,$data._maps=[],$data._roundTime=1e3*$data.room.time,$data._fastTime=1e4,$stage.game.items.hide(),$stage.game.bb.show(),$lib.Sock.drawDisplay(),drawRound(a.round),b||playSound("round_start"),clearInterval($data._tTime)},$lib.Sock.turnEnd=function(a,b){var c,d,e,f=$("<div>").addClass("deltaScore").html("+"+b.score),g=$("#game-user-"+a);if(b.score){for(c=b.value,e=c.length,$data._maps.push(c),d=0;d<e;d++)$data._board=$data._board.replace(c.charAt(d),"　");playSound(a==$data.id?"success":"mission"),$lib.Sock.drawDisplay(),addScore(a,b.score),updateScore(a,getScore(a)),drawObtainedScore(g,f)}else stopBGM(),$data._relay=!1,playSound("horr")},$lib.Sock.drawMaps=function(){function a(a){var b,c=$("<div>").addClass("bb-word"),d=a.length;for(b=0;b<d;b++)c.append($("<div>").addClass("bb-char").html(a.charAt(b)));return c}$stage.game.bb.empty(),$data._maps.sort(function(a,b){return b.length-a.length}).forEach(function(b){$stage.game.bb.append(a(b))})},$lib.Sock.drawDisplay=function(){var a,b=$("<div>").css("height","100%"),c=$data._board.split(""),d="ko"==$data._lang?"12.5%":"10%";c.forEach(function(c,e){b.append(a=$("<div>").addClass("sock-char sock-"+c).css({width:d,height:d}).html(c)),$data._va[e]&&$data._va[e]!=c&&a.html($data._va[e]).addClass("sock-picked").animate({opacity:0},500)}),$data._va=c,$stage.game.display.empty().append(b),$lib.Sock.drawMaps()},$lib.Sock.turnStart=function(a,b){clearInterval($data._tTime),$data._tTime=addInterval(turnGoing,TICK),
playBGM("jaqwi")},$lib.Sock.turnGoing=$lib.Jaqwi.turnGoing,$lib.Sock.turnHint=function(a){playSound("fail")},$lib.All.roundReady=function(a){$data.room.game.title.length;clearBoard(),$data._roundTime=1e3*$data.room.time,$stage.game.display.html($data._char="&lt;자유&gt;"),$stage.game.chain.show().html($data.chain=0),$data.room.opts.mission&&$stage.game.items.show().css("opacity",1).html($data.mission=a.mission),drawRound(a.round),playSound("round_start"),recordEvent("roundReady",{data:a})},$lib.All.turnStart=function(a){$data.room.game.turn=a.turn,a.seq&&($data.room.game.seq=a.seq),$data._tid=$data.room.game.seq[a.turn],$data._tid.robot&&($data._tid=$data._tid.id),a.id=$data._tid,$stage.game.display.html($data._char),$("#game-user-"+a.id).addClass("game-user-current"),$data._replay||($stage.game.here.css("display",a.id==$data.id?"block":"none"),a.id==$data.id&&(mobile?$stage.game.hereText.val("").focus():$stage.talk.focus())),$stage.game.items.html($data.mission=a.mission),ws.onmessage=_onMessage,clearInterval($data._tTime),clearTrespasses(),$data._chars=[a.char,a.subChar],$data._speed=a.speed,$data._tTime=addInterval(turnGoing,TICK),$data.turnTime=a.turnTime,$data._turnTime=a.turnTime,$data._roundTime=a.roundTime,$data._turnSound=playSound("T"+a.speed),recordEvent("turnStart",{data:a})},$lib.All.turnGoing=$lib.Classic.turnGoing,$lib.All.turnEnd=function(a,c){if(mobile&&$(".deltaScore").hide(),!$data.room.opts.declag)var d=$("<div>").addClass("deltaScore").html(c.score>0?"+"+(c.score-c.bonus):c.score);var e,f=$(".game-user-current");if($data._turnSound.stop(),addScore(a,c.score),clearInterval($data._tTime),c.ok)clearTimeout($data._fail),$stage.game.here.hide(),$stage.game.chain.html(++$data.chain),pushDisplay(c.value,c.mean,c.theme,c.wc);else{if($data.room.opts.declag)var d=$("<div>").addClass("deltaScore").html(c.score>0?"+"+(c.score-c.bonus):c.score);d.addClass("lost"),$(".game-user-current").addClass("game-user-bomb"),$stage.game.here.hide(),playSound("timeout")}c.hint&&(c.hint=c.hint._id,e=c.hint.indexOf($data._chars[0]),-1==e&&(e=c.hint.indexOf($data._chars[1])),$stage.game.display.empty().append($("<label>").html(c.hint.slice(0,e+1))).append($("<label>").css("color","#AAAAAA").html(c.hint.slice(e+1)))),c.bonus&&!$data.room.opts.declag&&(mobile?d.html("+"+(b.score-b.bonus)+"+"+b.bonus):addTimeout(function(){var a=$("<div>").addClass("deltaScore bonus").html("+"+c.bonus);drawObtainedScore(f,a)},500)),$data.room.opts.declag&&c.ok||drawObtainedScore(f,d).removeClass("game-user-current");try{drawObtainedScore(f,d).removeClass("game-user-current")}catch(a){drawObtainedScore(d).removeClass("game-user-current")}updateScore(a,getScore(a))},$lib.Jycls.roundReady=function(a){$data.room.game.title.length;clearBoard(),$data._roundTime=1e3*$data.room.time,$stage.game.display.html(getCharText(a.char,a.subChar)),$stage.game.chain.show().html($data.chain=0),$data.room.opts.mission&&$stage.game.items.show().css("opacity",1).html($data.mission=a.mission),"KAP"!=MODE[$data.room.mode]&&"EAP"!=MODE[$data.room.mode]||$(".jjoDisplayBar .graph-bar").css({float:"right","text-align":"left"}),drawRound(a.round),playSound("round_start"),recordEvent("roundReady",{data:a})},$lib.Jycls.turnStart=function(a){$data.room.game.turn=a.turn,a.seq&&($data.room.game.seq=a.seq),($data._tid=$data.room.game.seq[a.turn])&&($data._tid.robot&&($data._tid=$data._tid.id),a.id=$data._tid,$stage.game.display.html($data._char=getCharText(a.char,a.subChar,a.wordLength)),$("#game-user-"+a.id).addClass("game-user-current"),$data._replay||($stage.game.here.css("display",a.id==$data.id?"block":"none"),a.id==$data.id&&(mobile?$stage.game.hereText.val("").focus():$stage.talk.focus())),$stage.game.items.html($data.mission=a.mission),ws.onmessage=_onMessage,clearInterval($data._tTime),clearTrespasses(),$data._chars=[a.char,a.subChar],$data._speed=a.speed,$data._tTime=addInterval(turnGoing,TICK),$data.turnTime=a.turnTime,$data._turnTime=a.turnTime,$data._roundTime=a.roundTime,$data._turnSound=playSound("T"+a.speed),recordEvent("turnStart",{data:a}))},$lib.Jycls.turnGoing=function(){$data.room||clearInterval($data._tTime),$data._turnTime-=TICK,$data.room.opts.inftime||($data._roundTime-=TICK),$data.room.opts.inftime?($stage.game.turnBar.width($data._timePercent()).html((.001*$data._turnTime).toFixed(1)+L.SECOND),$stage.game.roundBar.width("100%").html("")):($stage.game.turnBar.width($data._timePercent()).html((.001*$data._turnTime).toFixed(1)+L.SECOND),$stage.game.roundBar.width($data._roundTime/$data.room.time*.1+"%").html((.001*$data._roundTime).toFixed(1)+L.SECOND)),$stage.game.roundBar.hasClass("round-extreme")||$data._roundTime<=5e3&&$stage.game.roundBar.addClass("round-extreme")},$lib.Jycls.turnEnd=function(a,c){mobile&&$(".deltaScore").hide();var d,e=$("<div>").addClass("deltaScore").html(c.score>0?"+"+(c.score-c.bonus):c.score),f=$(".game-user-current");$data._turnSound&&$data._turnSound.stop(),addScore(a,c.score),clearInterval($data._tTime),c.ok?(checkFailCombo(),clearTimeout($data._fail),$stage.game.here.hide(),$stage.game.chain.html(++$data.chain),pushDisplay(c.value,c.mean,c.theme,c.wc)):(checkFailCombo(a),e.addClass("lost"),$(".game-user-current").addClass("game-user-bomb"),$stage.game.here.hide(),playSound("timeout")),c.hint&&(c.hint=c.hint._id,d=c.hint.indexOf($data._chars[0]),-1==d&&(d=c.hint.indexOf($data._chars[1])),"KAP"==MODE[$data.room.mode]||"EAP"==MODE[$data.room.mode]?$stage.game.display.empty().append($("<label>").css("color","#AAAAAA").html(c.hint.slice(0,d))).append($("<label>").html(c.hint.slice(d))):$stage.game.display.empty().append($("<label>").html(c.hint.slice(0,d+1))).append($("<label>").css("color","#AAAAAA").html(c.hint.slice(d+1)))),c.bonus&&(mobile?e.html("+"+(b.score-b.bonus)+"+"+b.bonus):addTimeout(function(){var a=$("<div>").addClass("deltaScore bonus").html("+"+c.bonus);drawObtainedScore(f,a)},500)),drawObtainedScore(f,e).removeClass("game-user-current"),updateScore(a,getScore(a))},void 0==L)var L={GPL:"<div style='color: #666;'>글자로 놀자! 끄투 온라인 Copyright (C) 2020 pink-flower(pinkflower2503@gmail.com)<br>이 프로그램은 제품에 대한 어떠한 형태의 보증도 제공되지 않습니다.<br>이 프로그램은 자유 소프트웨어이며 배포 규정을 만족시키는 조건 아래 자유롭게 재배포할 수 있습니다.<br>이에 대한 자세한 사항은 본 프로그램의 구현을 담은 다음 레포지토리에서 확인하십시오: <a target='_blank' href='https://github.com/pink-flower/KKuTu'>https://github.com/pink-flower/KKuTu</a></div>",CCL:"한국어 단어 정보 제공: <a href='https://stdict.korean.go.kr/' target='_blank'>표준국어대사전 by 국립국어원</a> / <a href='https://creativecommons.org/licenses/by-sa/2.0/kr' target='_blank'>CC BY-SA 2.0 KR</a><br>이 페이지에는 메이플스토리가 제공한 메이플스토리 서체가 적용되어 있습니다.",CREATOR:"개발자 블로그",DISCORD:"분홍꽃 디스코드",HOME:"FA{home}",GAMES:"게임",GAMES_KKUTU:"끄투",GAMES_FATES:"카드 뽑기",GALLERY:"갤러리",LEBS:"LEBS",ETC:"???",ETC_ABOUT:"쪼롤이 뭐지",SETTING:"설정",GLOBAL_NOTICE:"클릭하여 닫기",VERSION:"버전",LEVEL:"레벨",WIN:"승리",LOSE:"패배",P:"전",W:"승",L:"패",WR:"승률",S:"",PTS:"점",MN:"명",GAE:"개",PJ:"평점",PERFECT:"완벽",IB:"인분",RUNE:"룬",MASTERY:"특성",NONE:"(없음)",DELETED:"(없는 항목)",JUST_AGO:"방금 전",MIN_AGO:"{V1}분 전",HOUR_AGO:"{V1}시간 전",DAY_AGO:"{V1}일 전",MONTH_AGO:"{V1}개월 전",YEAR_AGO:"{V1}년 전",YEAR:"년",MONTH:"월",DATE:"일",HOUR:"시",HOURS:"시간",MINUTE:"분",SECOND:"초",AM:"오전",PM:"오후",AD:"광고",LOADING:"불러오는 중",TEAM_100:"파랑 팀",TEAM_200:"빨강 팀",SEARCH:"검색",TOTAL:"총",QUICK_HOLDER:"빠른 소환사 검색",QUICK_BTN:"FA{search}",LOGIN:"로그인",ASK_LOGOUT:"로그아웃 합니까?",AS_PC:"PC 버전",AS_MOBILE:"모바일 버전",AGREEMENT:"서비스 이용 약관",PRIVACY:"개인정보 취급 방침",OK:"확인",NO:"취소",ITEM_FROM:"재료 아이템",PRE_SEASON:"전 시즌",ITEM_TERM:"기간제 항목",ITEM_TERMED:"까지 사용 가능",OPTS_gEXP:"획득 경험치",OPTS_hEXP:"분당 추가 경험치",OPTS_gMNY:"획득 핑",OPTS_hMNY:"분당 추가 핑",GROUP_PIX:"글자 조각",GROUP_CNS:"소모품",GROUP_EVT:"이벤트 재화",GROUP_CHT:"채팅 색",GROUP_NIK:"이름 스킨",GROUP_BDG1:"보물 휘장",GROUP_BDG2:"희귀 휘장",GROUP_BDG3:"고급 휘장",GROUP_BDG4:"일반 휘장",GROUP_Mskin:"모레미 스킨",GROUP_Mhead:"모레미 머리",GROUP_Meye:"모레미 눈",GROUP_Meyeacc:"모레미 눈장식",GROUP_STY:"칭호",GROUP_Mfacc:"모레미 얼굴장식",GROUP_Mmouth:"모레미 입",GROUP_Mhand:"모레미 손",GROUP_Mclothes:"모레미 옷",GROUP_Mshoes:"모레미 발",GROUP_Mback:"모레미 배경",GROUP_Mfront:"모레미 전경",sky_gif:["뭉게뭉게 구름배경","파아란 하늘에 구름이 뭉게뭉게 있는 배경입니다."],rainbow_chat:["무지개 채팅색","채팅을 <label class='x-rainbow_name'>무지개</label>로 칠합니다."],b1_uny:["운영자의 휘장","일해라 운영자!"],cat_mouth:["고양이 입","갈매기같이 생긴 이 입으로 모레미의 귀여움은 더욱 증폭될 겁니다!"],green_name:["초록빛 이름","이름을 <label class='x-green_name'>산뜻한 초록색</label>으로 칠합니다."],taengja:["탱자 벽지","상큼한 탱자 향기가 느껴지는 벽지입니다."],pinkcandy:["딸기 막대 사탕","새콤 달콤 커다란 딸기 맛 막대 사탕입니다."],ketchup:["케첩","누가 내 머리에 캐첩뿌렸어!"],redbere:["붉은 베레모","붉은 베레모입니다. 조금 파격적인 디자인을 만들 수 있을 것 같습니다."],pants_japan:["일본일본 바지","일본 국기를 본따 만들어진 바지입니다."],blue_name:["푸른 이름","이름을 <label class='x-blue_name'>시원한 푸른색</label>으로 칠합니다."],blue_vest:["파란 조끼","푸릇푸릇한 사다리꼴 조끼입니다. 모레미는 2D라 사다리꼴을 입을 수 있습니다."],black_shoes:["검은콩 신발","콩알만큼 작은 검정 신발입니다."],CDCoin:["어린이날 기념 코인",'여러 개를 모아 경험치 / 핑 등으로 교환할 수 있습니다.<del>디자인 잘 못해서 죄송합니다 ㅠㅠ</del> <br><br>즐거운 어린이날 되세요!<br><br><font color="orange">2020.05.05 이후 삭제'],black_oxford:["검정 옥스포드화","옥스포드 대학생이 신는다고 하는 정갈한 검정 단화입니다. 옥스포드 대학생의 지혜가 느껴집니다."],purple_ice:["보라 아이스","더위를 날려 줄 시원한 보라색 맛 아이스크림입니다."],brave_eyes:["용감한 눈매","무언가 알 수 없는 용기가 느껴지는 눈매입니다."],blackpink:["블랙핑크 배경","단순하지만 느낌있는 배경입니다."],beardoll:["곰인형 입","귀여운 곰인형을 쏙 빼닮은 입입니다."],open_close:["감았다 떴다","꿈뻑꿈뻑..."],pinkpants:["분홍색 옷","모레미에게 잘 어울리는 분홍색 옷 입니다."],brownbere:["갈색 베레모","중후한 느낌의 갈색 베레모입니다."],appleremi:["사과레미","맛있는 사과로 변신한 모레미입니다."],appletop:["저화질 사과꼭지","모레미 머리가 사과가 되었다?!"],blue_lens:["파란색 렌즈","파란색 렌즈를 낀 모레미입니다."],rollb:["롤러스케이트","롤러스케이트를 탄 모레미입니다."],bluepants:["하늘색 옷","모레미에게 잘 어울리는 하늘색 옷 입니다."],blue_hrt:["하늘색 하트 장식","모레미에게 하트 장식을 달아줍니다."],frek_l:["주근깨","주근깨가 생긴 모레미입니다."],b2_metal:["강철같이 굳건한 휘장","어떤 어려움에도 굴하지 않고 꿋꿋이 버티는 모습을 본따 만들어진 보기 드문 휘장입니다."],b1_lv100:["100레벨의 휘장","이대로 만렙까지 달려가요!"],oh:["오! 입","무언가에 감탄을 금치 못하는 모레미를 만들어 보세요."],b1_lv600:["600레벨의 휘장","이제 곧 만렙이에요! 조금만 더 달려봐요!"],blue_headphone:["파란 헤드폰","프로게이머 모레미의 필수 아이템입니다. 이 헤드폰을 장착하고 뉴비들을 터뜨려 보세요."],hamster_O:["주황 햄스터 머리","ㅇㅅㅇ뀨?"],spanner:["스패너","끄투를 열심히 테스트해 주신 특별한 분들을 위한 선물입니다. 앞으로도 많이 이용해 주세요!"],merong:["메롱 입","혀를 삐쭉 내밀고 있는 모레미를 만들어 보세요."],purple_name:["보라 이름","이름을 <label class='x-purple_name'>몽롱한 보랏빛</label>으로 칠합니다."],haksamo:["학사모","끄투로 영어 공부하고 토익 만점을 노리세요!"],b1_um:["관리자의 휘장","일해라 관리자!"],indigo_name:["남색 이름","이름을 <label class='x-indigo_name'>냉랭한 남색</label>으로 칠합니다."],b3_pok:["폭풍의 ㅍ 휘장","매서운 눈빛으로 폭풍같이 질주하는 모습을 본따 만들어진 멋진 휘장입니다."],stars:["밤하늘의 별","밤하늘을 수놓는 별들이 당신에게 응원의 빛을 전하고 있습니다."],pants_china:["중국중국 바지","중국 국기를 본따 만들어진 바지입니다."],cwd:["청와대","이렇게 된 이상……!"],$WPB:["고급 글자 조각","당신의 끄투 플레이에 이끌려 다가온 신비한 글자 조각입니다. 글자 조합소에서 이 조각의 기운을 이용해 보세요."],cuspidal:["송곳니 장식","송곳니 모양의 눈 장식으로 카리스마 있는 눈초리를 만들어 보세요."],sunglasses:["선글라스","따가운 햇빛을 피할 수 있는 고급 선글라스입니다."],b1_ds:["디자인부의 휘장","일해라 디자인부!"],"31jeol":["3.1절 태극기","대한독립 만세!"],dizzy_rainbow:["어질어질 무지개","어지러운 무지개 배경입니다."],glasses_acc:["안경","모레미에게 잘 어울리는 안경입니다.<br><del>운영자가 만든 건 안비밀!</del>"],pink_name:["분홍 이름","이름을 <label class='x-pink_name'>예쁜 분홍색</label>으로 칠합니다."],boxB3:["고급 휘장 상자","고급 휘장 3종 중 하나가 담긴 상자입니다. 안에는 무엇이 들어 있을까요?"],black_mask:["검은 복면","거멓고 음침한 분위기의 복면입니다. 이 복면을 장착하면 누구도 당신을 막을 순 없을 겁니다."],close_eye:["감은 눈","눈이 편안해 집니다."],lazy_eye:["게으른 눈","만사가 귀찮은 모레미가 됩니다."],bigeye:["서클렌즈","모레미의 눈 반지름을 약 3픽셀 올려주는 서클렌즈입니다."],tile:["타일","네모 타일로 이루어진 벽입니다."],melon_ice:["멜론 아이스","더위를 날려 줄 상큼한 멜론 맛 아이스크림입니다."],red_name:["붉은 이름","이름을 <label class='x-red_name'>정열의 붉은색</label>으로 칠합니다."],transparent:["투명 배경","초보자들의 필수품! 투명 배경입니다."],t_pink:["분홍색 휘장",'모레미를 꾸며 주는 <font color="pink">분홍색</font> 휘장입니다.'],t_orange:["주황색 휘장",'모레미를 꾸며 주는 <font color="orange">주황색</font> 휘장입니다.'],exp_cr:["최고급 경험치 물약","사용하면 경험치 14000을 얻을 수 있습니다."],pants_pkt:["분홍끄투 바지","언제나 즐거운 분홍끄투!"],sglass_acc:["선글라스","따가운 햇빛을 피할 수 있는 고급 선글라스입니다."],double_brows:["눈썹 두 가닥","눈썹이 하나 늘었다! 예쁜 눈썹 두 가닥으로 예쁜 모레미를 만들어 보세요."],"100up":["초보용 레벨업 물약",'사용하면 바로 150레벨이 되는 물약입니다.<br><font color="orange">150레벨 이상일 경우 아무런 효과를 받을 수 없습니다.</font>'],orange_headphone:["주황 헤드폰","잘나가는 인기 모레미의 필수 아이템입니다. 이 헤드폰을 장착하고 진지 모드에 돌입해 보세요."],bg_mountain:["산 배경","푸른 하늘 아래 있는 산 배경입니다."],boxB2:["희귀 휘장 상자","희귀한 휘장 2종 중 하나가 담긴 상자입니다. 안에는 무엇이 들어 있을까요?"],laugh:["웃으며 말해요","웃음을 깨뜨리는 녀석들이 있어도 끄투에서는 서로 웃으며 말해요!"],rainbow_name:["무지개 이름","이름을 <label class='x-rainbow_name'>무지개</label>로 칠합니다. "],b2_fire:["불꽃같이 날아오르는 휘장","화염에 휩싸여 하늘 저편으로 자유롭게 날아오르는 모습을 본따 만들어진 보기 드문 휘장입니다."],muremi:["무레미","무로 변신한 모레미입니다."],t_rainbow:["무지개색 휘장",'모레미를 꾸며 주는 <font color="red">무</font><font color="orange">지</font><font color="#50BCDF">개</font>색 휘장입니다.'],water:["물옷","편안하게 목욕을 즐기기 위해 물 속으로 들어간 모레미입니다."],blackbere:["검은 베레모","정말 검은 베레모입니다. 특정 계층이 많이 찾는다고 합니다."],inverteye:["반전 눈","모레미의 눈 색깔이 바뀌면 어떻게 될까요? 바로 이렇게 됩니다."],happy_eye:["웃는 눈","우리 모두 즐겁게 끄투해요!"],b4_hongsi:["귤색 띠 휘장","정열의 주황빛 띠 모양의 휘장입니다."],bluecandy:["포도 막대 사탕","시컴 달달 커다란 포도 맛 막대 사탕입니다."],b4_bb:["블루베리 띠 휘장","부를 가져오는 푸른빛 띠 모양의 휘장입니다."],nemoremi:["네모레미","모레미가 네모가 되었다!"],exp_r:["고급 경험치 물약","사용하면 경험치 6000을 얻을 수 있습니다."],pink_vest:["분홍 조끼","매력적인 사다리꼴 조끼입니다. 모레미는 2D라 사다리꼴을 입을 수 있습니다."],exp_n:["일반 경험치 물약","사용하면 경험치 200을 얻을 수 있습니다."],glasses:["안경 (되팔기)",'되팔기를 하고 "눈 장식" 카테고리의 안경을 구입해주세요.'],b4_mint:["민트 띠 휘장","조화로운 초록빛 띠 모양의 휘장입니다."],brown_oxford:["갈색 옥스포드화","옥스포드 대학생이 신는다고 하는 정갈한 갈색 단화입니다. 옥스포드 대학생의 부가 느껴집니다."],b1_lv500:["500레벨의 휘장","500레벨이다!"],t_blue:["하늘색 휘장",'모레미를 꾸며 주는 <font color="blue">하늘색</font> 휘장입니다.'],exp_l:["전설 경험치 물약","사용하면 경험치 200000을 얻을 수 있습니다."],twoeight:["2:8 가르마","고상한 멋이 느껴집니다. 왠지 잘난 척 잘할 것 같이 생겼습니다."],white_mask:["하얀 복면","하얗고도 음침한 분위기의 복면입니다. 이 복면을 장착하고 점수를 다 쓸어담아 보세요."],b3_do:["도전의 ㄷ 휘장","어휘력 탑을 향해 도전하는 열정을 본따 만들어진 멋진 휘장입니다."],t_red:["빨간색 휘장",'모레미를 꾸며 주는 <font color="red">빨간색</font> 휘장입니다.'],loosesocks:["루즈삭스","모레미는 다리가 짧아서 어떤 양말이든 루즈삭스가 됩니다."],lemoncandy:["레몬 막대 사탕","상큼 발랄 커다란 레몬 맛 막대 사탕입니다."],blackrobe:["검은 로브","큭큭… 나에게 어둠이 찾아왔도다……."],orange_vest:["귤색 조끼","상큼한 사다리꼴 조끼입니다. 모레미는 2D라 사다리꼴을 입을 수 있습니다."],t_green:["연두색 휘장",'모레미를 꾸며 주는 <font color="green">연두색</font> 휘장입니다.'],robotskin:["끄투 봇","끄투 봇과의 대결도 자신있어지는 스킨입니다."],medal:["금메달","1등의 증표 금메달입니다. 과연 무엇의 1등일까요?"],scouter:["스카우터","상대의 끄투 실력을 확인할 수 있을 것만 같은 장치입니다."],rio_seonghwa:["리우 성화","2016 리우데자네이루 올림픽을 기념하는 성화입니다. 성화의 묘한 기운이 당신을 응원합니다."],mustache:["콧수염","신사적인 플레이를 느껴보고 싶다면 중후한 매력이 넘치는 콧수염을 길러 보세요."],b1_lv360:["360레벨의 휘장","(전) 만렙 달성 축하드려요~"],circleremi:["동그레미","모레미가 동그래졌다!"],b1_lv750:["750레벨의 휘장","만렙이 되는 그날까지!"],miljip:["밀짚모자","누가 뭐래도 난 끄투 왕이 될 거야! 그의 기운이 느껴지는 모자입니다."],box_ping:["핑 상자",'사용 시 랜덤으로 핑을 획득합니다.<br><font color="orange">10만~20만 사이의 핑을 획득하실 수 있습니다.</font>'],exp_n3:["일반 경험치 물약 x3 (60%)","사용하면 60% 확률로 300 경험치를 얻을 수 있습니다."],$WPC:["글자 조각","당신의 끄투 플레이에 이끌려 다가온 신비한 글자 조각입니다. 글자 조합소에서 이 조각의 기운을 이용해 보세요."],$WPA:["희귀 글자 조각","당신의 끄투 플레이에 이끌려 다가온 신비한 글자 조각입니다. 글자 조합소에서 이 조각의 기운을 이용해 보세요."],b3_hwa:["조화의 ㅎ 휘장","힘을 조리있게 사용하는 조화로움을 본따 만들어진 멋진 휘장입니다."],choco_ice:["초코 아이스","더위를 날려 줄 달콤한 초콜릿 맛 아이스크림입니다."],hongjo_s:["홍조","발그레한 모레미의 홍조입니다."],b1_master:["마스터의 휘장","만렙 축하드려요!"],hamster_G:["잿빛 햄스터 머리","ㅇㅅㅇ뀨!"],orange_name:["주황 이름","이름을 <label class='x-orange_name'>상큼한 주황색</label>으로 칠합니다."],t_yellow:["노란색 휘장",'모레미를 꾸며 주는 <font color="yellow">노란색</font> 휘장입니다.'],nekomimi:["고양이 귀","모레미도 귀가 있다면 분명 이렇게 생겼을 겁니다. 핑을 부르는 앙증맞은 모레미를 만들어 보세요."],pants_korea:["한국한국 바지","대한민국 국기를 본따 만들어진 바지입니다."],lever:["레버","딸깍... 딸깍..."],darkblack:["어둠의 다크니스","그야말로 암흑의 벽지입니다."],b1_wd:["단어부의 휘장","일해라 단어부!"],bokjori:["복조리","2017 설날을 기념하는 복조리입니다. 새해 복 많이 받으세요!"],b1_gm:["운영자의 칭호","일해라 운영자!"],boxB4:["일반 휘장 상자","일반 휘장 3종 중 하나가 담긴 상자입니다. 안에는 무엇이 들어 있을까요?"],dictPage:["백과사전 낱장","백과사전에서 떨어져 나온 종이 한 장입니다. 사용하면 약간의 경험치를 획득합니다."],exp_e:["희귀 경험치 물약","사용하면 경험치 80000을 얻을 수 있습니다."],pink3dan:["분홍색 배경","분홍분홍한 분홍색 배경입니다."],decayed_mouth:["썩은 미소","이 미소를 지으면서 '훗, 나는 너보다 끄투를 잘 하지.'와 같은 대사를 날려 보세요."],sqpants:["네모 바지","글자 친구 모레미에게 멋진 네모 바지를 입혀 보세요."],b1_lv200:["200레벨의 휘장","분홍끄투와 계속 함께해요!"],b1_manlep:["450레벨의 휘장","만렙이 얼마 남지 않았어요!"],exp_up:["레벨업 물약",'사용하면 바로 레벨업합니다.<br><font color="orange">단, 만렙 / 전설★의 경우 100만 경험치를 획득합니다.</font><br><br><b>계정당 1회 구입가능</b>'],title:"언제나 즐거운 분홍끄투!",version:"2.5.3",meta_desc:"온라인 끝말잇기, 앞말잇기, 자음퀴즈, 십자말풀이, 타자 대결까지! 끄투에서 어휘력의 제왕이 되어 보세요.",meta_keys:"끄투,kkutu,끝말잇기,온라인,웹,쿵쿵따,영어끝말잇기,영어쿵쿵따,시리토리,끝말잇기사이트,자음퀴즈,초성퀴즈,자퀴,십자말풀이,가로세로,타자,타자연습,앞말잇기",gameStart:"게임 시작!",serverList:"서버 목록",serverRefresh:"서버 목록을 다시 불러옵니다.",serverWait:"잠시 기다려 주세요.",server_0:"분홍",server_1:"꽃",server_2:"새싹",server_3:"레몬",server_4:"망고",server_5:"보리",server_6:"상추",server_7:"아욱",server_8:"자두",server_9:"참외",server_10:"커피",server_11:"토란",server_12:"포도",server_13:"호박",server_14:"꽈리",server_15:"딸기",server_16:"뽕잎",server_17:"쑥갓",server_18:"찔레",server_19:"고구마",serverEnter:"접속",websocketUnsupport:"본 게임은 Internet Explorer(10), 크롬(16), 파이어폭스(11), 오페라(12.1), 사파리(6) 이상의 버전에서 지원합니다!<br>브라우저를 업데이트해 주세요.",dictionarySupport:"사전 정보 제공:<a href='http://wordnet.princeton.edu' target='_blank'>WordNet</a><br><label style='color: #777777;'>WordNet 3.0 Copyright 2006 by Princeton University. All rights reserved.</label>",sandbox:"샌드박스 :: SDBX",youtube:"분홍꽃 유튜브",youtubs:"분홍꽃 유튜브",etcSupport:"도움:<a href='http://cafe.naver.com/sdbx' target='_blank'>샌드박스 :: SDBX</a>",nickSet:"분홍끄투에 오신 것을 환영합니다!<br>서버에 접속하기 전, 닉네임을 설정해 주세요!<br>(1~12글자, 특수문자 등 사용 불가)",nickLong:"닉네임은 12글자 이하로 설정해 주세요.",nickWrong:"닉네임 설정이 잘못되었습니다.<br>닉네임을 다시 설정해 주세요!",nickDone:"닉네임 설정이 완료되었습니다!",welcome:"환영합니다.",welcomeTestServer:"테스트 서버에 접속했습니다. 본 서버는 특별한 공지 없이 폭발하거나 닫힐 수 있습니다.",loadRemain:"불러오는 중... 앞으로 ",closed:"서버와의 연결이 종료되었습니다.",error:"연결 중 문제가 발생했습니다!",error_full:"서버 제한 인원을 초과했습니다... 잠시 후 접속해 주세요!!!",error_400:"잘못된 접근입니다.",error_401:"손님 계정은 게임 관전만 가능합니다.\n우측 상단의 로그인 단추를 눌러 로그인해 보세요!",error_402:"손님 계정은 한 채널당 최대 5명만 접속 가능합니다.\n우측 상단의 로그인 단추를 눌러 로그인해 보세요!",error_403:"비밀번호가 틀렸습니다.",error_404:"입장 가능한 방을 찾을 수 없습니다. 새 방을 생성합니까?",error_405:"해당 사용자를 찾을 수 없습니다.",error_406:"강제 퇴장된 방에 다시 입장할 수 없습니다.",error_407:"핑이 부족합니다.",error_408:"다른 곳에서 해당 계정으로 접속하여 이 곳의 연결이 종료되었습니다.",error_409:"해당 계정은 이미 접속 중에 있습니다.",error_410:"관리자에 의해 게임에서 제외되었습니다.",error_411:"혼자서는 게임을 시작할 수 없습니다.\n혼자 게임을 즐기고 싶으시다면 [연습]을 클릭하거나 [초대]의 [AI 초대] 기능을 이용해 주세요.",error_412:"모든 플레이어가 준비 상태여야 합니다.",error_413:"적어도 하나의 주제를 선택해야 합니다.",error_414:"부적절한 주제가 감지되었습니다. 주제를 다시 선택해 주세요.",error_415:"이 게임 유형은 끄투 봇이 참여할 수 없습니다.",error_416:"해당 방은 이미 게임 중입니다.\n방에 입장하여 게임을 관전할까요?",error_417:"해당 계정이 로비에 존재하지 않습니다.",error_418:"팀 구성이 잘못되었습니다.",error_419:"해당 사용자가 이미 초대 요청을 받았습니다.",error_421:"프로필 관리는 로그인 후 이용하실 수 있습니다.\n우측 상단의 로그인 단추를 눌러 로그인해 보세요!",error_422:"손님 계정은 초대할 수 없습니다.",error_423:"상점은 로그인 후 이용하실 수 있습니다.\n우측 상단의 로그인 단추를 눌러 로그인해 보세요!",error_424:"해당 사용자가 끄투에 접속하지 않았거나\n이 서버에 접속해 있지 않습니다.\n(이름에 공백이 있다면 공백을 빼고 입력해 주세요.)\n\n사용자: ",error_425:"답장할 상대가 없습니다.",error_426:"장착 중인 항목은 되팔 수 없습니다.",error_427:"항목의 사용 기한이 지났습니다.",error_428:"옵저버는 게임이 끝나면 자동으로 방에서 퇴장합니다.",error_429:"해당 방이 꽉 찼습니다.",error_430:"존재하지 않는 항목입니다.",error_431:"방 구성이 잘못되었습니다.",error_432:"방 구성이 잘못되었습니다. 플레이어 수를 다시 설정해 주세요.",error_433:"방 구성이 잘못되었습니다. 라운드 수를 다시 설정해 주세요.",error_434:"더 이상 사용할 수 없습니다.",error_435:"글자 조각은 한번에 최대 7개까지 조합할 수 있습니다.",error_436:"사전에 등재된 단어로만 조합할 수 있습니다.",error_437:"3 라운드 연속으로 턴을 넘기지 않아 방에서 퇴장되었습니다.",error_438:"게임 중에는 이용할 수 없습니다.",error_440:"손님, 본인 확인이 되지 않은 회원 및 만 16세 미만의 청소년은 오전 0시부터 오전 6시까지 게임 이용이 제한됩니다.",error_441:"회원님의 생년월일 정보를 읽을 수 없습니다. 로그인된 계정의 생년월일 정보가 공개되어 있는지 확인하신 뒤 끄투에서 다시 로그인해 보세요. 본인 확인이 끝나면 생년월일 정보를 숨겨도 됩니다.",error_442:"5분 이상 응답이 없어 서버와의 연결이 종료되었습니다.",error_443:"관리자에 의해 해당 계정으로의 채팅 이용이 제한되었습니다.",error_444:"관리자에 의해 해당 계정으로의 게임 이용이 제한되었습니다.\n제한 사유: ",error_445:"본인 확인에 성공했습니다. 끄투를 이용해 주셔서 감사합니다.",error_450:"해당 사용자가 끄투에 접속하지 않았거나\n이 서버에 접속해 있지 않습니다.",error_451:"커뮤니티 기능은 로그인 후 이용하실 수 있습니다.\n우측 상단의 로그인 단추를 눌러 로그인해 보세요!",error_452:"더 이상 친구를 추가할 수 없습니다.",error_453:"손님 계정을 친구로 추가할 수 없습니다.",error_454:"친구 추가 요청에 대한 응답을 기다리고 있습니다.",error_455:"접속해 있지 않은 친구만 삭제할 수 있습니다.",error_500:"서버 점검 혹은 업데이트가 진행 중입니다.",error_555:"공사 중입니다! ㅠㅠ",error_581:"이미 있는 닉네임입니다.",error_642:"신고는 로그인 후 가능합니다.\n우측 상단의 로그인 단추를 눌러 로그인해 보세요!",error_665:"접속 보상으로 5,000 경험치가 지급되었습니다.",error_666:"접속 보상으로 50,000 경험치가 지급되었습니다. 축하해요!",error_667:"접속 보상으로 500핑이 지급되었습니다.",error_668:"접속 보상으로 2,000핑이 지급되었습니다.",error_669:"접속 보상으로 10,000핑이 지급되었습니다.",error_670:"접속 보상으로 25,000핑이 지급되었습니다. 축하해요!",error_671:"접속 보상으로 50,000핑이 지급되었습니다. 축하합니다!!",error_672:"접속 보상으로 100,000핑이 지급되었습니다. 축하합니다!!",error_673:"접속 보상으로 <del>500</del> → 1,000핑이 지급되었습니다.",error_674:"접속 보상으로 <del>2,000</del> → 4,000핑이 지급되었습니다.",error_675:"접속 보상으로 <del>10,000</del> → 20,000핑이 지급되었습니다.",error_676:"접속 보상으로 <del>25,000</del> → 50,000핑이 지급되었습니다. 축하해요!",error_677:"접속 보상으로 <del>50,000</del> → 100,000핑이 지급되었습니다. 축하합니다!!",error_678:"접속 보상으로 <del>100,000</del> → 200,000핑이 지급되었습니다. 축하합니다!!",error_679:"접속 보상으로 1,000경험치가 지급되었습니다.",error_680:"접속 보상으로 5,000경험치가 지급되었습니다.",error_681:"접속 보상으로 10,000경험치가 지급되었습니다.",error_682:"접속 보상으로 50,000경험치가 지급되었습니다. 축하해요!",error_683:"접속 보상으로 100,000경험치가 지급되었습니다. 축하합니다!!",error_684:"접속 보상으로 300,000경험치가 지급되었습니다. 축하합니다!!",error_685:"접속 보상으로 <del>1,000</del> → 2,000경험치가 지급되었습니다.",error_686:"접속 보상으로 <del>5,000</del> → 10,000경험치가 지급되었습니다.",error_687:"접속 보상으로 <del>10,000</del> → 20,000경험치가 지급되었습니다.",error_688:"접속 보상으로 <del>50,000</del> → 100,000경험치가 지급되었습니다. 축하해요!",error_689:"접속 보상으로 <del>100,000</del> → 200,000경험치가 지급되었습니다. 축하합니다!!",error_690:"접속 보상으로 <del>300,000</del> → 600,000경험치가 지급되었습니다. 축하합니다!!",error_695:"주말에는 접속 보상 x4!",error_705:"디자인/단어부 보상으로 500핑이 지급되었습니다.",error_706:"디자인/단어부 보상으로 1000경험치가 지급되었습니다.",error_754:"분홍끄투를 이용해주셔서 감사합니다! 접속보상 x2!",error_868:"처리가 불가능한 문자가 포함되어 있습니다.",error_878:"계정당 1회만 구입 가능한 상품입니다.",error_985:"관리자에 의해 로비 채팅이 비활성화 되었습니다.",error_987:"운영정책 위반으로 서버와의 접속이 종료되었습니다.",turnError_402:"첫 턴 한방 금지",turnError_403:"한방 단어",turnError_405:"외래어",turnError_406:"깐깐!",turnError_407:"다른 주제",turnError_409:"이미 쓰인 단어",turnError_410:"금지된 문자가 있음!",turnError_413:"배려!",turnError_456:"한방 / 공격 단어!",checkAgeAsk:"끄투에서는 본인 확인을 위해 생년월일을 입력받고 있습니다. 입력된 생년월일은 본인 확인 및 내부 정보 처리에만 이용되며 제3자에게 공개되지 않습니다.\n본인 확인을 진행합니까?",checkAgeNo:"입력 값이 올바르지 않습니다. 다시 확인해 주세요.",checkAgeInput1:"생년월일 중 연도를 입력해 주세요. (4자리)",checkAgeInput2:"생년월일 중 월을 입력해 주세요. (1~12 중)",checkAgeInput3:"생년월일 중 일을 입력해 주세요. (1~31 중)",checkAgeSure:"아래 입력한 생년월일이 맞습니까? 입력된 생년월일은 본인 확인 및 내부 정보 처리에만 이용되며 제3자에게 공개되지 않습니다.",CharCheck:"처리가 불가능한 문자가 포함되어 있습니다.",checkAgeCancel:"본인 확인을 취소하고 미루겠습니까?",UserList:"FA{users}접속자 목록",RoomList:"FA{bars}방 목록",JyeongR:"FA{list-ul}정렬",Shop:"FA{shopping-bag}상점",Chat:"FA{comment}채팅",Jyrl:"FA{bars} 정렬",Room:"방",Game:"게임",Me:"FA{user}내 정보",globalWin:"통산",whisper:"귓속말",handover:"방장 인계",sureHandover:"정말 방장을 인계합니까?",connectToRoom:"방과 연결하는 중...",ctrCancel:"연결 취소",linkWarning:"링크를 클릭하셨습니다. 해당 링크로 이동하는 것으로 발생하는 피해는 본 서비스에서 책임지지 않습니다. 계속합니까?",trollWarning:"두 번 연속 턴을 넘기지 못했습니다. 세 번째로 턴을 넘기지 못하는 경우 방에서 퇴장하게 됩니다.",changeServer:"서버 이동",friend:"친구",fstat_on:"님이 접속했습니다.",fstat_off:"님이 접속을 종료했습니다.",tip_1:"리턴을 넣으면 경험치, 핑 배율이 대폭 감소합니다.",tip_2:"시간 무제한을 넣으면 착용 아이템의 분당 경험치, 핑을 제외한 경험치, 핑을 획득할 수 없습니다.",tip_3:"분홍끄투는 2020.1.11에 오픈되었습니다.",tip_4:'특수규칙 "핵"을 넣으면 핵이나 매크로 프로그램을 사용할 수 있습니다.',teamSolo:"개인",guest:"회원",roomTitle:"방 제목",roomDefault:"님의 방",password:"비밀번호",userLimit:"플레이어 수",gameMode:"게임 유형",mcKorean:"한국어",mcEnglish:"영어",mcOthers:"기타",modeEKT:"영어 끄투",modeESH:"영어 끝말잇기",modeKKT:"한국어 쿵쿵따",modeKMT:"한국어 끄투",modeKSH:"한국어 끝말잇기",modeCSQ:"자음퀴즈",modeKAW:"한국어 자유",modeKCW:"한국어 십자말풀이",modeKTY:"한국어 타자 대결",modeETY:"영어 타자 대결",modeKAP:"한국어 앞말잇기",modeHUN:"훈민정음",modeKDA:"한국어 단어 대결",modeEDA:"영어 단어 대결",modeKSS:"한국어 솎솎",modeESS:"영어 솎솎",modeKAD:"한국어 단어 전체",modeEAD:"영어 단어 전체",modeEAW:"영어 자유",modeKEA:"단어 전체",modeEKD:"영어 쿵쿵따",modeKDG:"한국어 그림 퀴즈",modeEDG:"영어 그림 퀴즈",modeEAP:"영어 앞말잇기",modeEJH:"영어 자유 끝말잇기",modeKJH:"한국어 자유 끝말잇기",modeKGT:"한국어 가운뎃말잇기",modeEGT:"영어 가운뎃말잇기",modeSYG:"369 게임",modex0:"끝 두/세 자리로 시작하는 영어 어휘로 잇습니다.<br>ap<u>ple</u> → <u>ple</u>a<u>se</u> → <u>se</u>cret",modex1:"끝 한 자리로 시작하는 영어 어휘로 잇습니다.<br>appl<u>e</u> → <u>e</u>lephan<u>t</u> → <u>t</u>ime",modex2:"끝 한 자리로 시작하는 세 글자의 한국어 어휘로 잇습니다.<br>강아<u>지</u> → <u>지</u>렁<u>이</u> → <u>이</u>발소",modex3:"끝 한 자리로 시작하는 한국어 어휘로 잇습니다.<br>그<u>물</u> → <u>물</u>레방<u>아</u> → <u>아</u>저씨",modex4:"주어진 주제와 초성만 가지고 어떤 단어인지 유추합니다.",modex5:"십자 모양의 빈 칸에 들어갈 알맞은 한국어 단어를 유추합니다.",modex6:"주어진 한국어 단어를 최대한 빠르게 입력합니다.",modex7:"주어진 영어 단어를 최대한 빠르게 입력합니다.",modex8:"앞 한 자리로 끝나는 한국어 어휘로 잇습니다.<br><u>고</u>구마 → <u>이</u>실직<u>고</u> → 맏<u>이</u>",modex9:"주어진 초성에 맞는 한국어 어휘를 댑니다.",modex10:"주어진 주제에 맞는 한국어 어휘를 댑니다.",modex11:"주어진 주제에 맞는 영어 어휘를 댑니다.",modex12:"무작위로 섞인 글자들 속에서 한국어 단어를 솎아 냅니다.",modex13:"무작위로 섞인 글자들 속에서 영어 단어를 솎아 냅니다.",modex14:"한국어에 있는 모든 단어 중 아무 단어나 입력합니다.",modex15:"영어에 있는 모든 단어 중 아무 단어나 입력합니다.",modex16:"한국어로 아무 글자나 입력합니다.",modex17:"영어로 아무 글자나 입력합니다.",modex18:"끝 두/세 자리로 시작하는 한국어 어휘로 잇습니다.<br>이상한나라의앨<u>리스</u> → <u>리스</u><u>항구</u> → <u>항구</u>도시",modex19:"존재하는 단어 중 한 / 영 상관 없이 아무 단어나 입력합니다.",modex20:"끝 한 자리로 시작하는 세 글자의 영어 어휘로 잇습니다.<br>an<u>i</u> → <u>i</u>c<u>e</u> → <u>e</u>ft",modex21:"한글로 된 2자 ~ 10자의 단어를 그림으로 설명하고 맞춥니다. <b>경고: 모바일은 정상플레이 불가</b>",modex22:"영어로 된 4자 ~ 16자의 단어를 그림으로 설명하고 맞춥니다. <b>경고: 모바일은 정상플레이 불가</b>",modex23:"앞 한 자리로 끝나는 영어 어휘로 잇습니다.<br><u>e</u>ast → <u>c</u>abbag<u>e</u>",modex24:"끝 한 자리로 시작하는 아무 말로 잇습니다.",modex25:"끝 한 자리로 시작하는 아무 말로 잇습니다.",modex26:"가운뎃 말로 시작하는 한국어 어휘로 잇습니다.<br><b>글자 수가 짝수일 경우 가운데 2글자 중 랜덤으로 선택</b>",numRound:"라운드 수",roundTime:"라운드 시간",players:"참여자",rounds:"라운드",subJamsu:"모든 참여자가 준비했습니다. 30초 이내에 게임을 시작하지 않으면 자동으로 방에서 나가게 됩니다.",masterJamsu:"모든 참여자가 준비했으나 게임을 시작하지 않아 방에서 퇴장되었습니다.",join:"입장",hasJoined:"님이 입장했습니다.",hasLeft:"님이 퇴장했습니다.",hasMaster:"님으로 방장이 바뀌었습니다.",hasModified:"방 설정이 바뀌었습니다.",hasKicked:"방에서 강제 퇴장되었습니다.",yourTurn:"당신의 차례!",inputChat:"아래의 채팅 창에서 입력하세요.",inputHere:"여기에 입력하세요.",putPassword:"비밀번호를 입력하세요.",stat_ready:"준비",stat_noready:"대기",stat_spectate:"관전",stat_practice:"연습",pform_J:"참여",pform_S:"관전",pform_O:"옵저버",gameLoading:"게임 정보를 불러오고 있습니다.",master:"방장",soon:"잠시 후 게임이 시작됩니다!",roundEnd:"게임 끝!",sureExit:"게임을 중단하고 퇴장합니까?",exitBlocked:"방에 중퇴금지 옵션이 있어 퇴장할 수 없습니다.",misc:"특수 규칙",optManner:"매너",explManner:"한방 단어를 사용할 수 없게 합니다.",optInjeong:"어인정",explInjeong:"특수한 단어의 사용을 인정합니다.",optMission:"미션",explMission:"특정 글자를 포함시킨 단어로 이으면 추가 점수를 얻습니다.",explInjeongListTitle:"사용 가능한 단어 그룹",optLoanword:"우리말",explLoanword:"외래어를 사용할 수 없게 합니다.",optProverb:"속담",explProverb:"화면에 낱말 대신 한 문장씩 나타납니다.",optStrict:"깐깐",explStrict:"방언, 옛말, 북한말을 제외한 명사 단어만 입력할 수 있습니다.",optReturn:"리턴",explReturn:"사용했던 단어를 다시 사용할 수 있습니다.",optProtect:"보호",explProtect:"한방 단어로 공격을 당할 경우 점수가 깎이지 않습니다.",optInftime:"시간 무제한",explInftime:"라운드 시간이 흐르지 않습니다.",optExitblock:"중퇴 금지",explExitblock:"중도 퇴장을 금지합니다.",optDongsa:"특수 단어",explDongsa:"동사 / 형용사 등의 품사의 단어를 사용 가능하게 합니다.",optSpacewd:"띄어쓰기",explSpacewd:"띄어쓰기가 있는 어휘를 사용 가능하게 합니다.",optSpecwd:"특수문자",explSpecwd:"특수문자가 있는 어휘를 사용 가능하게 합니다.",optScboost:"점수 증가",explScboost:"경험치 배율이 대폭 감소하는 대신 획득하는 점수가 대폭 증가합니다.",optNojmoon:"장문 금지",optSami:"3232",explSami:"세 글자 단어와 두 글자 단어를 번갈아가며 잇습니다.",optVblock:"지진 끄기",explVblock:"지진 효과를 끕니다.",optNo2:"2글자 금지",explNo2:"두 글자 단어의 사용을 막습니다.",optSblt:"봇 초보",explSblt:"봇이 장문을 치지 못하게 합니다.",optSbl1:"봇 1자",explSbl1:"봇이 1글자만 치게 합니다.",optSbsg:"봇 사기",explSbsg:"봇의 단어의 길이가 매우 길어집니다.",optSbhk:"봇 핵",explSbhk:"봇의 단어의 길이가 엄청나게 길어집니다. / 렉 주의",optConsider:"배려",explConsider:"이을 수 있는 단어가 3개 이하인 단어를 사용하지 못하게 합니다.",optUnlimited:"무제한",explUnlimited:"그림퀴즈에서 나오는 단어의 길이의 제한을 없앱니다.",optShort:"짧음",explShort:"그림퀴즈에서 나오는 단어의 길이를 최대 4글자로 정합니다.",optHack:"핵",explHack:"해당 모드 사용 시 핵 / 매크로를 사용이 가능합니다. 단, 글자 조각, 경험치, 핑 등을 모두 획득할 수 없습니다.",optDeclag:"렉 방지",explDeclag:"게임 중에 발생하는 점수 획득 효과, 미션 효과 등을 모두 비활성화하여 렉을 최소화합니다.",optRrlanner:"매너",explRrlanner:"숫자, 영문, 한글로 끝나지 않는 단어를 사용할 수 없게 합니다.",hidden:"(미공개)",pickInjeong:"주제 선택",explInjPick:"게임에서 사용할 주제를 선택하세요.",injpickAll:"모두 설정",injpickNo:"모두 해제",cwHorz:"가로 ",cwVert:"세로 ",cwL:"글자",avg:"평균",afterRun:"초 후 다음 라운드",drawingLineWidth:"선 굵기",drawingColor:"색깔",drawingClear:"모두 지우기",wordis:"제시어: ",themeis:"주제: ",kpm:"<label style='font-size: 11px;'>타/분</label>",theme_IMS:"THE iDOLM@STER",theme_VOC:"VOCALOID",theme_KRR:"개구리 중사 케로로",theme_KTV:"국내 방송 프로그램",theme_NSK:"니세코이",theme_KOT:"대한민국 철도역",theme_DOT:"도타 2",theme_DRR:"듀라라라!!",theme_DGM:"디지몬",theme_RAG:"간식",theme_LVL:"러브 라이브!",theme_LOL:"리그 오브 레전드",theme_MRN:"마법소녀 리리컬 나노하",theme_MMM:"마법소녀 마도카☆마기카",theme_MAP:"메이플스토리",theme_MKK:"메카쿠시티 액터즈",theme_MNG:"모노가타리 시리즈",theme_MOB:"모바일 게임",theme_HYK:"빙과",theme_CYP:"사이퍼즈",theme_HRH:"스즈미야 하루히",theme_STA:"스타크래프트",theme_OIJ:"신조어",theme_KGR:"아지랑이 프로젝트",theme_ESB:"앙상블 스타즈!",theme_ELW:"엘소드",theme_OIM:"오레이모",theme_OVW:"오버워치",theme_NEX:"온라인 게임",theme_WMV:"외국 영화",theme_WOW:"월드 오브 워크래프트",theme_YRY:"유루유리",theme_KPO:"유명인",theme_JLN:"라이트 노벨",theme_JAN:"만화/애니메이션",theme_ZEL:"젤다의 전설",theme_POK:"포켓몬스터",theme_HAI:"하이큐!!",theme_HSS:"하스스톤",theme_KMV:"한국 영화",theme_HDC:"함대 컬렉션",theme_HOS:"히어로즈 오브 더 스톰",theme_PFL:"분홍꽃",theme_SBK:"소설",theme_MCP:"마인크래프트",theme_BUS:"버스 정류장",theme_CKR:"쿠키런",theme_KTR:"카트라이더",theme_COV:"쿠키런:오븐브레이크",theme_DBG:"동방 프로젝트",theme_WBT:"웹툰",theme_BRW:"브롤스타즈",theme_SCH:"학교",theme_JOB:"직업",theme_KPS:"한국 대중음악",theme_PRV:"속담",theme_KYT:"국내 유튜브 채널",theme_MPE:"마인크래프트 PE",theme_ONE:"원피스",theme_DOR:"도라에몽",theme_ZBH:"좀비고등학교",theme_CLY:"클래시 로얄",theme_MCM:"마블 코믹스",theme_BTR:"붕괴 3rd",theme_BSI:"기업",theme_MFF:"마피아 42",theme_ACV:"Age Of Civilizations II",theme_ARP:"공항",theme_KRD:"한국 라디오 프로그램",theme_JPT:"일본 철도역",theme_TSN:"369 게임",theme_NKT:"북한 철도역",theme_PBC:"냥코 대전쟁",theme_RTG:"리듬게임",theme_YKW:"요괴워치",flag_1:"외래어",flag_2:"어인정",flag_4:"본래 띄어쓰기가 있는 어휘",flag_8:"방언",flag_16:"옛말",flag_32:"문화어",class_1:"명",class_2:"대명",class_3:"수",class_4:"조",class_5:"동",class_6:"형",class_7:"관",class_8:"부",class_9:"감",class_10:"접",class_11:"의명",class_12:"조동",class_13:"조형",class_14:"어",class_15:"관·명",class_16:"수·관",class_17:"명·부",class_18:"감·명",class_19:"대·부",class_20:"대·감",class_21:"동·형",class_22:"관·감",class_23:"부·감",class_24:"의명·조",class_25:"수·관·명",class_26:"대·관",theme_e03:"★",theme_e05:"동물",theme_e08:"인체",theme_e10:"언어",theme_e12:"감정",theme_e13:"음식",theme_e15:"지명",theme_e18:"사람",theme_e20:"식물",theme_e43:"날씨",theme_e53:"물리",theme_10:"가톨릭",theme_20:"건설",theme_30:"경제",theme_40:"고적",theme_50:"고유",theme_60:"공업",theme_70:"광업",theme_80:"교육",theme_90:"교통",theme_100:"군사",theme_110:"기계",theme_120:"기독교",theme_130:"논리",theme_140:"농업",theme_150:"문학",theme_160:"물리",theme_170:"미술",theme_180:"민속",theme_190:"동물",theme_200:"법률",theme_210:"불교",theme_220:"사회",theme_230:"생물",theme_240:"수학",theme_250:"수산",theme_260:"수공",theme_270:"식물",theme_280:"심리",theme_290:"약학",theme_300:"언론",theme_310:"언어",theme_320:"역사",theme_330:"연영",theme_340:"예술",theme_350:"운동",theme_360:"음악",theme_370:"의학",theme_380:"인명",theme_390:"전기",theme_400:"정치",theme_410:"종교",theme_420:"지리",theme_430:"지명",theme_440:"책명",theme_450:"천문",theme_460:"철학",theme_470:"출판",theme_480:"통신",theme_490:"컴퓨터",theme_500:"한의학",theme_510:"항공",theme_520:"해양",theme_530:"화학",theme_1001:"나라 이름과 수도",jqTheme:"주제",enhance_201:"강화에 실패했습니다.",class_n:"명",class_a:"형",class_s:"형",class_v:"동",class_r:"부",class_vi:"자동",class_vt:"타동",class_p:"대명",class_int:"감",class_prep:"전",class_aux:"조동",gameResult:"게임 결과",scoreGain:"획득한 경험치",moneyGain:"획득한 핑",scoreOrigin:"기본 제공 경험치",moneyOrigin:"기본 제공 핑",bonusFrom_q:"아이템 장착 효과",bonusFrom_k:"오끄감 버프 효과",bonusFrom_z:"어린이날 효과",bonusFrom_r:"랜덤 지급 효과",bonusFrom_w:"운영자 버프 효과",bonusFrom_t:"핫타임 보너스",bonusFrom_u:"운영진 버프 효과",bonusFrom_e:"이벤트 효과",bonusFrom_j:"주말 효과",bonusFrom_l:"아이템 강화 효과",lvUp:"레벨 업!",ping:"핑",making:"공사 중입니다! ㅠㅠ",robot:"끄투 봇",null:"(정보 없음)",record:"전적",recper:"승률",kick:"강퇴",place:"위치",roomNumber:"번 방",lobby:"로비",recordScore:"총 경험치",sProfile:"님의 정보",sRoomInfo:"번 방의 정보",pAlert:"분홍끄투 안내",paOK:"확인",pfWelcome:"분홍끄투에 오신 것을 환영합니다!",kickVote:"강퇴 투표",kickVoteNotice:"시간 안에 응답하지 않을 경우 찬성으로 간주합니다.",agree:"찬성",disagree:"반대",sureKick:"정말 해당 사용자를 강퇴합니까?",kickVoting:"님의 강제 퇴장에 대한 투표가 진행 중입니다.",kickVoteText:"님의 강제 퇴장에 찬성합니까?",kicked:"님이 강제 퇴장되었습니다.",kickDenied:"님의 강제 퇴장에 대한 투표가 부결되었습니다.",causeMaster:"방장에 의해 ",inviteDenied:"님이 초대를 거절했습니다.",invited:"번 방으로부터 참여 요청을 받았습니다.<br>수락합니까?",guestExit:"관전을 재미있게 하셨나요?\n지금 우측 상단의 로그인 단추를 눌러 플레이해 보세요!",saveReplay:"경기 저장",obtained:"아이템을 획득했습니다",obtainExp:"경험치를 획득했습니다",obtainMoney:"핑을 획득했습니다",sureConsume:"정말 이 항목을 사용합니까?",reportSuccess:"정상적으로 신고되었습니다.",reportWriteR:"신고 사유를 입력 해 주세요.",dress:"프로필 관리",reportOK:"신고",report:"신고",reportElse:"기타",reportText:"신고하기",reportBadwords:"비정상적인 채팅 (욕설, 도배, 비하 발언, 성적 표현 등)",reportSaching:"사칭 행위 (관리 / 단어부 또는 운영자 사칭)",reportHacking:"핵 사용 (핵 모드를 사용하지 않고 핵 사용)",reportBadplay:"비정상 플레이 (버그 악용, 지나친 어뷰징 행위 등)",reportElseL:"기타 사유를 이곳에 자세히 입력해주세요.",myNickname:"닉네임 변경",
myNicknameX:"최대 12글자, 몇 가지 특수 문자 사용 불가",myExordial:"소개 한마디",myExordialX:"100글자 이내",myMoremi:"내 모레미",category_all:"전체",category_spec:"특수",category_skin:"스킨",category_badge:"휘장",category_head:"머리",category_eye:"눈",category_acc:"장식",category_eyeacc:"눈 장식",category_facc:"얼굴 장식",category_mouth:"입",category_clothes:"옷",category_hs:"손발",category_back:"배경",equipped:"<font style='color: #FFB861;'> (착용 중)</font>",sureEquip:"다음 항목을 착용합니다",sureUnequip:"다음 항목을 착용 해제합니다",dressWhichHand:"어떤 손에 장착합니까?",charFactory:"글자 조합소",cfCompose:"조합",cfTray:"글자 조각을 클릭하여 단어를 만들어 보세요.",cfBlend:"뜻이 없는 글자 조각 3개를 융합시킬 수 있습니다. 조합 단추를 누르면 융합이 진행됩니다.",cfReward:"조합 보상",cfRewAlways:"<b>확정!</b>",cfCost:"조합 비용",cfSureCompose:"정말 조합합니까? 조합 재료로 쓰인 글자 조각들은 모두 사라집니다.",cfComposed:"조합에 성공했습니다!",hasExpired:" 항목의 사용 기한이 다 되어 사라졌습니다.",profileWrong:"닉네임 설정이 잘못되었습니다. 닉네임을 다시 설정해 주세요.",profileChanged:"프로필 정보가 변경되었습니다. 새로고침 시 적용됩니다.",cmd_r:"(/r) 준비 단추를 누릅니다. 방장일 경우 시작 단추를 누릅니다.",cmd_exit:"(/ex, /exit) 나가기 단추를 누릅니다.",cmd_sp:"(/sp, /spec) 관전 단추를 누릅니다. 게임 중일 때는 사용이 불가능합니다.",cmd_cls:"(/cls) 채팅 창을 비웁니다.",cmd_f:"(/f) 최근 100개의 대화 기록을 담은 창을 띄웁니다.",cmd_e:"(/귓, /e <i>대상</i> <i>내용</i>) <i>대상</i>에게 귓속말을 보냅니다.",cmd_ee:"(/답, /ee <i>내용</i>) 가장 최근에 귓속말을 보낸 상대에게 귓속말을 보냅니다.",cmd_wb:"(/wb <i>대상</i>) 대상의 귓속말을 무시합니다. 무시된 상태에서 이 명령어를 다시 사용하면 무시가 해제됩니다.",cmd_shut:"(/shut <i>대상</i>) 대상의 모든 대화를 차단합니다. 차단된 상태에서 이 명령어를 다시 사용하면 차단이 해제됩니다.",cmd_id:"(/id <i>대상</i>) 대상의 식별 번호를 얻습니다.",cmd_rmv:"(/remove) 채팅 창과 채팅 기록을 모두 비웁니다.",myId:"내 식별 번호: ",send:"전송",help:"FA{question-circle}",helpText:"도움말",settings:"FA{wrench}",settingsText:"환경 설정",community:"FA{comments}",communityText:"친구",bulletin:"FA{bullhorn}&nbsp;알립니다",leaderboard:"FA{trophy}&nbsp;랭킹",onlyleaderboard:"FA{trophy}",onlymyeongboard:"FA{university}",onlyCom:"FA{users}",myeongboard:"FA{university}&nbsp;명예의 전당",pingboard:"FA{krw}&nbsp;핑 랭킹",nickname:"이름",spectate:"관전하기",mute:"음소거",bgm:"배경 음악",effect:"효과음",save:"저장",denyReq:"요청 거부",ingames:"게임 관련",etc:"기타",jangmoonDis:"장문 효과음 미사용",missionDis:"미션 효과음 미사용",yokFiltering:"욕설 필터링",reqExpShow:"필요 경험치로 표시",manExpShow:"만렙 퍼센트로 표시",decreaseLag:"렉 줄이기",denyInvite:"초대",sureInvite:"님을 초대합니까?",autoReady:"자동 준비",noNotice:"접속 시 공지사항 숨기기",sortUser:"접속자 목록 레벨 순 정렬",onlyWaiting:"대기 중인 방만 보기",onlyUnlock:"열려 있는 방만 보기",prevPage:"이전",myRank:"내 순위",nextPage:"다음",page:"페이지",attemptFriendAdd:"님의 친구 추가 요청을 받았습니다.<br>수락합니까?",friendEditMemo:"이 친구에 대한 메모를 설정합니다. (최고 50자)",friendAddRes_ok:"님과 친구가 되었습니다.",friendAddRes_no:"님이 친구 추가 요청을 거절했습니다.",friendAddNotice:"친구 추가 요청을 보낼 사용자의 식별 번호를 입력하세요.\n식별 번호는 명령어 /id를 이용하여 구할 수 있습니다.",friendAdd:"친구 추가",friendSureRemove:"이 친구를 정말 삭제합니까?<br>삭제하는 경우 상대방의 친구 목록에서도<br>회원님이 빠지게 됩니다.",newRoom:"방 만들기",setRoom:"방 설정",quickRoom:"빠른 입장",mac:"계정 이전",quickStatus:"해당 유형의 방 수:",quickQueue:"방 찾는 중...",exit:"나가기",ready:"준비",practice:"연습",start:"시작",shop:"상점",invite:"초대",inviteRobot:"AI 초대",dict:"사전",wordPlus:"단어 추가",chatLog:"대화 기록",notice:"알림",yell:"[공지]",dying:"현재 접속하신 채널에 문제가 발생하여 10초 후 접속이 종료됩니다. 이용에 불편을 드려 대단히 죄송합니다.",blocked:"과도한 메시지 전송으로 관련 기능을 잠시 이용할 수 없습니다.",wblocked:"님의 귓속말을 무시합니다.",wnblocked:"님의 귓속말을 듣습니다.",shut:"차단",userShut:"님의 모든 대화를 차단합니다.",userNShut:"님을 차단 해제합니다.",purchase:"구매",payback:"되팔기",paybackHelp:"Ctrl 키를 누른 상태에서 되팔 항목을 선택해 주세요.",surePayback:"정말 이 항목을 되팝니까? 되판 항목은 복구할 수 없습니다.\n예상 회수 핑: ",painback:"항목을 되팔았습니다.",pingBefore:"현재 핑",pingCost:"가격",pingAfter:"이후 핑",moremiAfter:"착용 모습",alreadyGot:"<b style='color: red;'>이미 보유한 상품인 것 같습니다.</b>",surePurchase:"이 항목을 구매합니까?",notEnoughMoney:"핑이 부족합니다.",shopSearch:"아이템 검색",purchased:"성공적으로 구매했습니다.\n구매한 상품은 화면 왼쪽 아래의\n[내 정보] > [프로필 관리] 단추를 눌러 \n확인할 수 있습니다.",okgExpl:"<h4><label style='color: #FFFF44;'>오늘도 끄투를 이용해 주셔서 감사합니다!</label></h4>끄투에서 사람들과 함께 게임 플레이 시간 5분을 달성할 때마다<br>경험치와 핑을 더욱 많이 얻을 수 있는 <label style='color: #FFFF44;'>오끄감 버프</label>를 획득할 수 있습니다!",okgNotice:"게임 플레이 시간 5분을 달성하여 오끄감 버프를 획득했습니다!",okgCurrent:"현재 오끄감 버프 중첩 (최대 18): ",okgExpired:"자정이 지나 오끄감 버프 중첩이 초기화되었습니다.",replay:"리플레이",replayDate:"기록 날짜",replayPlayers:"참가자",replayView:"보기",replayError:"올바른 끄투 리플레이 파일이 아닙니다.",replayPrev:"←",replayPause:"❚❚",replayResume:"▶",replayNext:"→",aiSetting:"AI 설정",selectLevel:"난이도","aiLevel-1":"구경꾼",aiLevel0:"왕초보",aiLevel1:"초보",aiLevel2:"적절",aiLevel3:"고수",aiLevel4:"사기",team:"팀",searching:"검색 중",injeongReq:"추가 요청",wpDesc1:"추가되기를 희망하는 단어를 입력하세요.",wpDesc2:"단어가 추가되면 경험치 보상을 획득합니다!",wpHere:"검색어",wpInput:"여기에 입력",wpReward:"결과",wpSuccess:"성공!",wpFail_400:"실패 - 잘못된 접근입니다.",wpFail_401:"실패 - 단어가 명사여야 합니다.",wpFail_402:"실패 - 로그인이 필요합니다.",wpFail_403:"실패 - 이미 신청된 단어입니다.",wpFail_404:"유효하지 않은 단어입니다.",wpFail_405:"실패 - 위키에 없는 단어입니다.",wpFail_406:"실패 - 신청 기준에 맞지 않는 단어입니다.",wpFail_409:"실패 - 이미 등록된 단어입니다.",wpFail_429:"실패 - 잠시 후 시도해 주세요."};var myst=!0,spamWarning=0,spamCount=0,slow=0,rslow={i:0,t:0},noPF=!1,noFunc=function(){},onnick=!1,en_info={item:"",ping:0,per:0};const per=[100,70,60,30,20,10,10,8.25,7.75,5,0],lis=[115,130,145,160,175,190,210,230,250,300,300],ex_pri=[2083,2087,2096,8443];var pfConfirm,preConfirm;preConfirm=function(a,b){b&&($("#pconfirm-content").html(a),showDialog($stage.dialog.pConfirm),$stage.dialog.pYes.click(function(){$stage.dialog.pConfirm.hide(),b(),pfConfirm=function(a){}}),$stage.dialog.pNo.click(function(){$stage.dialog.pConfirm.hide(),pfConfirm=function(a){}}))};var fnc=function(){},jnc=function(){},ync=function(){},nnc=function(){},lnc=function(){},rnc=function(){},inc=function(){},knc=function(){},eNotice=function(){rws&&notice($data.users[$data.id].nickname+L.hasJoined)},renderDict=function(a){if(addTimeout(function(){$("#dict-search").prop("disabled",!1)},500),a.error)return $("#dict-output").html(a.error+": "+L["wpFail_"+a.error]);$("#dict-output").html(processWord(a.word,a.mean,a.theme,a.type.split(",")))},nickset=function(){var a=$("#pinput-in").val();L.nickSet;null==a&&(pfAlert(L.nickWrong),updateMe()),a.length>12&&(pfAlert(L.nickWrong),updateMe()),""==a.replace(/\s/g,"")&&(pfAlert(L.nickWrong),updateMe()),void 0!=a&&null!=a&&""!=a||(pfAlert(L.nickWrong),updateMe()),/[^a-zA-Z가-힣0-9\s\-\_]/g.test(a)&&(pfAlert(L.nickWrong),updateMe())," "==a.substr(0,1)&&(pfAlert(L.nickWrong),updateMe())};delete window.WebSocket,delete window.setInterval;